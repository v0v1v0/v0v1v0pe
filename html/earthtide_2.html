<div class="container">

<table style="width: 100%;"><tr>
<td>calc_earthtide</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>earthtide</h2>

<h3>Description</h3>

<p>This is a wrapper to the Earthtide R6 class for the prediction
of Earth tides. This function is provided for users who would prefer a more
typical R function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calc_earthtide(
  utc,
  do_predict = TRUE,
  method = "gravity",
  latitude = 0,
  longitude = 0,
  elevation = 0,
  azimuth = 0,
  gravity = 0,
  earth_radius = 6378136.3,
  earth_eccen = 0.0066943979514,
  cutoff = 1e-06,
  wave_groups = NULL,
  catalog = "ksm04",
  eop = NULL,
  return_matrix = FALSE,
  scale = TRUE,
  n_thread = 1L,
  astro_update = 1L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>utc</code></td>
<td>
<p>The date-time in UTC (POSIXct vector).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do_predict</code></td>
<td>
<p>run in predict or analyze mode</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>One or more of "gravity",
"tidal_potential", "tidal_tilt", "vertical_displacement",
"horizontal_displacement", "n_s_displacement", "e_w_displacement",
"vertical_strain", "areal_strain", "volume_strain", "horizontal_strain",
or "ocean_tides", "pole_tide", "lod_tide". The pole tide and lod_tide
are used in predict mode even if do_predict is FALSE. More than one value
can only be used if do_predict == TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>latitude</code></td>
<td>
<p>The station latitude (numeric) defaults to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>longitude</code></td>
<td>
<p>The station longitude (numeric) defaults to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elevation</code></td>
<td>
<p>The station elevation (m) (numeric) defaults to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>azimuth</code></td>
<td>
<p>Earth azimuth (numeric) defaults to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gravity</code></td>
<td>
<p>Gravity at the station (m/s^2) (numeric) 0 to
estimate gravity from elevation and latitude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>earth_radius</code></td>
<td>
<p>Radius of earth (m) (numeric) defaults to 6378136.3</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>earth_eccen</code></td>
<td>
<p>Eccentricity of earth (numeric)
defaults to 6.69439795140e-3</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>Cutoff amplitude for constituents (numeric)
defaults to 1e-6.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wave_groups</code></td>
<td>
<p>Two column data.frame having start and end of
frequency groups (data.frame). This data.frame must have two columns
with the names 'start', and 'end' signifying the start and end of the
wave groupings.  An optional third column 'multiplier' can be provided
to scale the particular wave group.  If column names do no match, the
inferred column positions are start, end, multiplier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>catalog</code></td>
<td>
<p>Use the "hw95s" catalog or "ksm04" catalog (character).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eop</code></td>
<td>
<p>User defined Earth Orientation Parameter (EOP) data.frame with the
following columns: datetime, ddt, ut1_utc, lod, x, y, dx, dy</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_matrix</code></td>
<td>
<p>Return a matrix of tidal values instead of data.frame.
The datetime column will not be present in this case (logical).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Scale results when do_predict is FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_thread</code></td>
<td>
<p>Number of threads to use for parallel processing (integer).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>astro_update</code></td>
<td>
<p>How often to update astro parameters in number of
samples. This speeds up code but may make it slightly less accurate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Currently not used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data.frame or matrix of tidal results
</p>


<h3>Examples</h3>

<pre><code class="language-R">tms &lt;- as.POSIXct("1990-01-01", tz = "UTC") + c(0, 3600)
wave_groups &lt;- data.frame(start = 0, end = 8, multiplier = 1.5)

et &lt;- calc_earthtide(
  utc = tms,
  do_predict = TRUE,
  method = c("tidal_potential", "lod_tide", "pole_tide"),
  latitude = 52.3868,
  longitude = 9.7144,
  elevation = 110,
  gravity = 9.8127,
  cutoff = 1.0e-5,
  catalog = "ksm04",
  wave_groups = wave_groups,
  n_thread = 1
)
</code></pre>


</div>