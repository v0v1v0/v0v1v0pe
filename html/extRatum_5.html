<div class="container">

<table style="width: 100%;"><tr>
<td>point_calc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Point data calculation</h2>

<h3>Description</h3>

<p>Computes three different summary statistics:
(1) <code>TotalArea</code> total area of each polygon;
(2) <code>NoPoints</code> number of multipoint objects within a given polygon; and,
(3) <code>Ratio</code> ratio between <code>NoPoints</code> and <code>TotalArea</code> covered within a polygon.
</p>


<h3>Usage</h3>

<pre><code class="language-R">point_calc(
  point_data,
  higher_geo_lay,
  unique_id_code,
  class_col,
  crs,
  total_points = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>point_data</code></td>
<td>
<p>multipoint object of class <code>sf</code>, <code>sfc</code> or <code>sfg</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>higher_geo_lay</code></td>
<td>
<p>multipolygon object of class <code>sf</code>, <code>sfc</code> or <code>sfg</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique_id_code</code></td>
<td>
<p>a string; indicating a unique ID column of <code>higher_geo_lay</code>,
used as the summary areas.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class_col</code></td>
<td>
<p>a string; indicating a column name for <code>point_data</code> containing
information on a target point classification. This is used when <code>total_points = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>coordinate reference system: integer with the EPSG code, or character based on proj4string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total_points</code></td>
<td>
<p>logical; if the target is to measure the total number of points set to <code>TRUE</code>, by setting to <code>FALSE</code>, it returns the
total number of points by class. If missing, it defaults to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function requires two sets of data: a layer of geographic polygons, and a layer of points
</p>
<p>If points have been categorised into classes, the function can return the same summary
measures for each class if <code>total_points</code> = <code>FALSE</code> by specifying the column that contains the classification in <code>class_col</code>
</p>


<h3>Value</h3>

<p>if <code>total_points = TRUE</code>:
A <code>tibble</code> data frame objects containing four columns is returned:
</p>

<ul>
<li>
<p> the <code>unique_id_code</code> of <code>higher_geo_lay</code>
</p>
</li>
<li>
<p> the total area of each polygon
in <code>higher_geo_lay</code> (TotalArea)
</p>
</li>
<li>
<p> the total number of point features <code>point_data</code> (NoPoints),
and
</p>
</li>
<li>
<p> the ratio between the total number of point features <code>point_data</code> and the the total area of
<code>higher_geo_lay</code> polygon (Ratio).
</p>
</li>
</ul>
<p>if <code>total_points = FALSE</code>:
A list of three <code>tibble</code> data frame objects is returned.
</p>

<ul>
<li>
<p> The object <code>PointsLong</code> contains three columns:
the <code>unique_id_code</code> of <code>higher_geo_lay</code>, the <code>class_col</code> of <code>point_data</code>,
the number of point features <code>point_data</code> by class (NoPoints), the total area of each polygon
in <code>higher_geo_lay</code> (TotalArea) and the ratio between the number of point features by class <code>point_data</code>
and the the total area of <code>higher_geo_lay</code> polygon (Ratio).
</p>
</li>
<li>
<p> The object <code>PointsCountWide</code>:
Returns the point counts of <code>PointsLong</code> by <code>unique_id_code</code> and <code>class_col</code> in a wide format.
</p>
</li>
<li>
<p> The object <code>PointsRatioWide</code>:
Returns the ratio of <code>PointsLong</code> by <code>unique_id_code</code> and <code>class_col</code> in a wide format.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Run point_calc() using the packages' dummy data sets.
## The data sets are georeferenced on wgs84. However, a planar system is used to measure areas.
## For the examples provided here, points and polygons relate to the United Kingdom.
## So the British National Grid is used.

## Not run:
## This example returns the total points count and ratio
# outcome1 &lt;- point_calc(
# point_data = points,
# higher_geo_lay = pol_large,
# unique_id_code = "large_pol_",
# crs = "epsg:27700",
# total_points = TRUE)



## This example returns the points count and ratio by class
# outcome2 &lt;- point_calc(
# point_data = points,
# higher_geo_lay = pol_large,
# unique_id_code = "large_pol_",
# class_col = "class_name",
# crs = "epsg:27700",
# total_points = FALSE)
## End(Not run)


</code></pre>


</div>