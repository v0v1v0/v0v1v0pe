<div class="container">

<table style="width: 100%;"><tr>
<td>epoxy_transform_html</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Concise syntax for expressions inside HTML elements</h2>

<h3>Description</h3>

<p><code>epoxy_transform_html()</code> provides a
<a href="https://pughtml.com/what-is-pug-html">pug</a>-like syntax for expressions in
HTML that are wrapped in HTML elements.
</p>


<h4>Syntax</h4>

<p>You can specify the HTML element and its <code>id</code> and <code>class</code> into which the
text of the expression will be placed. The template is to specify the element
using the syntax below, followed by the R expression, separated by a space:
</p>
<div class="sourceCode"><pre>{{ [&lt;element&gt;][#&lt;id&gt; | .&lt;class&gt;...] expr }}
</pre></div>
<p>For example, to place the expression in a <code style="white-space: pre;">⁠&lt;li&gt;⁠</code> element with <code>id = "food"</code>
and <code>class = "fruit"</code>, you could write
</p>
<div class="sourceCode"><pre>{{ li#food.fruit fruit_name }}
</pre></div>
<p>Each item in the HTML template is optional:
</p>

<ol>
<li>
<p> If a specific HTML element is desired, the element name must be first. If
no element is specified, the default as set by the <code>element</code> argument of
<code>epoxy_transform_html()</code> will be used.
</p>
</li>
<li>
<p> IDs are specified using <code style="white-space: pre;">⁠#&lt;id&gt;⁠</code> and only one ID may be present
</p>
</li>
<li>
<p> Classes are written using <code style="white-space: pre;">⁠.&lt;class&gt;⁠</code> and as many classes as desired are
allowed.
</p>
</li>
</ol>
<p>If the expression is a vector, the same element container will be used for
each item in the vector.
</p>
<p>Finally, if the expression returns HTML, it will be escaped by default. You
can either use <code>htmltools::HTML()</code> to mark it as safe HTML in R, or you can
write <code>!!expr</code> in the inline markup: <code style="white-space: pre;">⁠{{ li#food.fruit !!fruit_name }}⁠</code>.
</p>



<h3>Usage</h3>

<pre><code class="language-R">epoxy_transform_html(
  class = NULL,
  element = "span",
  collapse = TRUE,
  transformer = glue::identity_transformer
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p><code style="white-space: pre;">⁠[character()]⁠</code><br> Additional classes to be added to the inline
HTML element.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>element</code></td>
<td>
<p><code style="white-space: pre;">⁠[character()⁠</code><br> The default HTML element tag name to be used
when an element isn't specified in the expression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p><code style="white-space: pre;">⁠[logical(1)]⁠</code><br> If <code>TRUE</code>, transformed HTML outputs will be
collapsed into a single character string. This is helpful when you're
including the value of a vector within an outer HTML tag. Use <code>collapse = FALSE</code> to return a vector of HTML character strings instead, which follows
what you'd typically expect from <code>glue::glue()</code>, i.e. when you want to
repeat the outer wrapping text for each element of the vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transformer</code></td>
<td>
<p>The transformer to apply to the replacement string. This
argument is used for chaining the transformer functions. By providing a
function to this argument you can apply an additional transformation after
the current transformation. In nearly all cases, you can let
<code>epoxy_transform()</code> handle this for you. The chain ends when
<code>glue::identity_transformer()</code> is used as the <code>transformer</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A function of <code>text</code> and <code>envir</code> suitable for the <code>.transformer</code> argument of
<code>glue::glue()</code>.
</p>


<h3>See Also</h3>

<p>Used by default in <code>epoxy_html()</code>
</p>
<p>Other epoxy's glue transformers: 
<code>epoxy_transform_inline()</code>,
<code>epoxy_transform()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">epoxy_html("&lt;ul&gt;{{ li letters[1:3] }}&lt;/ul&gt;")
epoxy_html("&lt;ul&gt;{{ li.alpha letters[1:3] }}&lt;/ul&gt;")
epoxy_html("&lt;ul&gt;{{ li#my-letter letters[7] }}&lt;/ul&gt;")

# The default element is used if no element is directly requested
epoxy_html("My name starts with {{ .name-letter letters[7] }}")

epoxy_html(
	"{{ h3#title title }}",
	title = "Epoxy for HTML"
)

# If your replacement text contains HTML, it's escaped by default.
hello &lt;- "&lt;strong&gt;Hi there!&lt;/strong&gt;"
epoxy_html("{{ hello }}")

# You can use !! inline to mark the text as safe HTML...
epoxy_html("{{ !!hello }}")
epoxy_html("{{ button !!hello }}")

# ...or you can use htmltools::HTML() to mark it as safe HTML in R.
hello &lt;- htmltools::HTML("&lt;strong&gt;Hi there!&lt;/strong&gt;")
epoxy_html("{{ hello }}")

</code></pre>


</div>