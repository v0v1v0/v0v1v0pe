<div class="container">

<table style="width: 100%;"><tr>
<td>add_coordinates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add/Retrieve location coordinates</h2>

<h3>Description</h3>

<p>Adds/Retrieves longitude/latitude values to location data within an epiflows object.
Coordinates are added to object's locations slot as <code>lon</code> and <code>lat</code>
columns.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_coordinates(
  x,
  coordinates = c("lon", "lat"),
  loc_column = "id",
  overwrite = FALSE
)

get_coordinates(x, ...)

## S3 method for class 'epiflows'
get_coordinates(x, location = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An <code>epiflows</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coordinates</code></td>
<td>
<p>Either names of the appended columns with longitudes
and latitudes, respectively (default: "lon" and "lat") or a data frame with longitude and latitude columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loc_column</code></td>
<td>
<p>Name of the column where location names are stored
(default: "country").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>If TRUE, retrieves all geocodes, even those already
retrieved. If FALSE (default), overwrites only NAs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>location</code></td>
<td>
<p>a character specifying a single location to return as a vector of
coordinates. You cannot specify multiple locations with this parameter.
Defaults to 'NULL', indicating all locations.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An updated <code>epiflows</code> object.
</p>


<h3>Author(s)</h3>

<p>Pawel Piatkowski, Salla Toikkanen, Zhian Kamvar
</p>


<h3>See Also</h3>

<p><code>map_epiflows()</code>; <code>plot.epiflows()</code>; <code>get_locations()</code>; <code>get_vars()</code>;
<code>global_vars()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Setting up the data
data("Brazil_epiflows")
data("YF_coordinates")
get_coordinates(Brazil_epiflows) # no coordinates yet
ef &lt;- add_coordinates(Brazil_epiflows, YF_coordinates[-1])
get_coordinates(ef)
get_coordinates(ef, location = "Espirito Santo") # coordinates for Espirito Santo
if (interactive()) {
  # You can use google maps' geocode functionality if you have a decent 
  # internet connection
  # NOTE: you may need to authenticate with Google Maps API beforehand
  # using ggmap::register_google()
  ef2 &lt;- add_coordinates(Brazil_epiflows, loc_column = "id")
  ef2
}

</code></pre>


</div>