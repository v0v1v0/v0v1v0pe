<div class="container">

<table style="width: 100%;"><tr>
<td>exams2nops</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generation of Written Exams for Automatic Evaluation</h2>

<h3>Description</h3>

<p>Generation of exams in PDF format that can be printed, scanned,
and evaluated automatically.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  exams2nops(file, n = 1L, nsamp = NULL, dir = ".", name = NULL,
    language = "en", title = "Exam", course = "",
    institution = "R University", logo = "Rlogo.png", date = Sys.Date(), 
    replacement = FALSE, intro = NULL, blank = NULL, duplex = TRUE, pages = NULL,
    usepackage = NULL, header = NULL, encoding = "UTF-8", startid = 1L,
    points = NULL, showpoints = FALSE, samepage = FALSE, newpage = FALSE,
    twocolumn = FALSE, reglength = 7L, seed = NULL, ...)

  make_nops_template(n, replacement = FALSE, intro = NULL, blank = NULL,
    duplex = TRUE, pages = NULL, file = NULL, nchoice = 5, encoding = "UTF-8",
    samepage = FALSE, newpage = FALSE, twocolumn = FALSE, reglength = 7L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character. A specification of a (list of) exercise files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>integer. The number of copies to be compiled from <code>file</code>
(in <code>exams2nops</code>) and the number of exercises per exam
(in <code>make_nops_template</code>), respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsamp</code></td>
<td>
<p>integer. The number(s) of exercise files sampled from each
list element of <code>file</code>. Sampling without replacement is used
if possible. (Only if some element of <code>nsamp</code> is larger than
the length of the corresponding element in <code>file</code>, sampling
with replacement is used.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>character. The default is either display on the screen
(if <code>n = 1L</code>) or the current working directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>character. A name prefix for resulting exams and RDS file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>language</code></td>
<td>
<p>character. Path to a DCF file with a language specification.
See below for the list of supported languages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>character. Title of the exam, e.g., <code>"Introduction to Statistics"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>course</code></td>
<td>
<p>character. Optional course number, e.g., <code>"101"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>institution</code></td>
<td>
<p>character. Name of the institution at which the exam is conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logo</code></td>
<td>
<p>character. Path to a logo image (in a file format supported by pdfLaTeX).
If set to <code>NULL</code>, the logo is omitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date</code></td>
<td>
<p>character or <code>"Date"</code> object specifying the date of the exam.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replacement</code></td>
<td>
<p>logical. Should a replacement exam sheet be included?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intro</code></td>
<td>
<p>character. Either a single string with the path to a .tex file or a vector
with with LaTeX code for optional introduction text on the first page of the exam.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blank</code></td>
<td>
<p>integer. Number of blank pages to be added at the end.
(Default is chosen to be half of the number of exercises.)
If <code>pages</code> is specified, <code>blank</code> can also be a vector of
length two with blank pages before and after the extra <code>pages</code>,
respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>duplex</code></td>
<td>
<p>logical. Should blank pages be added after the title page
(for duplex printing)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pages</code></td>
<td>
<p>character. Path(s) to additional PDF pages to be included
at the end of the exam (e.g., formulary or distribution tables).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>usepackage</code></td>
<td>
<p>character. Names of additional LaTeX packages to be
included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>header</code></td>
<td>
<p>character vector or list. Either a character vector with LaTeX
code to include in the header or a named list with further options to
be passed to the LaTeX files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>character, ignored. The encoding is always assumed to be UTF-8.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startid</code></td>
<td>
<p>integer. Starting ID for the exam numbers (defaults to 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points</code></td>
<td>
<p>integer. How many points should be assigned to each exercise? Note that this
argument overules any exercise points that are provided within the <code>expoints</code> tags
of the exercise files (if any). The vector of points supplied should either have
length 1 or the number of exercises in the exam.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showpoints</code></td>
<td>
<p>logical. Should the PDF show the number of points associated with
each exercise (if specified in the Rnw/Rmd exercise or in <code>points</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samepage</code></td>
<td>
<p>logical. Should the itemized question lists be forced to be on
the same page?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newpage</code></td>
<td>
<p>logical. Should each exercise start on a new page? (Technically,
a page break is added after each exercise.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>twocolumn</code></td>
<td>
<p>logical. Should a two-column layout be used?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reglength</code></td>
<td>
<p>integer. Number of digits in the registration ID. The
default is 7 and it can be increased up to 10. In case of <code>reglength &lt; 7</code>,
internally <code>reglength = 7</code> is enforced (and thus necessary in the registration
CSV file) but the initial ID digits are fixed to 0 in the exam sheet and
corresponding boxes ticked already.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>integer matrix or logical. Either <code>NULL</code> (default), logical, or a
matrix of random seeds for each possible exercise to be set prior to calling
<code>driver@sweave</code>. If <code>NULL</code> no random seeds are set. If a matrix,
the number of rows must be <code>n</code> and the number of columns must
correspond to <code>unlist(file)</code>. If <code>TRUE</code> a suitable matrix of seeds
is sampled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed on to <code>exams2pdf</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nchoice</code></td>
<td>
<p>character. The number of choice alternatives per exercise.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>exams2nops</code> is a convenience interface for <code>exams2pdf</code>
with a dynamically generated title page which can be printed,
scanned with <code>nops_scan</code> and evaluated automatically
by <code>nops_eval</code>. It is originally intended for
single- and multiple choice (schoice/mchoice) questions only but has also
some limited support for open-ended (string) questions.
</p>
<p>The exam sheet consists of various sections where information is either
printed our filled in by the students. The section with personal data is
just for human readers, it is not read automatically. The registration number
has to be filled in in digits and also marked with corresponding crosses
where only the latter is read automatically. The exam ID/type/scrambling
are printed directly into the PDF and read automatically after scanning.
Note that the font in the PDF must not be modified for the reading step
to work reliably. (A sans-serif font is used and hence the <code>sfmath</code>
LaTeX package is also used - if it is installed.) The questions can have
up to five alternatives which have to answered by the students. The crosses
are read automatically where both empty and completely filled boxes are
regarded as not crossed.
</p>
<p>Tutorial for NOPS workflow: <a href="https://www.R-exams.org/tutorials/exams2nops/">https://www.R-exams.org/tutorials/exams2nops/</a>.
</p>
<p>Limitations: (a) Only up to five answer alternatives per question are supported.
(b) Currently, only up to 45 questions are supported. If you have
more questions, consider splitting the entire exam up into two NOPS exams.
(c) Only up to 3 open-ended questions can be included. (d) Each question
must have the same number of answer alternatives and the same number of
points across random replications. For example, the <code>n</code> replications
drawn for the first exercise all need, say, five alternatives and two points.
Then, the second exercise may have, say, four alternatives and five points
and so on. But this may not be mixed within the same exercise number.
</p>
<p>The examples below show how PDF exams can be generated along with an RDS
file with (serialized) R data containing all meta-information about the exam.
The PDFs can be printed out for conducting the exam and the exam sheet
from the first page then needs to be scanned into PDF or PNG images. Then
the information from these scanned images can be read by <code>nops_scan</code>,
extracting information about the exam, the participants, and the corresponding
answers (as described above). The ZIP file produced by <code>nops_scan</code>
along with the RDS of the exam meta-information and a CSV file with participant
information can then be used by <code>nops_eval</code> to automatically evaluate
the whole exam and producing HTML reports for each participant. See
<code>nops_eval</code> for a worked example.
</p>
<p>Currently, up to three open-ended string questions can also be included.
These do not generate boxes on the first exam sheet but instead a second
exam sheet is produced for these open-ended questions. It is assumed that
a human reader reads these open-ended questions and then assigns points
by marking boxes on this separate sheet. Subsequently, this sheet can
also be read by <code>nops_scan</code>.
</p>
<p>The <code>language</code> elements can be specified through a relatively simple
text file and the package already ships with:
English (<code>"en"</code>),
Croatian (<code>"hr"</code>),
Danish (<code>"da"</code>),
Dutch (<code>"nl"</code>),
Finnish (<code>"fi"</code>),
French (<code>"fr"</code>),
Galician (<code>"gl"</code>),
German (<code>"de"</code>),
Hungarian (<code>"hu"</code>),
Italian (<code>"it"</code>),
Japanese (<code>"ja"</code>),
Korean (<code>"ko"</code>),
Norwegian (Bokm√•l, <code>"no"</code>),
Portuguese (<code>"pt-PT"</code> or <code>"pt-BR"</code>; also <code>"pt"</code> is synonymous with <code>"pt-PT"</code>),
Romanian (<code>"ro"</code>),
Russian (<code>"ru"</code>),
Serbian (<code>"sr"</code>),
Slovak (<code>"sk"</code>),
Slovenian (<code>"sl"</code>),
Spanish (<code>"es"</code>),
Swiss German (<code>"gsw"</code>),
Turkish (<code>"tr"</code>),
Vietnamese (<code>"vi"</code>).
Note that the language names correspond to the ISO 639 codes
(<a href="https://www.loc.gov/standards/iso639-2/php/code_list.php">https://www.loc.gov/standards/iso639-2/php/code_list.php</a>)
or IETF language tags (<a href="https://en.wikipedia.org/wiki/IETF_language_tag">https://en.wikipedia.org/wiki/IETF_language_tag</a>) if
no ISO 639 codes exists (as for Brazilian Portuguese).
For more details about the underlying text file in DCF format, see
<a href="https://www.R-exams.org/tutorials/nops_language/">https://www.R-exams.org/tutorials/nops_language/</a>
</p>


<h3>Value</h3>

<p>A list of exams as generated by <code>xexams</code> is
returned invisibly.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## load package and enforce par(ask = FALSE)
## additionally, for simplicity, enforce using the basic
## tools::texi2dvi() LaTeX interface instead of the more
## flexible/robust tinytex::latexmk()
library("exams")
oopt &lt;- options(device.ask.default = FALSE, exams_tex = "tools")

## define an exam (= list of exercises)
myexam &lt;- list(
  "tstat2.Rmd",
  "ttest.Rmd",
  "relfreq.Rmd",
  "anova.Rmd",
  c("boxplots.Rmd", "scatterplot.Rmd"),
  "cholesky.Rmd"
)

if(interactive()) {
## compile a single random exam (displayed on screen)
exams2nops(myexam, duplex = FALSE, language = "de")
}

## create multiple exams on the disk (in a
## temporary directory)
dir.create(mydir &lt;- tempfile())

## generate NOPS exam in temporary directory
set.seed(403)
ex1 &lt;- exams2nops(myexam, n = 2, dir = mydir)
dir(mydir)


## use a few customization options: different
## university/logo and language/title
## with a replacement sheet but for non-duplex printing
set.seed(403)
ex2 &lt;- exams2nops(myexam, n = 2, dir = mydir,
  institution = "Universit\\\"at Innsbruck",
  name = "uibk", logo = "uibk-logo-bw.png",
  title = "Klausur", language = "de",
  replacement = TRUE, duplex = FALSE)
dir(mydir)


options(exams_tex = oopt$exams_tex)
</code></pre>


</div>