<div class="container">

<table style="width: 100%;"><tr>
<td>number_of_selfloops</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Number of Self-loops</h2>

<h3>Description</h3>

<p>Provides information statistics on the number of self-loops in a trace.
</p>
<p>Activity instances of the same activity type that are executed more than once immediately after each other by the same
resource are in a self-loop ("length-1-loop"). If an activity instance of the same activity type is executed 3 times
after each other by the same resource, this is defined as a "size 2 self-loop".
</p>


<h3>Usage</h3>

<pre><code class="language-R">number_of_selfloops(
  log,
  type = c("all", "repeat", "redo"),
  level = c("log", "case", "activity", "resource", "resource-activity"),
  append = deprecated(),
  append_column = NULL,
  sort = TRUE,
  eventlog = deprecated()
)

## S3 method for class 'eventlog'
number_of_selfloops(
  log,
  type = c("all", "repeat", "redo"),
  level = c("log", "case", "activity", "resource", "resource-activity"),
  append = deprecated(),
  append_column = NULL,
  sort = TRUE,
  eventlog = deprecated()
)

## S3 method for class 'grouped_eventlog'
number_of_selfloops(
  log,
  type = c("all", "repeat", "redo"),
  level = c("log", "case", "activity", "resource", "resource-activity"),
  append = deprecated(),
  append_column = NULL,
  sort = TRUE,
  eventlog = deprecated()
)

## S3 method for class 'activitylog'
number_of_selfloops(
  log,
  type = c("all", "repeat", "redo"),
  level = c("log", "case", "activity", "resource", "resource-activity"),
  append = deprecated(),
  append_column = NULL,
  sort = TRUE,
  eventlog = deprecated()
)

## S3 method for class 'grouped_activitylog'
number_of_selfloops(
  log,
  type = c("all", "repeat", "redo"),
  level = c("log", "case", "activity", "resource", "resource-activity"),
  append = deprecated(),
  append_column = NULL,
  sort = TRUE,
  eventlog = deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p><code>log</code>: Object of class <code>log</code> or derivatives (<code>grouped_log</code>, <code>eventlog</code>, <code>activitylog</code>, etc.).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p><code>character</code> (default <code>"all"</code>): The type of repetitions: <code>"all"</code> (default),
<code>"repeat"</code>, or <code>"redo"</code>. For more information, see 'Details' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p><code>character</code> (default <code>"log"</code>): Level of granularity for the analysis: <code>"log"</code> (default),
<code>"case"</code>, <code>"activity"</code>, <code>"resource"</code>, or <code>"resource-activity"</code>. For more information,
see <code>vignette("metrics", "edeaR")</code> and 'Details' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p><code>logical</code> (default <code>FALSE</code>) <a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a>: The arguments <code>append</code> and <code>append_column</code>
have been deprecated in favour of <code>augment</code>.<br>
Indicating whether to append results to original log. Ignored when level is <code>"log"</code> or <code>"trace"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append_column</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> The arguments <code>append</code> and <code>append_column</code> have been deprecated in favour of <code>augment</code>.<br>
Which of the output columns to append to log, if <code>append = TRUE</code>. Default column depends on chosen level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p><code>logical</code> (default <code>TRUE</code>): Sort output on count. Only for levels with frequency count output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eventlog</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a>; please use <code>log</code> instead.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Two types of self-loops are defined, which can be chosen using the <code>type</code> argument:
</p>

<ul>
<li> <p><code>"repeat"</code> self-loops are activity executions of the same activity type that are executed immediately following
each other by the same resource.
</p>
</li>
<li> <p><code>"redo"</code> self-loops are activity executions of the same activity type that are executed immediately following
each other by a different resource.
</p>
</li>
</ul>
<p>Argument <code>level</code> has the following options:
</p>

<ul>
<li>
<p> At <code>"log"</code> level, the summary statistics of the number of self-loops within a trace can give a first insight
in the amount of waste in a log. As stated earlier, each combination of two occurrences of the same activity executed
by the same resource will be counted as one repeat self-loop of this activity.
</p>
</li>
<li>
<p> On <code>"case"</code> level, an overview is provided of the absolute and relative number of repeat and redo self-loops
in each case. To calculate the relative number, each (repeat or redo) self-loop is counted as 1 occurrence, and the other
activity instances are also counted as 1.
</p>
</li>
<li>
<p> On <code>"activity"</code> level, the absolute and relative number of self-loops per activity can be an indication for
which activities are causing the most waste in the process.
</p>
</li>
<li>
<p> On <code>"resource"</code> level, this metric can give insights into which resources needs to repeat their work most often
within a case, or for which resource the work they did should be redone by another resource within the same case.
This metric shows the absolute and relative number of both repeat and redo self-loops for each resource in the log.
</p>
</li>
<li>
<p> On <code>"resource-activity"</code> level, this metric can be used to get an insight in which activities are the most
crucial for which resources. This metric shows the absolute and relative number of both repeat and redo self-loops for
each of the resource-activity combinations that occur in the log. Two different relative numbers are provided here,
one from the resource perspective and one from the activity perspective. At the resource perspective, the denominator
is the total number of executions by the resource under consideration. At the activity perspective, the denominator
is the total number of occurrences of the activity under consideration.
</p>
</li>
</ul>
<h3>Methods (by class)</h3>


<ul>
<li> <p><code>number_of_selfloops(eventlog)</code>: Computes the number of self-loops for an <code>eventlog</code>.
</p>
</li>
<li> <p><code>number_of_selfloops(grouped_eventlog)</code>: Computes the number of self-loops for a <code>grouped_eventlog</code>.
</p>
</li>
<li> <p><code>number_of_selfloops(activitylog)</code>: Computes the number of self-loops for an <code>activitylog</code>.
</p>
</li>
<li> <p><code>number_of_selfloops(grouped_activitylog)</code>: Computes the number of self-loops for a <code>grouped_activitylog</code>.
</p>
</li>
</ul>
<h3>References</h3>

<p>Swennen, M. (2018). Using Event Log Knowledge to Support Operational Exellence Techniques (Doctoral dissertation). Hasselt University.
</p>


<h3>See Also</h3>

<p><code>number_of_repetitions</code>
</p>
<p>Other metrics: 
<code>activity_frequency()</code>,
<code>activity_presence()</code>,
<code>end_activities()</code>,
<code>idle_time()</code>,
<code>number_of_repetitions()</code>,
<code>number_of_traces()</code>,
<code>processing_time()</code>,
<code>resource_frequency()</code>,
<code>resource_involvement()</code>,
<code>resource_specialisation()</code>,
<code>start_activities()</code>,
<code>throughput_time()</code>,
<code>trace_coverage()</code>,
<code>trace_length()</code>
</p>


</div>