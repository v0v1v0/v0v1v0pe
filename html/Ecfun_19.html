<div class="container">

<table style="width: 100%;"><tr>
<td>dateCols</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Identify YMD names in a character vector
</h2>

<h3>Description</h3>

<p><code>grep</code> for YMD (year, month, day) in 
<code>col.names</code>.  Return a named list of integer 
vectors of length 3 for each triple found.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">dateCols(col.names, YMD=c('Year', 'Month', 'Day'))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>col.names</code></td>
<td>

<p>either a character vector in which to search 
for names matching <code>YMD</code> or an object 
with non-null <code>colnames</code> 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>YMD</code></td>
<td>

<p>a character vector of patterns to use in 
<code>grep</code> to identify triples of 
columns coding <code>YMD</code> in 
<code>col.names</code>
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The data sets from the 
<a href="https://correlatesofwar.org/data-sets/COW-war/">Correlates 
of War</a> project include dates coded in 
triples of columns with names like 
<code>c("StartMonth1", "StartDay1", 
  "StartYear1", "EndMonth1", ..., "EndYear2")</code>.  
This function will find all relevant date 
triples in a character vector of column names 
and return a list of integer vectors of 
length 3 with names like 
<code>"Start1", "End1", ..., "End2"</code> giving 
the positions in <code>col.names</code> of the 
desired date components.  
</p>
<p>Algorithm:  
</p>
<p>1.  <code>if(!is.null(colnames(YMD)))YMD &lt;- 
  colnames(YMD)</code>
</p>
<p>2.  <code>ymd</code> &lt;- <code>grep</code> for YMD 
(Year, Month, Day) in <code>col.names</code>.
</p>
<p>3.  <code>groupNames</code> &lt;- <code>sub</code> 
<code>pattern</code> with ‚Äù in <code>ymd</code>
</p>
<p>4.  Throw a <code>warning</code> for any 
<code>groupNames</code> character string that 
does not appear with all three of Year, 
Month, and Day.  
</p>
<p>5.  Return a list of integer vectors of 
length 3 for each triple found.  
</p>


<h3>Value</h3>

<p>Returns a named list of integer vectors 
of length 3 identifying the positions in 
<code>col.names</code> of the desired date 
components.  
</p>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code>Date3to1</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## 1.  character vector 
##
colNames &lt;- c('war', 'StartMonth1', 
      'StartDay1', 'StartYear1', 
      'EndMonth1', 'EndMonth2', 
      'EndDay2', 'EndYear2', 'Initiator')

colNums &lt;- dateCols(colNames)
# Should issue a warning:  
# Warning message:
# In dateCols(colNames) :
#   number of matches for Year = 2 
#   != number of matches for Month = 3

# check 
colN &lt;- list(Start1=c(Year=4, Month=2, Day=3), 
             End2=c(Year=8, Month=6, Day=7) )

all.equal(colNums, colN)

##
## 2.  array 
##
A &lt;- matrix(ncol=length(colNames), 
      dimnames=list(NULL, colNames))

Anums &lt;- dateCols(A)

# check 

all.equal(Anums, colN)

</code></pre>


</div>