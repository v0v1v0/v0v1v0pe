<div class="container">

<table style="width: 100%;"><tr>
<td>aux_stationinfofile</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create station info file from cube files.</h2>

<h3>Description</h3>

<p>This function reads GPS tags from Omnirecs/Digos Datacube files and creates 
a station info file from additional input data. It depends on the cubetools 
or gipptools software package (see details).
</p>


<h3>Usage</h3>

<pre><code class="language-R">aux_stationinfofile(
  name,
  input_dir,
  output_dir,
  station_ID,
  station_name,
  station_z,
  station_d,
  sensor_type,
  logger_type,
  sensor_ID,
  logger_ID,
  unit = "dd",
  n,
  quantile = 0.95,
  random = TRUE,
  cpu,
  gipptools,
  write_file = TRUE,
  write_raw = FALSE,
  write_data = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p><code>Character</code> value, file name of the output station info 
file, without extention (will be added as *.txt).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_dir</code></td>
<td>
<p><code>Character</code> value, path to directory where all cube 
files to be processed as stored. Each set of files from one logger must be 
stored in a separate sub-directory named after the cube ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_dir</code></td>
<td>
<p><code>Character</code> value, path to directory where output 
data is written to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>station_ID</code></td>
<td>
<p><code>Character</code> vector, seismic station ID. Each value
must not contain more than 5 characters. Longer entries will be clipped. If  
omitted, a default ID will be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>station_name</code></td>
<td>
<p><code>Character</code> vector, seismic station name. If
omitted, the station ID is used as name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>station_z</code></td>
<td>
<p><code>Numeric</code> vector, elevation of the seismic stations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>station_d</code></td>
<td>
<p><code>Numeric</code> vector, deployment depth of the seismic sensor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sensor_type</code></td>
<td>
<p><code>Character</code> vector, sensor type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logger_type</code></td>
<td>
<p><code>Character</code> vector, logger type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sensor_ID</code></td>
<td>
<p><code>Character</code> vector, sensor ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logger_ID</code></td>
<td>
<p><code>Character</code> vector, logger ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p><code>Character</code> value, coordinates unit of the location. One 
out of <code>"dd"</code> (decimal degrees) and <code>"utm"</code> (metric in UTM zone). 
Default is <code>"dd"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p><code>Numeric</code> value, number of cube file to process for GPS 
coordinate extraction. If omitted, all files are processed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantile</code></td>
<td>
<p><code>Numeric</code> value, quantile size to which the extracted 
coordinate sample size is restricted. This is mainly used to remove 
coordinate outliers, due to spurious GPS signals. Default is 
<code>0.95</code>. Set to <code>1</code> to omit any sample rejection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random</code></td>
<td>
<p><code>Logical</code> value, option to draw <code>n</code> cube files 
randomly instead of ordered by date. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cpu</code></td>
<td>
<p><code>Numeric</code> value, fraction of CPUs to use for parallel 
processing. If omitted, one CPU is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gipptools</code></td>
<td>
<p><code>Character</code> value, path to gipptools or cubetools 
directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write_file</code></td>
<td>
<p><code>Logical</code> value, option to write station info file 
to disk. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write_raw</code></td>
<td>
<p><code>Logical</code> value, option to write (keep) raw ASCII 
GPS data. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write_data</code></td>
<td>
<p><code>Logical</code> value, option to write gps raw data as 
rda-file. File name will be the same as for <code>file</code>. Default is
<code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A station info file is an ASCII file that contains all relevant information
about the individual stations of a seismic network. The variables contain a 
station ID (containing not more than 5 characters), station name, latitude, 
longitude, elevation, deployment depth, sensor type, logger type, sensor 
ID and logger ID.<br> The function requires that the software cubetools 
(<code>http://www.omnirecs.de/documents.html</code>) or gipptools 
(<code>http://www.gfz-potsdam.de/en/section/geophysical-deep-sounding/infrastructure/geophysical-instrument-pool-potsdam-gipp/software/gipptools/</code>) 
are installed. Note that GPS tag extraction may take several minutes per 
cube file. Hence, depending on the number of files and utilised CPUs the 
processing may take a while.<br> Specifying an input directory 
(<code>input_dir</code>) is mandatory. This input directory must only contain the 
subdirectories with the cube files to process, each set of cube files must 
be located in a separate subdirectory and these subdiretories must 
have the same name as specified by the logger IDs (<code>logger_ID</code>). An 
appropriate structure would be something like: <br></p>

<ol><li>
<p> input
</p>

<ol>
<li>
<p> A1A
</p>

<ol>
<li>
<p> file1.A1A
</p>
</li>
<li>
<p> file2.A1A
</p>
</li>
</ol>
</li>
<li>
<p> A1B
</p>

<ol>
<li>
<p> file1.A1B
</p>
</li>
<li>
<p> file2.A1B
</p>
</li>
</ol>
</li>
</ol>
</li></ol>
<h3>Value</h3>

<p>A set of files written to disk and a data frame with seismic 
station information.
</p>


<h3>Author(s)</h3>

<p>Michael Dietze
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

## basic example with minimum effort
aux_stationinfofile(name = "stationinfo", 
                    input_dir = "input", 
                    logger_ID = c("864", "876", "AB1"),
                    gipptools = "software/gipptools-2015.225")

## example with more adjustments
aux_stationinfofile(name = "stationinfo",
                    input_dir = "input",
                    logger_ID = c("864", "876", "AB1"),
                    station_name = c("KTZ01", "KTZ02", "KTZ03"), 
                    station_z = c(30, 28, 29), 
                    station_d = rep(0.5, 3), 
                    sensor_type = rep("TC120s", 3), 
                    logger_type = rep("Cube3ext", 3), 
                    unit = "utm", 
                    n = 1, 
                    cpu = 0.9,
                    gipptools = "software/gipptools-2015.225", 
                    write_raw = TRUE, 
                    write_data = TRUE)


## End(Not run)

</code></pre>


</div>