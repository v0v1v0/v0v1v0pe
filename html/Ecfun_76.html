<div class="container">

<table style="width: 100%;"><tr>
<td>recode2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
bivariate recode
</h2>

<h3>Description</h3>

<p>Recode <code>x1</code> and <code>x2</code> per the 
lexical <code>codes</code> table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">recode2(x1, x2, codes)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x1, x2</code></td>
<td>

<p>vectors of the same length assuming a 
discrete number of levels
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>codes</code></td>
<td>

<p>a 2-dimensional matrix indexed by the 
levels of <code>x1</code> and <code>x2</code>.  If 
<code>dimnames(codes)</code> are not provided, 
they are assumed to <code>unique(x1)</code> (or
<code>unique(x2)</code>).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>1.  If <code>length(x1) != length(x2)</code>, 
complain.
</p>
<p>2.  <code>if(is.logical(x1)) l1 &lt;- c(FALSE, TRUE)
  else l1 &lt;- unique(x1)</code>;
ditto for <code>x2</code>.
</p>
<p>3.  <code>If(missing(codes)) codes &lt;- 
  outer(unique(x1), unique(x2))</code>
</p>
<p>4.  <code>if(is.null(dim(codes))) dim(codes) &lt;- 
  c(length(unique(x1)), length(unique(x2)))</code>
</p>
<p>5.  If <code>is.null(rownames(codes))</code>, set as
follows:  If <code>nrow(codes) ==
  length(unique(x1)), rownames(codes) &lt;- 
  unique(x1)</code>.  Else, if
<code>nrow(codes) = max(x1)</code>, set 
<code>rownames(codes) &lt;- seq(1, max(x1))</code>.  
Else throw an error.  Ditto for 
<code>colnames, ncol</code>, and <code>x2</code>.
</p>
<p>6.  <code>codes[x1, x2]</code>
</p>


<h3>Value</h3>

<p>a vector of the same length as <code>x1</code> 
and <code>x2</code>.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code>dim</code>
<code>rownames</code>
<code>link{colnames}</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">contrib &lt;- c(-1, 0, 0, 1)
contrib0 &lt;- c(FALSE, FALSE, TRUE, FALSE)

contribCodes &lt;- recode2(contrib&gt;0, contrib0,
   c('returned', 'received', '0', 'ERR') )

cC &lt;- c('returned', 'returned', '0', 'received')

all.equal(contribCodes, cC)


</code></pre>


</div>