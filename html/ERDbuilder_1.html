<div class="container">

<table style="width: 100%;"><tr>
<td>create_erd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create ERD Object</h2>

<h3>Description</h3>

<p>This function serves as a constructor for an Entity-Relationship Diagram
(ERD) object. This object encapsulates both the data frames representing the
entities and the relationships between these entities. The function takes as
its arguments a list of data frames and a list of relationships and returns a
list object of class "ERD".
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_erd(df_list, relationships)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df_list</code></td>
<td>
<p>A named list of data frames, where each data frame represents
an entity in the ERD. The names of the list elements correspond to the
names of the entities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relationships</code></td>
<td>
<p>A nested named list describing the relationships between
entities. The top-level names in this list should correspond to the names
in <code>df_list</code>. Each element of this list is itself a list, describing
relationships that the corresponding entity has with other entities. The
list of acceptable values is specified in "Details."</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Possible values in each relationship element of the list include:
</p>

<dl>
<dt>"||" </dt>
<dd>
<p> which indicates one and only one</p>
</dd>
<dt>"&gt;|" </dt>
<dd>
<p> which indicates one or more (left table)</p>
</dd>
<dt>"|&lt;" </dt>
<dd>
<p> which indicates one or more (right table)</p>
</dd>
<dt>"&gt;0" </dt>
<dd>
<p> which indicates zero or more (left table)</p>
</dd>
<dt>"0&lt;" </dt>
<dd>
<p> which indicates zero or more (right table)</p>
</dd>
<dt>"|0" </dt>
<dd>
<p> which indicates zero or one (left table)</p>
</dd>
<dt>"0|" </dt>
<dd>
<p> which indicates zero or one (right table)</p>
</dd>
</dl>
<p>It is imperative that the names used in <code>df_list</code> and relationships are
consistent, as these are used for creating the ERD object and for subsequent
operations like rendering and performing joins.
</p>
<p>Users can effortlessly encapsulate the data and relationships pertaining to
an ERD into a single R object with this function, thereby facilitating
downstream operations like rendering and joining.
</p>


<h3>Value</h3>

<p>An object of class "ERD", which is a named list containing two
elements:
</p>

<dl>
<dt>data_frames</dt>
<dd>
<p>Named list of data frames identical to <code>df_list</code>.</p>
</dd>
<dt>relationship</dt>
<dd>
<p>Named list of relationships identical to
<code>relationships</code>.</p>
</dd>
</dl>
<p>The class attribute of this list is set to "ERD".
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# Load Packages -----------------------------------------------------------

library(ERDbuilder)
library(dplyr)

# Define entities ---------------------------------------------------------

students_tbl &lt;- data.frame(
  st_id = c("hu1", "de2", "lo3"),
  dep_id = c("water", "evil", "values"),
  student = c("Huey", "Dewey", "Louie"),
  email = c("hubert.duck", "dewfort.duck", "llewellyn.duck"),
  dob = c("04-15", "04-15", "04-15")
)

courses_tbl &lt;- data.frame(
  crs_id = c("water101", "evil205", "water202"),
  fac_id = c("02do", "03pe", "04mi"),
  dep_id = c("water", "evil", "water"),
  course = c("Swimming", "Human-chasing", "Dives")
)

enrollment_tbl &lt;- data.frame(
  crs_id = c("water101", "evil205", "evil205", "water202"),
  st_id = c("hu1", "hu1", "de2", "de2"),
  final_grade = c("B", "A", "A", "F")
)

department_tbl &lt;- data.frame(
  dep_id = c("water", "evil", "values"),
  department = c("Water activities", "Evil procurement", "Good values")
)

faculty_tbl &lt;- data.frame(
  faculty_name = c("Scrooge McDuck", "Donald", "Pete", "Mickey"),
  title = c("Emeritus", "Full", "Assistant", "Full"),
  fac_id = c("01sc", "02do", "03pe", "04mi"),
  dep_id = c("water", "water", "evil", "values")
)

head(students_tbl)
head(courses_tbl)
head(enrollment_tbl)
head(department_tbl)
head(faculty_tbl)

## Define relationships----------------------------------------
relationships &lt;- list(
  courses = list(
    enrollment = list(crs_id = "crs_id", relationship = c("||", "|&lt;")),
    department = list(dep_id = "dep_id", relationship = c("&gt;|", "||")),
    faculty = list(fac_id = "fac_id", relationship = c("&gt;0", "||"))
  ),
  enrollment = list(
    students = list(st_id = "st_id", relationship = c("&gt;0", "||")
    )
  ),
  students = list(
    department = list(dep_id = "dep_id", relationship = c("&gt;|", "||"))
  ),
  faculty = list(
    department = list(dep_id = "dep_id", relationship = c("&gt;|", "||"))
  )
)

## Create ERD object
erd_object &lt;-
  create_erd(
    list(
      students = students_tbl,
      courses = courses_tbl,
      enrollment = enrollment_tbl,
      department = department_tbl,
      faculty = faculty_tbl
    ),
    relationships)

## Render ERD -----------------------------------------------------------
render_erd(erd_object, label_distance = 0, label_angle = 15, n = 20)
</code></pre>


</div>