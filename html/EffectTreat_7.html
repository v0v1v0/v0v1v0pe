<div class="container">

<table style="width: 100%;"><tr>
<td>PCA.ContCont</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the predictive causal association (PCA) in the Continuous-continuous case</h2>

<h3>Description</h3>

<p>The function <code>PCA.ContCont</code> computes the predictive causal association (PCA) when <code class="reqn">S</code>=pretreatment predictor and <code class="reqn">T</code>=True endpoint are continuous normally distributed endpoints. See <b>Details</b> below.</p>


<h3>Usage</h3>

<pre><code class="language-R">PCA.ContCont(T0S, T1S, T0T0=1, T1T1=1, SS=1, T0T1=seq(-1, 1, by=.01))</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>T0S</code></td>
<td>
<p>A scalar or vector that specifies the correlation(s) between the pretreatment predictor and the true endpoint in the control treatment condition that should be considered in the computation of <code class="reqn">\rho_{\psi}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1S</code></td>
<td>
<p>A scalar or vector that specifies the correlation(s) between the pretreatment predictor and the true endpoint in the experimental treatment condition that should be considered in the computation of <code class="reqn">\rho_{\psi}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0T0</code></td>
<td>
<p>A scalar that specifies the variance of the true endpoint in the control treatment condition that should be considered in the computation of <code class="reqn">\rho_{\psi}</code>. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1T1</code></td>
<td>
<p>A scalar that specifies the variance of the true endpoint in the experimental treatment condition that should be considered in the computation of <code class="reqn">\rho_{\psi}</code>. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SS</code></td>
<td>
<p>A scalar that specifies the variance of the pretreatment predictor endpoint. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0T1</code></td>
<td>
<p>A scalar or vector that contains the correlation(s) between the counterfactuals <code class="reqn">T_0</code> and <code class="reqn">T_1</code> that should be considered in the computation of <code class="reqn">\rho_{\psi}</code>. Default <code>seq(-1, 1, by=.01)</code>, i.e., the values <code class="reqn">-1</code>, <code class="reqn">-0.99</code>, <code class="reqn">-0.98</code>, ..., <code class="reqn">1</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Based on the causal-inference framework, it is assumed that each subject <em>j</em> has two counterfactuals (or potential outcomes), i.e., <code class="reqn">T_{0j}</code> and <code class="reqn">T_{1j}</code> (the counterfactuals for the true endpoint (<code class="reqn">T</code>) under the control (<code class="reqn">Z=0</code>) and the experimental (<code class="reqn">Z=1</code>) treatments of subject <em>j</em>, respectively). The individual causal effects of <code class="reqn">Z</code> on <code class="reqn">T</code> for a given subject <em>j</em> is then defined as <code class="reqn">\Delta_{T_{j}}=T_{1j}-T_{0j}</code>.
</p>
<p>The correlation between the individual causal effect of <code class="reqn">Z</code> on <code class="reqn">T</code> and <code class="reqn">S_{j}</code> (the pretreatment predictor) equals (for details, see Alonso et al., submitted):
</p>
<p style="text-align: center;"><code class="reqn">\rho_{\psi}=\frac{\sqrt{\sigma_{T1T1}}\rho_{T1S}-\sqrt{\sigma_{T0T0}}\rho_{T0S}}{\sqrt{\sigma_{T0T0}+\sigma_{T1T1}-2\sqrt{\sigma_{T0T0}\sigma_{T1T1}}}\rho_{T0T1}},</code>
</p>

<p>where the correlation <code class="reqn">\rho_{T_{0}T_{1}}</code> is not estimable. It is thus warranted to conduct a sensitivity analysis (by considering vectors of possible values for the correlations between the counterfactuals â€“ rather than point estimates). 
</p>
<p>When the user specifies a vector of values that should be considered for <code class="reqn">\rho_{T_{0}T_{1}}</code> in the above expression, the function <code>PCA.ContCont</code> constructs all possible matrices that can be formed as based on these values and the estimable quantities <code class="reqn">\rho_{T_{0}S}</code>, <code class="reqn">\rho_{T_{1}S}</code>, identifies the matrices that are positive definite (i.e., valid correlation matrices), and computes <code class="reqn">\rho_{\psi}</code> for each of these matrices. The obtained vector of <code class="reqn">\rho_{\psi}</code> values can subsequently be used to e.g., conduct a sensitivity analysis.   
</p>
<p><b>Notes</b>
</p>
<p>A single <code class="reqn">\rho_{\psi}</code> value is obtained when all correlations in the function call are scalars.
</p>


<h3>Value</h3>

<p>An object of class <code>PCA.ContCont</code> with components,
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Total.Num.Matrices</code></td>
<td>
<p>An object of class <code>numeric</code> that contains the total number of matrices that can be formed as based on the user-specified correlations in the function call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Pos.Def</code></td>
<td>
<p>A <code>data.frame</code> that contains the positive definite matrices that can be formed based on the user-specified correlations. These matrices are used to compute the vector of the <code class="reqn">\rho_{\psi}</code> values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PCA</code></td>
<td>
<p>A scalar or vector that contains the PCA (<code class="reqn">\rho_{\psi}</code>) value(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GoodSurr</code></td>
<td>
<p>A <code>data.frame</code> that contains the PCA (<code class="reqn">\rho_{\psi}</code>), <code class="reqn">\sigma_{\psi_{T}}</code>, and <code class="reqn">\delta</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Wim Van der Elst, Ariel Alonso, &amp; Geert Molenberghs
</p>


<h3>References</h3>

<p>Alonso, A., Van der Elst, W., &amp; Molenberghs, G. (submitted). Validating predictors of therapeutic success: a causal inference approach. 
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Based on the example dataset
    # load data in memory
data(Example.Data)
    # compute corr(S, T) in control treatment, gives .77
cor(Example.Data$S[Example.Data$Treat==-1], 
Example.Data$T[Example.Data$Treat==-1])
   # compute corr(S, T) in experimental treatment, gives .71
cor(Example.Data$S[Example.Data$Treat==1], 
Example.Data$T[Example.Data$Treat==1])
   # compute var T in control treatment, gives 263.99 
var(Example.Data$T[Example.Data$Treat==-1])
   # compute var T in experimental treatment, gives 230.64  
var(Example.Data$T[Example.Data$Treat==1])
   # compute var S, gives 163.65   
var(Example.Data$S)

# Generate the vector of PCA.ContCont values using these estimates 
# and the grid of values {-1, -.99, ..., 1} for the correlations
# between T0 and T1:
PCA &lt;- PCA.ContCont(T0S=.77, T1S=.71, T0T0=263.99, T1T1=230.65, 
                    SS=163.65, T0T1=seq(-1, 1, by=.01))

# Examine and plot the vector of generated PCA values:
summary(PCA)
plot(PCA)


# Other example

# Generate the vector of PCA.ContCont values when rho_T0S=.3, rho_T1S=.9, 
# sigma_T0T0=2, sigma_T1T1=2,sigma_SS=2, and  
# the grid of values {-1, -.99, ..., 1} is considered for the correlations
# between T0 and T1:
PCA &lt;- PCA.ContCont(T0S=.3, T1S=.9, T0T0=2, T1T1=2, SS=2, 
T0T1=seq(-1, 1, by=.01))

# Examine and plot the vector of generated PCA values:
summary(PCA)
plot(PCA)

# Obtain the positive definite matrices than can be formed as based on the 
# specified (vectors) of the correlations (these matrices are used to 
# compute the PCA values)
PCA$Pos.Def
</code></pre>


</div>