<div class="container">

<table style="width: 100%;"><tr>
<td>dif.test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
DIF Test
</h2>

<h3>Description</h3>

<p>Performs a Wald-type test for Differential Item Functioning detection.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dif.test(est.mods = NULL, coef = NULL, var = NULL, names = NULL, 
  reference = NULL, method = "mean-mean",
  quadrature = TRUE, nq = 30, DIFtype = NULL, purification = FALSE, 
  signif.level = 0.05, trace = FALSE, maxiter = 30, anchor = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>est.mods</code></td>
<td>
<p>list of output objects from functions 
<code>rasch</code>, <code>ltm</code>, or <code>tpm</code> 
of the <code>ltm</code> package or from function <code>mirt</code> of the <code>mirt</code> package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>
<p>list of matrices (one for each group) containing 
the item parameter estimates. Guessing, difficulty and discrimination 
parameters should strictly be given in this order and they are 
contained in different columns of the matrix.
The names of the	rows of each matrix should be the names of the items.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>list of matrices (one for each group) containing the 
covariance matrix of item parameter estimates. They should be
given in the same order of coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>character vector containing the names of the groups. 
This should have the same length of <code>coef</code> and <code>var</code>.
If <code>NULL</code>, the names of the groups will be "T1", "T2", ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>

<p>reference group. Can be specified by name or number.
The default is the first group.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the equating method to be used in function 
<code>direc</code> to convert the item parameters
to the scale of the reference group. This should be one of
"<code>mean-mean</code>", "<code>mean-gmean</code>", "<code>mean-sigma</code>",
"<code>Haebara</code>" or "<code>Stocking-Lord</code>".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quadrature</code></td>
<td>
<p>logical; if TRUE the Gauss-Hermite quadrature is used
in function <code>direc</code>
to approximate the integral in the function that is minimized in the 
Haebara and Stocking-Lord methods.
If FALSE the integral is replaced with a sum over 40
equally spaced values ranging from -4 to 4 with an increment 
of 0.05 and weights equal to one for all values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nq</code></td>
<td>
<p>number of quadrature points used for the Gauss-Hermite quadrature
if <code>quadrature</code> is TRUE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DIFtype</code></td>
<td>
<p>character indicating which parameters to test for DIF.
If <code>NULL</code> all parameters are tested for DIF.
Use "<code>beta1</code>" for <code class="reqn">\beta_1</code>, "<code>beta2</code>" for <code class="reqn">\beta_2</code>,
"<code>beta3</code>" for <code class="reqn">\beta_3</code>, "<code>beta12</code>" for <code class="reqn">\beta_1</code>
and <code class="reqn">\beta_2</code>, "<code>beta123</code>" for <code class="reqn">\beta_1</code>, <code class="reqn">\beta_2</code>
and <code class="reqn">\beta_3</code>. See details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>purification</code></td>
<td>
<p>logical. if TRUE the procedure described in
Candell and Drasgow (1988) is applied.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>signif.level</code></td>
<td>

<p>significance level to use in the purification process.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>

<p>logical. If TRUE tracing information is produced.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>

<p>The maximum number of iterations in the purification process.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anchor</code></td>
<td>

<p>Optional character vector containing the names of the items 
to use for equating. These should be items free of DIF.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The parameterization of the IRT model is that commonly used for estimation.
Under this parameterization, the three-parameter logistic model is as follows
</p>
<p style="text-align: center;"><code class="reqn">\pi_i = c_i + (1 - c_i) \frac{\exp(\beta_{1i} + \beta_{2i} z)}{1 + 
	\exp(\beta_{1i} + \beta_{2i} z)},</code>
</p>
<p> where 
<code class="reqn">\pi_i</code> denotes the conditional probability of responding correctly to 
the <code class="reqn">i</code>th item given <code class="reqn">z</code>, 
<code class="reqn">c_i</code> denotes the guessing parameter, <code class="reqn">\beta_{1i}</code> is the easiness parameter, 
<code class="reqn">\beta_{2i}</code> is the discrimination parameter, and <code class="reqn">z</code> denotes the 
latent ability.
Furthermore, the guessing parameter is equal to
</p>
<p style="text-align: center;"><code class="reqn">c_i = \frac{\exp(\beta_{3i})}{1+\exp(\beta_{3i})}</code>
</p>
<p>.
</p>
<p>The test verifies whether the item parameters 
<code class="reqn">\beta_{1i}, \beta_{2i}, \beta_{3i}</code>
are invariant across two or more groups as explained in
Battauz (2018).
</p>


<h3>Value</h3>

<p>An object of class <code>dift</code> with components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>matrix containing the test statistic and the p-value for each item. 
"noGuess" is equal to 1 if the guessing parameter of a 3PL model was set
to a fixed value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eqmet</code></td>
<td>
<p>the equating method used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DIFtype</code></td>
<td>
<p>character indicating which parameters were tested for DIF.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>
<p>the reference group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>focal</code></td>
<td>
<p>the focal groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>names of the groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>purification</code></td>
<td>
<p>logical. If TRUE thre purification procedure was applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>signif.level</code></td>
<td>
<p>significance level used in the purification process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>equatings</code></td>
<td>
<p>list containing the output of function <code>direc</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef_trasf</code></td>
<td>
<p>list containing the item parameters of each group 
transformed to the scale of the reference group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_trasf</code></td>
<td>
<p>list containing the covariance matrix of 
item parameters of each group transformed to the scale of the reference group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>items.dif</code></td>
<td>
<p>names of the items for which the null hypothesis of the test is rejected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anchor</code></td>
<td>
<p>names of the items used as anchors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>niter</code></td>
<td>
<p>number of iterations.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michela Battauz
</p>


<h3>References</h3>

<p>Battauz, M. (2019). On Wald tests for differential item functioning detection.
<em>Statistical Methods and Applications</em>. <b>28</b>, 103-118.
</p>
<p>Candell,  G.L., Drasgow, F. (1988). An iterative procedure for linking 
metrics and assessing item bias in item response theory. 
<em>Applid Psychological Measurement</em>, <b>12</b>, 253-260.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load the data
data(dataDIF)
head(dataDIF)
# estimate a 2PL model for each group using the R package mirt
library(mirt)
data1 &lt;- dataDIF[dataDIF$group == 1, 1:20]
data2 &lt;- dataDIF[dataDIF$group == 2, 1:20]
data3 &lt;- dataDIF[dataDIF$group == 3, 1:20]
mod1 &lt;- mirt(data1, SE = TRUE)
mod2 &lt;- mirt(data2, SE = TRUE)
mod3 &lt;- mirt(data3, SE = TRUE)

# since package version 2.5.0 it is possible to skip function import.mirt
# as follows

# perform the test for DIF on two groups
res_diftest2 &lt;- dif.test(est.mods = list(mod1, mod2))
res_diftest2

# perform the test for DIF on three groups
res_diftest3 &lt;- dif.test(est.mods = list(mod1, mod2, mod3))
res_diftest3

# perform the test for DIF on three groups
# reference group: 2
# equating method: Haebara
# purification applied
res_diftest3 &lt;- dif.test(est.mods = list(mod1, mod2, mod3), 
  reference = 2, method = "Haebara", purification = TRUE)
res_diftest3
</code></pre>


</div>