<div class="container">

<table style="width: 100%;"><tr>
<td>ENsetcontrol</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set the parameters of a simple control statement</h2>

<h3>Description</h3>

<p><code>ENsetcontrol</code> sets the parameters of a simple control statements.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ENsetcontrol(
  cindex,
  ctype = NULL,
  lindex = NULL,
  setting = NULL,
  nindex = NULL,
  level = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cindex</code></td>
<td>
<p>Integer, control statement index</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctype</code></td>
<td>
<p>Integer or character string, the control type code (see Details below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lindex</code></td>
<td>
<p>Integer, index of the link being controlled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>setting</code></td>
<td>
<p>Numeric, value of the control setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nindex</code></td>
<td>
<p>Integer, the index of the controlling node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>value of controlling water level or pressure for level controls or of
time of control action (in seconds) for time-based controls</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Controls are indexed starting from 1 in the order in which they were entered into the
<code>[CONTROLS]</code> section of the EPANET input file.
Control type codes consist of the following:
</p>

<table>
<tr>
<td style="text-align: left;">
		<code>EN_LOWLEVEL</code>  </td>
<td style="text-align: left;">  0  </td>
<td style="text-align: left;">  Control applied when tank level or node pressure</td>
</tr>
<tr>
<td style="text-align: left;">
       					</td>
<td style="text-align: left;">  	 </td>
<td style="text-align: left;">    drops below specified level</td>
</tr>
<tr>
<td style="text-align: left;">
		<code>EN_HILEVEL</code>   </td>
<td style="text-align: left;">  1  </td>
<td style="text-align: left;">  Control applied when tank level or node pressure</td>
</tr>
<tr>
<td style="text-align: left;">
						</td>
<td style="text-align: left;">	 </td>
<td style="text-align: left;">  rises above specified level</td>
</tr>
<tr>
<td style="text-align: left;">
		<code>EN_TIMER</code>     </td>
<td style="text-align: left;">  2  </td>
<td style="text-align: left;">  Control applied at specific time into simulation</td>
</tr>
<tr>
<td style="text-align: left;">
		<code>EN_TIMEOFDAY</code> </td>
<td style="text-align: left;">  3  </td>
<td style="text-align: left;">  Control applied at specific time of day
  </td>
</tr>
</table>
<p>For pipes, a <code>setting</code> of 0 means the pipe is closed and 1 means it is open. For a
pump, the <code>setting</code> contains the pump's speed, with 0 meaning the pump is closed and
1 meaning it is open at its normal speed. For a valve, the <code>setting</code> refers to the valve's
pressure, flow, or loss coefficient, depending on valve type.
</p>
<p>For Timer or Time-of-Day controls set the <code>nindex</code> parameter to 0.
</p>
<p>For level controls, if the controlling node <code>nindex</code> is a tank then the level parameter
should be a water level above the tank bottom (not an elevation). Otherwise <code>level</code>
should be a junction pressure.
</p>
<p>To remove a control on a particular link, set the <code>lindex</code> parameter to 0. Values for the
other parameters in the function will be ignored.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly on success or raises an error or warning.
</p>


<h3>See Also</h3>

<p><code>ENsetcontrol</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetcontrol(1)
ENsetcontrol(1, ctype=2, lindex=3, setting=1, nindex=0, level=54)		
ENgetcontrol(1)
ENclose() 
</code></pre>


</div>