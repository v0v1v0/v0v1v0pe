<div class="container">

<table style="width: 100%;"><tr>
<td>collapseMC_Text</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recode a multiple choice variable according to a character variable.</h2>

<h3>Description</h3>

<p>Recode an labeled integer variable (based on an multiple choice item), according to a character variable (e.g. an open answer item).
</p>


<h3>Usage</h3>

<pre><code class="language-R">collapseMC_Text(
  GADSdat,
  mc_var,
  text_var,
  mc_code4text,
  var_suffix = "_r",
  label_suffix = "(recoded)"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mc_var</code></td>
<td>
<p>The variable name of the multiple choice variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_var</code></td>
<td>
<p>The variable name of the text variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mc_code4text</code></td>
<td>
<p>The value label in <code>mc_var</code> that indicates that information from the text variable should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_suffix</code></td>
<td>
<p>Variable name suffix for the newly created variables. If <code>NULL</code>, variables are overwritten.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_suffix</code></td>
<td>
<p>Variable label suffix for the newly created variable (only added in the meta data). If <code>NULL</code> no suffix is added.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Multiple choice variables can be represented as labeled integer variables in a <code>GADSdat</code>. Multiple choice items with a forced choice
frequently contain an open answer category. However, sometimes open answers overlap with the existing categories in the multiple choice
item. <code>collapseMC_Text</code> allows recoding the multiple choice variable based on the open answer variable.
</p>
<p><code>mc_code4text</code> indicates when entries in the <code>text_var</code> should be used. Additionally, entries in the <code>text_var</code> are also
used when there are missings on the <code>mc_var</code>. New values for the <code>mc_var</code> are added in the meta data, while preserving the initial
ordering of the value labels. Newly added value labels are sorted alphabetically.
</p>
<p>For more details see the help vignette:
<code>vignette("recoding_forcedChoice", package = "eatGADS")</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> containing the newly computed variable.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example gads
example_df &lt;- data.frame(ID = 1:5, mc = c("blue", "blue", "green", "other", "other"),
                        open = c(NA, NA, NA, "yellow", "blue"),
                        stringsAsFactors = FALSE)
example_df$mc &lt;- as.factor(example_df$mc)
gads &lt;- import_DF(example_df)

# recode
gads2 &lt;- collapseMC_Text(gads, mc_var = "mc", text_var = "open",
                        mc_code4text = "other")

</code></pre>


</div>