<div class="container">

<table style="width: 100%;"><tr>
<td>entities</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get entities</h2>

<h3>Description</h3>

<p>Entities in <code>epiworld</code> are objects that can contain agents.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_entities(model)

## S3 method for class 'epiworld_entities'
x[i]

entity(name, prevalence, as_proportion, to_unassigned = TRUE)

get_entity_size(entity)

get_entity_name(entity)

entity_add_agent(entity, agent, model = attr(entity, "model"))

rm_entity(model, id)

add_entity(model, entity)

load_agents_entities_ties(model, agents_id, entities_id)

entity_get_agents(entity)

distribute_entity_randomly(prevalence, as_proportion, to_unassigned = TRUE)

distribute_entity_to_set(agents_ids)

set_distribution_entity(entity, distfun)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Model object of class <code>epiworld_model</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object of class <code>epiworld_entities</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>Integer index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Character scalar. Name of the entity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prevalence</code></td>
<td>
<p>Numeric scalar. Prevalence of the entity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_proportion</code></td>
<td>
<p>Logical scalar. If <code>TRUE</code>, <code>prevalence</code> is interpreted
as a proportion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to_unassigned</code></td>
<td>
<p>Logical scalar. If <code>TRUE</code>, the entity is added to the
unassigned pool.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>entity</code></td>
<td>
<p>Entity object of class <code>epiworld_entity</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agent</code></td>
<td>
<p>Agent object of class <code>epiworld_agent</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Integer scalar. Entity id to remove (starting from zero).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agents_id</code></td>
<td>
<p>Integer vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>entities_id</code></td>
<td>
<p>Integer vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agents_ids</code></td>
<td>
<p>Integer vector. Ids of the agents to distribute.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distfun</code></td>
<td>
<p>Distribution function object of class <code>epiworld_distribution_entity</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Epiworld entities are especially useful for mixing models, particularly
ModelSIRMixing and ModelSEIRMixing.
</p>


<h3>Value</h3>


<ul><li>
<p> The function <code>entity</code> creates an entity object.
</p>
</li></ul>
<ul><li>
<p> The function <code>get_entity_size</code> returns the number of agents in the entity.
</p>
</li></ul>
<ul><li>
<p> The function <code>get_entity_name</code> returns the name of the entity.
</p>
</li></ul>
<ul><li>
<p> The function <code>entity_add_agent</code> adds an agent to the entity.
</p>
</li></ul>
<ul><li>
<p> The function <code>rm_entity</code> removes an entity from the model.
</p>
</li></ul>
<ul><li>
<p> The function <code>load_agents_entities_ties</code> loads agents into entities.
</p>
</li></ul>
<ul><li>
<p> The function <code>entity_get_agents</code> returns an integer vector with the agents
in the entity (ids).
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R"># Creating a mixing model
mymodel &lt;- ModelSIRMixing(
 name = "My model",
 n = 10000,
 prevalence = .001,
 contact_rate = 10,
 transmission_rate = .1,
 recovery_rate = 1/7,
 contact_matrix = matrix(c(.9, .1, .1, .9), 2, 2)
)

ent1 &lt;- entity("First", 5000, FALSE)
ent2 &lt;- entity("Second", 5000, FALSE)

mymodel |&gt;
  add_entity(ent1) |&gt;
  add_entity(ent2)

run(mymodel, ndays = 100, seed = 1912)

summary(mymodel)
</code></pre>


</div>