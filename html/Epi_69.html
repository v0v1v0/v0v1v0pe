<div class="container">

<table style="width: 100%;"><tr>
<td>effx</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to calculate effects</h2>

<h3>Description</h3>

<p>The function calculates the effects of an exposure on a response,
possibly stratified by a stratifying variable, and/or controlled for one
or more confounding variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">effx( response, type = "metric",
	         fup = NULL,
	    exposure,
	      strata = NULL,
	     control = NULL,
             weights = NULL,
                 eff = NULL,
	       alpha = 0.05,
	        base = 1,
	      digits = 3,
	        data = NULL )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>The <code>response</code> variable - must be numeric or
logical. If logical, <code>TRUE</code> is considered the outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of response<code>type</code> - must be one of "metric",
"binary", "failure", or "count"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fup</code></td>
<td>
<p>The <code>fup</code> variable contains the follow-up time for a
failure response. This must be numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure</code></td>
<td>
<p>The <code>exposure</code> variable can be numeric or a factor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>The <code>strata</code> stratifying variable - must be a factor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>The <code>control</code> variable(s) (confounders) - these are
passed as a list if there are more than one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Frequency weights for binary response only</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eff</code></td>
<td>
<p>How should effects be measured. If <code>response</code> is
binomial, the default is "OR" (odds-ratio) with "RR" (relative risk)
as an option. If <code>response</code> is failure, the default is "RR"
(rate-ratio) with "RD" (rate difference) as an option.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>Baseline for the effects of a categorical exposure, either a
number or a name of the level. Defaults to 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of significant digits for the effects, default 3</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>1 - confidence level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data</code> refers to the data used to evaluate the function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function is a wrapper for glm. Effects are calculated as
differences in means for a metric response, odds ratios/relative risks
for a binary response, and rate ratios/rate differences for a failure
or count response.
</p>
<p>The k-1 effects for a categorical exposure with k levels are relative
to a baseline which, by default, is the first level. The effect of a
metric (quantitative) exposure is calculated per unit of exposure.
</p>
<p>The exposure variable can be numeric or a factor, but if it is an
ordered factor the order will be ignored.</p>


<h3>Value</h3>



<table>
<tr style="vertical-align: top;">
<td><code>comp1 </code></td>
<td>
<p>Effects of exposure</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comp2 </code></td>
<td>
<p>Tests of significance</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michael Hills (*1934-Jun-07, +2021-Jan-07)</p>


<h3>Examples</h3>

<pre><code class="language-R">library(Epi)
data(births)
births$hyp &lt;- factor(births$hyp,labels=c("normal","hyper"))
births$sex &lt;- factor(births$sex,labels=c("M","F"))

# bweight is the birth weight of the baby in gms, and is a metric
# response (the default)

# effect of hypertension on birth weight
effx(bweight,exposure=hyp,data=births)
# effect of hypertension on birth weight stratified by sex
effx(bweight,exposure=hyp,strata=sex,data=births)
# effect of hypertension on birth weight controlled for sex
effx(bweight,exposure=hyp,control=sex,data=births)

print( options('na.action') )
# effect of gestation time on birth weight
effx(bweight,exposure=gestwks,data=births)
# effect of gestation time on birth weight stratified by sex
effx(bweight,exposure=gestwks,strata=sex,data=births)
# effect of gestation time on birth weight controlled for sex
effx(bweight,exposure=gestwks,control=sex,data=births)

# lowbw is a binary response coded 1 for low birth weight and 0 otherwise
# effect of hypertension on low birth weight
effx(lowbw,type="binary",exposure=hyp,data=births)
effx(lowbw,type="binary",exposure=hyp,eff="RR",data=births)
</code></pre>


</div>