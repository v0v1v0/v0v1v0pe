<div class="container">

<table style="width: 100%;"><tr>
<td>explain</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Explain a search query.</h2>

<h3>Description</h3>

<p>Explain a search query.
</p>


<h3>Usage</h3>

<pre><code class="language-R">explain(
  conn,
  index,
  id,
  type = NULL,
  source2 = NULL,
  fields = NULL,
  routing = NULL,
  parent = NULL,
  preference = NULL,
  source = NULL,
  q = NULL,
  df = NULL,
  analyzer = NULL,
  analyze_wildcard = NULL,
  lowercase_expanded_terms = NULL,
  lenient = NULL,
  default_operator = NULL,
  source_exclude = NULL,
  source_include = NULL,
  body = NULL,
  raw = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>conn</code></td>
<td>
<p>an Elasticsearch connection object, see <code>connect()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>Only one index. Required</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Document id, only one. Required</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Only one document type, optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source2</code></td>
<td>
<p>(logical) Set to TRUE to retrieve the _source of the document
explained. You can also retrieve part of the document by using
source_include &amp; source_exclude (see Get API for more details). This
matches the <code style="white-space: pre;">⁠_source⁠</code> term, but we want to avoid the leading underscore.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>
<p>Allows to control which stored fields to return as part of
the document explained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>routing</code></td>
<td>
<p>Controls the routing in the case the routing was used during
indexing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parent</code></td>
<td>
<p>Same effect as setting the routing parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preference</code></td>
<td>
<p>Controls on which shard the explain is executed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>Allows the data of the request to be put in the query string
of the url.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>The query string (maps to the query_string query).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>The default field to use when no field prefix is defined within
the query. Defaults to _all field.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analyzer</code></td>
<td>
<p>The analyzer name to be used when analyzing the query
string. Defaults to the analyzer of the _all field.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analyze_wildcard</code></td>
<td>
<p>(logical) Should wildcard and prefix queries be
analyzed or not. Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lowercase_expanded_terms</code></td>
<td>
<p>Should terms be automatically lowercased
or not. Default: <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lenient</code></td>
<td>
<p>If set to true will cause format based failures (like
providing text to a numeric field) to be ignored. Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_operator</code></td>
<td>
<p>The default operator to be used, can be AND or OR.
Defaults to OR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source_exclude</code></td>
<td>
<p>A vector of fields to exclude from the returned
source2 field</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source_include</code></td>
<td>
<p>A vector of fields to extract and return from the
source2 field</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>body</code></td>
<td>
<p>The query definition using the Query DSL. This is passed in the
body of the request.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw</code></td>
<td>
<p>If <code>TRUE</code> (default), data is parsed to list. If <code>FALSE</code>, then
raw JSON.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Curl args passed on to crul::HttpClient</p>
</td>
</tr>
</table>
<h3>References</h3>

<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-explain.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/search-explain.html</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
(x &lt;- connect())

explain(x, index = "plos", id = 14, q = "title:Germ")

body &lt;- '{
 "query": {
   "match": { "title": "Germ" }
 }
}'
explain(x, index = "plos", id = 14, body=body)

## End(Not run)
</code></pre>


</div>