<div class="container">

<table style="width: 100%;"><tr>
<td>weight_by</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create dataset according to its frequency weights</h2>

<h3>Description</h3>

<p>This is a "brute force" weighting procedure. Each row of the dataset is
replicated "case weight" times. If 'weight' is not integer it will
be rounded to the nearest integer. So cases with weight less than 0.5 will be
removed from the dataset. Such weighting is used in the several statistical
procedures in the SPSS Statistic, e. g. for the Spearman correlation
coefficient or GLM.
</p>


<h3>Usage</h3>

<pre><code class="language-R">weight_by(data, weight = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame, data.table or matrix. Dataset which will be weighted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>unquoted column name of weights in 'data' or vector of weights.
If it is NULL 'data' will be returned unchanged.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>'data' with each row replicated according to case weight.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(state) # US states
# convert matrix to data.table
states = data.table(state.x77, keep.rownames = "State")

# create weighted dataset
states_weighted = states %&gt;% 
    let(
        # calculate 'weight' variable. 
        weight = Population/100
    ) %&gt;% 
    weight_by(weight)

# Each row in the weighted dataset is represented proportionally to the population of the state
nrow(states) # unweigthed number of cases
nrow(states_weighted) # number of cases in the weighted dataset
str(states_weighted)
</code></pre>


</div>