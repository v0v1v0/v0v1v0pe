<div class="container">

<table style="width: 100%;"><tr>
<td>cluster_to_nexus</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Export character partitions to a Nexus file
</h2>

<h3>Description</h3>

<p>Creates and exports a Nexus file with a list of characters and their respective partitions as inferred by the <code>make_clusters</code> function. The contents can be copied and pasted directly into a Mr. Bayes commands block for a partitioned clock Bayesian inference analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cluster_to_nexus(cluster_df, file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cluster_df</code></td>
<td>

<p>A <code>cluster_df</code> object; the output of a call to <code>make_clusters</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>

<p>The path of the text file to be created containing the partitioning information in Nexus format. If <code>NULL</code> (the default), no file will be written and the output will be returned as a string. If <code>""</code>, the text will be printed to the console. Passed directly to the <code>file</code> argument of <code>cat</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The text as a string, returned invisibly if <code>file</code> is not <code>NULL</code>. Use <code>cat</code> on the resulting output to format it correctly (i.e., to turn <code>"\n"</code> into line breaks).
</p>


<h3>See Also</h3>

<p><code>vignette("char-part")</code> for the use of this function as part of an analysis pipeline.
</p>
<p><code>make_clusters</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># See vignette("char-part") for how to use this
# function as part of an analysis pipeline

# Load example phylogenetic data matrix
data("characters")

# Create distance matrix
Dmatrix &lt;- get_gower_dist(characters)

# Find optimal partitioning scheme using PAM under k=3
# partitions
cluster_df &lt;- make_clusters(Dmatrix, k = 3)

# Write to Nexus file and export to .txt file:
file &lt;- tempfile(fileext = ".txt")

# You would set, e.g.,
# file &lt;- "path/to/file.txt"

cluster_to_nexus(cluster_df, file = file)
</code></pre>


</div>