<div class="container">

<table style="width: 100%;"><tr>
<td>controlBMAnormal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Control parameters for BMA mixtures of normals
</h2>

<h3>Description</h3>

<p>Specifies a list of values controling the Bayesian Model Averaging fit 
of a mixture of normals to ensemble forecasts.
</p>


<h3>Usage</h3>

<pre><code class="language-R">controlBMAnormal(maxIter, tol, equalVariance, biasCorrection, init) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>maxIter</code></td>
<td>

<p>An integer specifying an upper limit on the number of iterations
for fitting the BMA mixture via EM. The default is <code>Inf</code>, 
which sets no upper limit on the number of iterations, 
so that the convergence criterion based on <code>eps</code> is used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>

<p>A numeric convergence tolerance. The EM fit for the mixture 
model is terminated when the relative error in successive 
objective values in the M-step falls below <code>tol</code>.
The default is <code>sqrt(.Machine$double.eps)</code>, 
which is approximately <code>1.e-8</code> on IEEE compliant machines.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>equalVariance</code></td>
<td>

<p>A logical value indicating whether or not the variances for
the mixture components should to be equal.
The default is to constrain them to be equal.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>biasCorrection</code></td>
<td>

<p>A character string describing the type of bias correction to be used.
</p>

<dl>
<dt><code>"regression"</code></dt>
<dd>
<p>The bias correction term is formed by regression on the forecast values 
(including an intercept).
</p>
</dd>
<dt><code>"additive"</code></dt>
<dd>
<p>The mean of the difference between observations 
and forecasts is used for bias correction.
</p>
</dd>
<dt><code>"none"</code></dt>
<dd>
<p>No bias correction.
</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>

<p>An optional list of initial values for standard deviations 
and weights. The default is to start with all standard deviations
equal to 1, and with equal weights for each member of the ensemble.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list whose components are the input arguments and their assigned values. 
</p>


<h3>References</h3>

<p>A. E. Raftery, T. Gneiting, F. Balabdaoui and M. Polakowski,
Using Bayesian model averaging to calibrate forecast ensembles,
<em>Monthly Weather Review 133:1155â€“1174, 2005</em>.
</p>
<p>C. Fraley, A. E. Raftery, T. Gneiting and J. M. Sloughter,
<code>ensembleBMA</code>: An <code>R</code> Package for Probabilistic Forecasting
using Ensemble and Bayesian Model Averaging,
Technical Report No. 516R, Department of Statistics, University of
Washington, 2007 (revised 2010).
</p>


<h3>See Also</h3>

<p><code>ensembleBMAnormal</code>, 
<code>fitBMAnormal</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  data(ensBMAtest)

  ensMemNames &lt;- c("gfs","cmcg","eta","gasp","jma","ngps","tcwb","ukmo")

  obs &lt;- paste("T2","obs", sep = ".")
  ens &lt;- paste("T2", ensMemNames, sep = ".")

  tempTestData &lt;- ensembleData( forecasts = ensBMAtest[,ens],
                                dates = ensBMAtest[,"vdate"],
                                observations = ensBMAtest[,obs],
                                station = ensBMAtest[,"station"],
                                forecastHour = 48,
                                initializationTime = "00")

## Not run:  # R check
  tempTestFit1 &lt;- ensembleBMAnormal(tempTestData, trainingDays = 30,
    control = controlBMAnormal(maxIter = 100, biasCorrection = "additive"))

## End(Not run)

# for quick run only; use more training days for forecasting
  tempTestFit1 &lt;- ensembleBMAnormal(tempTestData[1:20,], trainingDays = 5,
    control = controlBMAnormal(maxIter = 100, biasCorrection = "additive"))

</code></pre>


</div>