<div class="container">

<table style="width: 100%;"><tr>
<td>simulate.ergm.ego</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate from a <code>ergm.ego</code> fit.</h2>

<h3>Description</h3>

<p>A wrapper around <code>simulate.formula</code> to simulate networks
from an ERGM fit using <code>ergm.ego</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'ergm.ego'
simulate(
  object,
  nsim = 1,
  seed = NULL,
  constraints = object$constraints,
  popsize = if (object$popsize == 1 || object$popsize == 0 || is(object$popsize, "AsIs"))
    object$ppopsize else object$popsize,
  control = control.simulate.ergm.ego(),
  output = c("network", "stats", "edgelist", "pending_update_network", "ergm_state"),
  ...,
  basis = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An <code>ergm.ego</code> fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>Number of realizations to simulate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Seed value (integer) for the random number generator.  See
<code>set.seed</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraints, ...</code></td>
<td>
<p>Additional arguments passed to <code>san</code> and
<code>simulate.formula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>popsize, basis</code></td>
<td>
<p>A network size to which to scale the model for
simulation; a <code>data.frame</code> with at least those ego attributes
used to estimate the model to simulate over a specific set of
actors; or a <code>network</code> object to use as is. <code>basis</code> is provided
for consistency with <code>ergm()</code>, <code>ergm.ego()</code>, <code>simulate.ergm()</code>,
and others. If both are specified, <code>popsize</code> overrules.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>A <code>control.simulate.ergm.ego</code> control list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>one of <code>"network"</code>, <code>"stats"</code>, <code>"edgelist"</code>,
<code>"pending_update_network"</code>, or, for future compatibility,
<code>"ergm_state"</code>. See help for <code>simulate.ergm()</code> for explanation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A logical or an integer to control the amount of
progress and diagnostic information to be printed. <code>FALSE</code>/<code>0</code>
produces minimal output, with higher values producing more
detail. Note that very high values (5+) may significantly slow
down processing.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The ouput has the same format (with the same options) as
<code>simulate.formula</code>. If <code>output="stats"</code> is passed, an
additional attribute, <code>"ppopsize"</code> is set, giving the actual size of
the network reconstructed, when the <code>pop.wt</code> control parameter is set
to <code>"round"</code> and <code>"popsize"</code> is not a multiple of the egocentric
sample size or the sampling weights.
</p>


<h3>Author(s)</h3>

<p>Pavel N. Krivitsky
</p>


<h3>References</h3>


<ul>
<li>
<p> Pavel N. Krivitsky and Martina Morris (2017). "Inference for social network models from egocentrically sampled data, with application to understanding persistent racial disparities in HIV prevalence in the US." <em>Annals of Applied Statistics</em>, 11(1): 427–455. <a href="https://doi.org/10.1214/16-AOAS1010">doi:10.1214/16-AOAS1010</a>
</p>
</li>
<li>
<p> Pavel N. Krivitsky, Martina Morris, and Michał Bojanowski (2019). "Inference for Exponential-Family Random Graph Models from Egocentrically-Sampled Data with Alter–Alter Relations." NIASRA Working Paper 08-19. <a href="https://www.uow.edu.au/niasra/publications/">https://www.uow.edu.au/niasra/publications/</a>
</p>
</li>
<li>
<p> Pavel N. Krivitsky, Mark S. Handcock, and Martina Morris (2011). "Adjusting for
Network Size and Composition Effects in Exponential-Family Random Graph
Models." <em>Statistical Methodology</em>, 8(4): 319–339. <a href="https://doi.org/10.1016/j.stamet.2011.01.005">doi:10.1016/j.stamet.2011.01.005</a>
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>simulate.formula</code>,
<code>simulate.ergm</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(faux.mesa.high)
data(fmhfit)
colMeans(egosim &lt;- simulate(fmhfit, popsize=300,nsim=50,
                       output="stats", control=control.simulate.ergm.ego(
                       simulate=control.simulate.formula(MCMC.burnin=2e6))))
colMeans(egosim)/attr(egosim,"ppopsize")*network.size(faux.mesa.high)
summary(faux.mesa.high~edges+degree(0:3)+nodefactor("Race")+nodematch("Race")
           +nodefactor("Sex")+nodematch("Sex")+absdiff("Grade"))

</code></pre>


</div>