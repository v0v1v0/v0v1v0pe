<div class="container">

<table style="width: 100%;"><tr>
<td>rasterToGrid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert raster to sf grid</h2>

<h3>Description</h3>

<p>Convert a raster to sf polygons object, matching the attributes
of the target object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rasterToGrid(x, target, fun = "mean", crop = TRUE, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>rasterLayer or rasterStack or SpatRaster</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>epmGrid or sf object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>function for summarizing raster cells to polygons</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop</code></td>
<td>
<p>if TRUE, the raster will be cropped to the bounding box of the target</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>determines how <code>NA</code> cells are summarized</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, raster cells that overlap with target grid cell polygons
will be averaged. If target is a raster grid, then <code>terra::resample</code>
is used.
</p>


<h3>Value</h3>

<p>sf polygons object, or a list of such objects if input has multiple layers.
</p>


<h3>Author(s)</h3>

<p>Pascal Title
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(terra)

# We have a terra grid object (for example, climate data read in as a raster)
# Here, we are just generating some random data for demo
env &lt;- rast(vect(tamiasEPM[[1]]), resolution = 100000)
env[] &lt;- sample(1:100, ncell(env), replace = TRUE)
plot(env)

# Now, if we are interested in doing analyses of environmental data in relation to 
# the epmGrid data we have, we want to convert the env data to the same grid structure
# where the cells align and where raster grid values are resampled and averaged.

newgrid &lt;- rasterToGrid(env, target = tamiasEPM, fun = 'mean')
plot(newgrid)


# again but this time the input has multiple layers
env &lt;- rast(vect(tamiasEPM[[1]]), resolution = 100000, nlyr = 3)
values(env[[1]]) &lt;- sample(1:100, ncell(env), replace = TRUE)
values(env[[2]]) &lt;- sample(1:200, ncell(env), replace = TRUE)
values(env[[3]]) &lt;- sample(1:300, ncell(env), replace = TRUE)

newgrid &lt;- rasterToGrid(env, target = tamiasEPM, fun = 'mean')






</code></pre>


</div>