<div class="container">

<table style="width: 100%;"><tr>
<td>plotcorr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plot correlation matrix ellipses
</h2>

<h3>Description</h3>

<p>This function plots a correlation matrix using ellipse-shaped glyphs for
each entry.  The ellipse represents a level curve of the density of a
bivariate normal with the matching correlation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotcorr(corr, outline = TRUE, col = 'grey', numbers = FALSE, 
         type = c("full","lower","upper"),
	       diag = (type == "full"), bty = "n", axes = FALSE,
	       xlab = "", ylab = "", asp = 1,
	       cex.lab = par("cex.lab"), cex = 0.75*par("cex"),
	       mar = 0.1 + c(2,2,4,2), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>corr</code></td>
<td>

<p>A matrix containing entries between <code>-1</code> and <code>1</code> to be plotted as
correlations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outline</code></td>
<td>

<p>Whether the ellipses should be outlined in the default colour.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>

<p>Which colour(s) to use to fill the ellipses.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numbers</code></td>
<td>

<p>Whether to plot numerical correlations in place of ellipses.  If
numbers is <code>TRUE</code>, then the correlations will be rounded to a single decimal
place and placed on the plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character. Plot <code>"full"</code> matrix or just <code>"upper"</code> or
<code>"lower"</code> triangular part of it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diag</code></td>
<td>
<p>Logical. Plot diagonal elements or not. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bty, axes, xlab, ylab, asp, mar, cex.lab, ...</code></td>
<td>
<p>Graphical parameters
which will be passed to <code>plot</code> when plotting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>Graphical parameter
which will be passed to <code>text</code> when plotting.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The ellipses being plotted will be tangent to a unit character square,
with the shape chosen to match the required correlation.  If <code>numbers = FALSE</code>,
the <code>col</code> vector will be recycled to colour each of the ellipses; if
<code>TRUE</code>, it will be ignored.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch; Gregor Gorjanc suggested the <code>type</code> and <code>diag</code>
options.</p>


<h3>References</h3>

<p>Murdoch, D.J. and Chow, E.D. (1996). A graphical display of large
correlation matrices. The American Statistician 50, 178-180. <a href="https://doi.org/10.2307/2684435">doi:10.2307/2684435</a>.
</p>


<h3>See Also</h3>

<p><code>ellipse</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">save.par &lt;- par(ask = interactive())

# Plot the correlation matrix for the mtcars data full model fit 
data(mtcars)
fit &lt;- lm(mpg ~ ., mtcars)
plotcorr(summary(fit, correlation = TRUE)$correlation)

# Plot a second figure with numbers in place of the
# ellipses
plotcorr(summary(fit, correlation = TRUE)$correlation, numbers = TRUE)

# Colour the ellipses to emphasize the differences.  The color range
# is based on RColorBrewer's Reds and Blues (suggested by Gregor Gorjanc)

corr.mtcars &lt;- cor(mtcars)
ord &lt;- order(corr.mtcars[1,])
xc &lt;- corr.mtcars[ord, ord]
colors &lt;- c("#A50F15","#DE2D26","#FB6A4A","#FCAE91","#FEE5D9","white",
            "#EFF3FF","#BDD7E7","#6BAED6","#3182BD","#08519C")   
plotcorr(xc, col=colors[5*xc + 6])

plotcorr(xc, col=colors[5*xc + 6], type = "upper")
plotcorr(xc, col=colors[5*xc + 6], type = "lower", diag = TRUE)
par(save.par)
</code></pre>


</div>