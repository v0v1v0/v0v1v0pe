<div class="container">

<table style="width: 100%;"><tr>
<td>DMepi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Epidemiological rates for diabetes in Denmark 1996–2015</h2>

<h3>Description</h3>

<p>Register based counts and person-years for incidence of
diabetes and mortality with and without diabetes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data("DMepi")</code></pre>


<h3>Format</h3>

<p>A data frame with 4200 observations on the following 8 variables.
</p>

<dl>
<dt><code>sex</code></dt>
<dd>
<p>a factor with levels <code>M</code>, <code>F</code></p>
</dd>
<dt><code>A</code></dt>
<dd>
<p>Age class, 0–99</p>
</dd>
<dt><code>P</code></dt>
<dd>
<p>Calendar year, 1996–2016</p>
</dd>
<dt><code>X</code></dt>
<dd>
<p>Number of new diagnoses of diabetes among persons without diabetes</p>
</dd>
<dt><code>D.nD</code></dt>
<dd>
<p>Number of deaths among persons without diabetes</p>
</dd>	   
<dt><code>Y.nD</code></dt>
<dd>
<p>Person-years among persons without diabetes</p>
</dd>
<dt><code>D.DM</code></dt>
<dd>
<p>Number of deaths among persons with diabetes</p>
</dd>	   
<dt><code>Y.DM</code></dt>
<dd>
<p>Person-years among persons with diabetes</p>
</dd>
</dl>
<h3>Details</h3>

<p>Based on registers of the Danish population. Only included for
illustrative purposes. Cannot be used as scientifically validated
data, since small numbers are randomly permuted between units.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(DMepi)
# Total deaths and person-years in the Danish population
ftable( addmargins( xtabs( cbind( Deaths=D.nD+D.DM,
                                    PYrs=Y.nD+Y.DM ) ~ P + sex,
                           data=DMepi ),
                    2 ),
        row.vars = 1 )
# Deaths and person-years in the population of diabetes patients
round(
ftable( addmargins( xtabs( cbind( Deaths=D.DM,
                                    PYrs=Y.DM ) ~ P + sex,
                           data=DMepi ),
                    2 ),
        row.vars = 1 ) )

# Model for age-specific incidence rates;
inc &lt;- glm( X ~ sex + Ns( A, knots=seq(30,80,10) ) + P,
                offset = log(Y.nD),
                family = poisson,
                  data = DMepi )

# Predict for men and women separately in 2010:
ndm &lt;- data.frame( sex="M", A=20:90, P=2010, Y.nD=1000 )
ndf &lt;- data.frame( sex="F", A=20:90, P=2010, Y.nD=1000 )
prM &lt;- ci.pred( inc, ndm )
prF &lt;- ci.pred( inc, ndf )
matplot( ndm$A, cbind(prM,prF),
         type="l", lty=1, lwd=c(3,1,1),
         col=rep(c("blue","red"),each=3),
         log="y", xlab="Age", ylab="DM incidence per 1000 PY" )

# This is a proportional hazards model - add sex-age interaction
int &lt;- update( inc, . ~ . + sex:Ns( A, knots=seq(30,80,10) ) )
prM &lt;- ci.pred( int, ndm )
prF &lt;- ci.pred( int, ndf )
matplot( ndm$A, cbind(prM,prF),
         type="l", lty=1, lwd=c(3,1,1),
         col=rep(c("blue","red"),each=3),
         log="y", xlab="Age", ylab="DM incidence per 1000 PY" )

# The rate-ratio is teased out using the ci.exp:
RRp &lt;- ci.exp( inc, list(ndm,ndf) )
RRi &lt;- ci.exp( int, list(ndm,ndf) )

# and added to the plot
matlines( ndm$A, cbind(RRi,RRp),
          type="l", lty=1, lwd=c(3,1,1), col=gray(rep(c(0.3,0.7),each=3)) )
abline(h=1)
axis(side=4)
mtext( "Male/Female IRR", side=4, line=2 )
</code></pre>


</div>