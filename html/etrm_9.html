<div class="container">

<table style="width: 100%;"><tr>
<td>obpi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Option Based Portfolio Insurance (OBPI)</h2>

<h3>Description</h3>

<p>Implements OBPI strategy for commodity price risk management
</p>


<h3>Usage</h3>

<pre><code class="language-R">obpi(
  q,
  tdate,
  f,
  k = f[1],
  vol,
  r = 0,
  tdays = 250,
  daysleft,
  tcost = 0,
  int = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>numeric value for quantity to be hedged, either positive (net buyer) or negative (net seller)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tdate</code></td>
<td>
<p>date vector with trading days</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>numeric futures price vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>numeric value for option strike price</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vol</code></td>
<td>
<p>value for volatility</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>value for interest rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tdays</code></td>
<td>
<p>integer assumed number of trading days per year</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>daysleft</code></td>
<td>
<p>integer with days left to option expiry</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tcost</code></td>
<td>
<p>numeric transaction costs pr unit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int</code></td>
<td>
<p>TRUE/ FALSE integer restriction on tradable volume</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>instance of the OBPI class
</p>


<h3>Examples</h3>

<pre><code class="language-R"># OBPI for a buyer (seller), where stop loss is set 10% above (below) initial market price.

set.seed(5)
# GBM price process parameters
mu &lt;- 0.2
sigma &lt;- 0.1
S0 &lt;- 100

# time
Y &lt;- 2
N &lt;- 500
delta &lt;- Y/N
t &lt;- seq (0, 1, length = N + 1)

# price process and date vector
W &lt;- c(0, cumsum ( sqrt(delta) * rnorm (N)))
f_gbm &lt;- S0 * exp(mu * t + sigma * W)
tr_dates &lt;- seq(Sys.Date(), Sys.Date()+500, by = "day")

#implement obpi strategy for buyer
obpi_b &lt;- obpi(q = 10,
tdate = tr_dates,
f = f_gbm,
k = f_gbm[1],
vol = 0.2,
r =  0,
tdays = 250,
daysleft = length(f_gbm),
tcost = 0,
int = TRUE)

# implement obpi strategy for seller
obpi_s &lt;- obpi(q = - 10,
tdate = tr_dates,
f = f_gbm,
k = f_gbm[1],
vol = 0.2,
r =  0,
tdays = 250,
daysleft = length(f_gbm),
tcost = 0,
int = TRUE)

</code></pre>


</div>