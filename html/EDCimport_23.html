<div class="container">

<table style="width: 100%;"><tr>
<td>read_trialmaster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read the <code>.zip</code> archive of a TrialMaster export</h2>

<h3>Description</h3>

<p>Import the <code>.zip</code> archive of a TrialMaster trial export as a list of dataframes. The archive filename should be leaved untouched as it contains the project name and the date of extraction. <br>
Generate a <code>.rds</code> cache file for future reads. <br>
If <code style="white-space: pre;">⁠7zip⁠</code> is not installed or available, use <code>read_tm_all_xpt()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_trialmaster(
  archive,
  ...,
  use_cache = "write",
  clean_names_fun = NULL,
  split_mixed = FALSE,
  extend_lookup = TRUE,
  pw = getOption("trialmaster_pw"),
  verbose = getOption("edc_read_verbose", 1),
  key_columns = "deprecated"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>archive</code></td>
<td>
<p>[<code>character(1)</code>]<br> the path to the archive</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_cache</code></td>
<td>
<p>[<code>mixed(1)</code>: "write"]<br> controls the <code>.rds</code> cache. If <code>TRUE</code>, read the cache if any or extract the archive and create a cache. If <code>FALSE</code> extract the archive without creating a cache file. Can also be <code>"read"</code> or <code>"write"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean_names_fun</code></td>
<td>
<p>[<code>function</code>]<br> a function to clean column names, e.g. tolower, <code>janitor::clean_names()</code>,...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_mixed</code></td>
<td>
<p>[<code>logical(1): FALSE</code>]<br> whether to split mixed datasets. See split_mixed_datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extend_lookup</code></td>
<td>
<p>[<code>character(1): FALSE</code>]<br> whether to enrich the lookup table. See extend_lookup.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pw</code></td>
<td>
<p>[<code>character(1)</code>]<br> The password if the archive is protected. To avoid writing passwords in plain text, it is probably better to use <code>options(trialmaster_pw="xxx")</code> instead though.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>[<code>logical(1)</code>]<br> one of <code>c(0, 1, 2)</code>. The higher, the more information will be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key_columns</code></td>
<td>
<p>deprecated</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list containing one dataframe for each <code>.xpt</code> file in the folder, the extraction date (<code>datetime_extraction</code>), and a summary of all imported tables (<code>.lookup</code>). If not set yet, option <code>edc_lookup</code> is automatically set to <code>.lookup</code>.
</p>


</div>