<div class="container">

<table style="width: 100%;"><tr>
<td>foreignTbl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a foreign tibble</h2>

<h3>Description</h3>

<p>Create a foreign tibble
</p>


<h3>Usage</h3>

<pre><code class="language-R">foreignTbl(
  x,
  y,
  by = intersect(dplyr::tbl_vars(x), dplyr::tbl_vars(y)),
  naturalKey = dplyr::tbl_vars(y),
  allowNew = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>tbl</code>. The referencing table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p><code>tbl</code>. The referenced table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p><code>character</code>. Column names to match on.
Note that you should rename and/or typecast the columns in y should they not exactly match the columns in x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>naturalKey</code></td>
<td>
<p><code>character</code>. The columns that form the natural key in y.
These are the only ones that can actually get modified in <code>eDT</code> when changing cells in the table.
Reasoning being that these columns should be sufficient to uniquely identify a row in the referenced table.
All other columns will be automatically fetched and filled in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allowNew</code></td>
<td>
<p><code>logical</code>. Whether or not new values are allowed. If <code>TRUE</code>,
the rows in the foreignTbl will only be used as suggestions, not restrictions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a tibble that can be passed onto <code>eDT</code> as a referenced table.
</p>
<p>It is the equivalent of a database table to which the <code>data</code> tbl of eDT has a foreign key.
</p>
<p>It will be merged with the tbl passed onto the <code>data</code> argument allowing to provide restrictions
for certain columns.
</p>
<p>Note that row uniqueness for the columns used in <code>by</code> and <code>naturalKey</code> is assumed.
This assumption will however not be checked since it is an expensive operation on big datasets.
However, if violated, it might give errors or unexpected results during usage of the eDT module.
</p>


<h3>Value</h3>

<p>List with unmodified arguments. However, they have now been checked for validity.
</p>

<ul>
<li>
<p> y, see argument <code>y</code>.
</p>
</li>
<li>
<p> by, see argument <code>by</code>.
</p>
</li>
<li>
<p> naturalKey, see argument <code>naturalKey</code>.
</p>
</li>
<li>
<p> allowNew, see argument <code>allowNew</code>
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Jasper Schelfhout
</p>


<h3>Examples</h3>

<pre><code class="language-R">a &lt;- tibble::tibble(
   first_name = c("Albert","Donald","Mickey"),
   last_name_id = c(1,2,2)
 )

b &lt;-  foreignTbl(
 a,
 tibble::tibble(
     last_name = c("Einstein", "Duck", "Mouse"),
     last_name_id = c(1,2,3)
   ),
 by = "last_name_id",
 naturalKey = "last_name"
)

## Only run this in interactive R sessions
if(interactive()){
  eDT(a,
   foreignTbls = list(b),
   options = list(columnDefs = list(list(visible=FALSE, targets="last_name_id")))
  )
 }


</code></pre>


</div>