<div class="container">

<table style="width: 100%;"><tr>
<td>control.ergm.ego</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Control parameters for <code>ergm.ego</code>.</h2>

<h3>Description</h3>

<p>Constructs and checks the list of control parameters for estimation by
<code>ergm.ego</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">control.ergm.ego(
  ppopsize = c("auto", "samp", "pop"),
  ppopsize.mul = 1,
  ppop.wt = c("round", "sample"),
  stats.wt = c("data", "ppop"),
  stats.est = c("survey", "asymptotic", "bootstrap", "jackknife", "naive"),
  boot.R = 10000,
  ignore.max.alters = TRUE,
  ergm = control.ergm(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ppopsize, ppopsize.mul</code></td>
<td>
<p>Parameters to determine the size
<code class="reqn">|N'|</code> of the pseudopopulation network. <code>ppopsize</code> can be
</p>

<dl>
<dt>"auto"</dt>
<dd>
<p>If the <code>popsize</code> (<code class="reqn">|N|</code>) argument is
specified and is different from 1, as if <code>"pop"</code>; otherwise,
as <code>"samp"</code>.</p>
</dd>
<dt>"samp"</dt>
<dd>
<p>set <code class="reqn">|N'|</code> based on the sample size:
<code class="reqn">|N'|=|S| \times \code{popsize.mul}</code></p>
</dd>
<dt>"pop"</dt>
<dd>
<p>set <code class="reqn">|N'|</code> based on the population size:
<code class="reqn">|N'|=|N| \times \code{popsize.mul}</code></p>
</dd>
<dt>a number</dt>
<dd>
<p>set <code class="reqn">|N'|</code> directly (<code>popsize.mul</code>
ignored)</p>
</dd>
<dt>a <code>network</code> object</dt>
<dd>
<p>use the specified network as the
pseudo-population network directly; use at your own risk</p>
</dd>
<dt>a data frame</dt>
<dd>
<p>use the specified data frame as the
pseudo-population; use at your own risk</p>
</dd>
</dl>
<p>The default is to use the same pseudopopulation size as the sample size,
but, particularly if there are sampling weights in the data, it should be
bigger.
</p>
<p>Note that depending on <code>ppop.wt</code>, this may only be an approximate
target specification, with the actual constructed pseudopopulation network
being slightly bigger or smaller.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppop.wt</code></td>
<td>
<p>Because each ego must be represented in the pseuodopopulation
network an integral number of times, if the sample is weighted (or the
target <code class="reqn">|N'|</code> calculated from <code>ppopsize</code> and <code>ppopsize.mul</code> is
not a multiple of the sample size), it may not be possible, for a finite
<code class="reqn">|N'|</code> to represent each ego exactly according to its relative weight,
and <code>ppop.wt</code> controls how the fractional egos are allocated:
</p>
 <dl>
<dt>"round"</dt>
<dd>
<p>(default) Rather than treating <code>ppopsize</code> as
a hard setting, calculate <code class="reqn">|N'| w_i / w_\cdot</code> for each ego <code class="reqn">i</code> and
round it to the nearest integer. Then, the <code class="reqn">|N'|</code> actually used will be
the sum of these rounded freqencies.</p>
</dd>
<dt>"sample"</dt>
<dd>
<p>Resample in proportion to <code class="reqn">w_i</code>.</p>
</dd> </dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stats.wt</code></td>
<td>
<p>Weight assigned to each ego's contribution to the ERGM's
sufficient statistic: </p>
 <dl>
<dt>"data"</dt>
<dd>
<p>(default) Use weights
<code class="reqn">|N'| w_i / w_\cdot</code> for each ego <code class="reqn">i</code> as in the data.</p>
</dd> <dt>"ppop"</dt>
<dd>
<p>Use weights ultimately used in the
pseudopopulation network.</p>
</dd> </dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stats.est, boot.R</code></td>
<td>
<p>Method to be used to estimate the ERGM's sufficient
statistics and their variance: </p>

<dl>
<dt>"survey"</dt>
<dd>
<p>Variance estimator returned by <code>survey::svymean()</code>, appropriate to the design of the dataset.</p>
</dd>
<dt>"asymptotic"</dt>
<dd>
<p>Delta method, as derived by Krivitsky and
Morris (2017), assuming the ego weights are sampled alongside the
egos.</p>
</dd>
<dt> (default)</dt>
<dd>
<p>Delta method, as derived by Krivitsky and Morris
(2017), assuming the ego weights are sampled alongside the egos.</p>
</dd>
<dt>"bootstrap"</dt>
<dd>
<p>Nonparametric bootstrap with bias correction,
resampling egos, using <code>R</code> replications.</p>
</dd>
<dt>"jackknife"</dt>
<dd>
<p>Jackknife with bias correction.</p>
</dd>
<dt>"naive"</dt>
<dd>
<p>"Naive" estimator, assuming that weights are
fixed.</p>
</dd> </dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore.max.alters</code></td>
<td>
<p>if <code>TRUE</code>, ignores any constraints on the
number of nominations. Used to be <code>FALSE</code>, now <code>TRUE</code> in light of
the findings of Krivitsky et. al (2020).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ergm</code></td>
<td>
<p>Control parameters for the <code>ergm()</code> call
to fit the model, constructed by <code>control.ergm()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not used at this time.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with arguments as components.
</p>


<h3>Author(s)</h3>

<p>Pavel N. Krivitsky
</p>


<h3>References</h3>

<p>Pavel N. Krivitsky and Martina Morris (2017). "Inference for social network models from egocentrically sampled data, with application to understanding persistent racial disparities in HIV prevalence in the US." <em>Annals of Applied Statistics</em>, 11(1): 427–455. <a href="https://doi.org/10.1214/16-AOAS1010">doi:10.1214/16-AOAS1010</a>
</p>
<p>Pavel N. Krivitsky, Martina Morris, and Michał Bojanowski (2019). "Inference for Exponential-Family Random Graph Models from Egocentrically-Sampled Data with Alter–Alter Relations." NIASRA Working Paper 08-19. <a href="https://www.uow.edu.au/niasra/publications/">https://www.uow.edu.au/niasra/publications/</a>
</p>
<p>Pavel N. Krivitsky, Michał Bojanowski, and Martina Morris (2020). "Impact of survey design on estimation of exponential-family random graph models from egocentrically-sampled data." <em>Social Networks</em>, to appear. <a href="https://doi.org/10.1016/j.socnet.2020.10.001">doi:10.1016/j.socnet.2020.10.001</a>
</p>
<p>Pavel N. Krivitsky, Mark S. Handcock, and Martina Morris (2011). "Adjusting for
Network Size and Composition Effects in Exponential-Family Random Graph
Models." <em>Statistical Methodology</em>, 8(4): 319–339. <a href="https://doi.org/10.1016/j.stamet.2011.01.005">doi:10.1016/j.stamet.2011.01.005</a>
</p>


<h3>See Also</h3>

<p><code>control.ergm()</code>
</p>


</div>