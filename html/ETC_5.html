<div class="container">

<table style="width: 100%;"><tr>
<td>etc.rat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Simultaneous equivalence to control for ratios of means </h2>

<h3>Description</h3>

<p>Performs simultaneous equivalence tests and related confidence intervals for
ratios to control in a one-way layout.
</p>


<h3>Usage</h3>

<pre><code class="language-R">etc.rat(formula, data, base = 1, margin.up = NULL, margin.lo = 1/margin.up,
        method = "var.unequal", FWER = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p> a formula specifying a numerical response and a
grouping factor (e.g., response ~ treatment) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p> a data frame containing the response and group variable as columns </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p> a single integer specifying the control group </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin.up</code></td>
<td>
<p> a single numerical value or a numeric vector (of lenght equal to the
number of comparisons) for relative upper margins under the null
hypotheses </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin.lo</code></td>
<td>
<p> a single numerical value or a numeric vector (of lenght equal to the
number of comparisons) for relative lower margins under the null
hypotheses, set to 1/margin.up by default if not given </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p> a character string:
</p>

<ul>
<li>
<p> "var.unequal": possibly unequal group variances,
</p>
</li>
<li>
<p> "var.equal": equal group variances </p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FWER</code></td>
<td>
<p> a single numeric value specifying the familywise error rate to be
controlled by the simultaneous confidence intervals </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Having several treatment groups and a control, the object is to simultaneously select
those treatments being equivalent to the control. Bonferroni adjusted "two one-sided
t-tests" (TOST) and related simultaneous confidence intervals are used for ratios
of means of normally distributed data with equal group variances (method="var.equal").
A pooled sample variance over all treatments is taken in this case. Welch-t-Tests are
applied for unequal variances (method="var.unequal").
</p>


<h3>Value</h3>

<p>An object of class etc.rat containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p> a (named) vector of estimated ratios </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.stat</code></td>
<td>
<p> a (named) vector of the calculated test statistics
(method="var.equal")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.stat.up</code></td>
<td>
<p> a (named) vector of the calculated test statistics (up)
(method="var.unequal")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.stat.do</code></td>
<td>
<p> a (named) vector of the calculated test statistics (do)
(method="var.unequal")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>degr.fr</code></td>
<td>
<p> a single degree of freedom (method="var.equal") </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>degr.fr.up</code></td>
<td>
<p> a (named) vector of degrees of freedom for test statistics (up)
(method="var.unequal") </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>degr.fr.do</code></td>
<td>
<p> a (named) vector of degrees of freedom for test statistics (do)
(method="var.unequal") </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>degr.fr.ci</code></td>
<td>
<p> a (named) vector of degrees of freedom used for the confidence
intervals (method="var.unequal") </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crit.value</code></td>
<td>
<p> a single critical value (method="var.equal") </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crit.value.up</code></td>
<td>
<p> a (named) vector of critical values for test statistics (up)
(method="var.unequal") </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crit.value.do</code></td>
<td>
<p> a (named) vector of critical values for test statistics (do)
(method="var.unequal") </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crit.value.ci</code></td>
<td>
<p> a (named) vector of critical values for the confidence
intervals (method="var.unequal") </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p> a (named) vector of p-values adjusted for multiplicity </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p> a (named) matrix of simultaneous confidence intervals </p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Because related to the TOST method, the confidence intervals have simultaneous coverage
probability (1-2alpha). The intervals are "expanded", see Bofinger (1985).
</p>


<h3>Author(s)</h3>

<p> Mario Hasler </p>


<h3>References</h3>

<p>Hothorn, L.A. and Hasler, M. (2008): Proof of hazard and proof of safety in
toxicological studies using simultaneous confidence intervals for differences and
ratios to control, Journal of Biopharmaceutical Statistics 18, 915-933;
</p>
<p>Bofinger, E. (1985): Expanded confidence intervals, Communications in Statistics - Theory
and Methods 14 (8), 1849-1864
</p>


<h3>See Also</h3>

 <p><code>etc.diff</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">data(BW)

comp &lt;- etc.rat(formula=Weight~Dose, data=BW, margin.up=1.25, method="var.equal")
summary(comp)
</code></pre>


</div>