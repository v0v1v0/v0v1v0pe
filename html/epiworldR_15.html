<div class="container">

<table style="width: 100%;"><tr>
<td>agents_smallworld</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Load agents to a model</h2>

<h3>Description</h3>

<p>These functions provide access to the network of the model. The network is
represented by an edgelist. The <code>agents_smallworld</code> function generates a
small world network with the Watts-Strogatz algorithm. The
<code>agents_from_edgelist</code> function loads a network from an edgelist.
The <code>get_network</code> function returns the edgelist of the network.
</p>


<h3>Usage</h3>

<pre><code class="language-R">agents_smallworld(model, n, k, d, p)

agents_from_edgelist(model, source, target, size, directed)

get_network(model)

get_agents_states(model)

add_virus_agent(agent, model, virus, state_new = -99, queue = -99)

add_tool_agent(agent, model, tool, state_new = -99, queue = -99)

has_virus(agent, virus)

has_tool(agent, tool)

change_state(agent, model, state_new, queue = -99)

get_agents_tools(model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Model object of class epiworld_model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n, size</code></td>
<td>
<p>Number of individuals in the population.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of ties in the small world network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d, directed</code></td>
<td>
<p>Logical scalar. Whether the graph is directed or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Probability of rewiring.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source, target</code></td>
<td>
<p>Integer vectors describing the source and target of
in the edgelist.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agent</code></td>
<td>
<p>Agent object of class <code>epiworld_agent</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>virus</code></td>
<td>
<p>Virus object of class <code>epiworld_virus</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state_new</code></td>
<td>
<p>Integer scalar. New state of the agent after the action is executed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>queue</code></td>
<td>
<p>Integer scalar. Change in the queuing system after the action is executed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tool</code></td>
<td>
<p>Tool object of class <code>epiworld_tool</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>new_state</code> and <code>queue</code> parameters are optional. If they are not
provided, the agent will be updated with the default values of the virus/tool.
</p>


<h3>Value</h3>


<ul><li>
<p> The 'agents_smallworld' function returns a model with the agents
loaded.
</p>
</li></ul>
<ul><li>
<p> The <code>agents_from_edgelist</code> function returns an empty model of class
<code>epiworld_model</code>.
</p>
</li></ul>
<ul><li>
<p> The <code>get_network</code> function returns a data frame with two columns
(<code>source</code> and <code>target</code>) describing the edgelist of the network.
</p>
</li></ul>
<ul><li> <p><code>get_agents_states</code> returns an character vector with the states of the
agents by the end of the simulation.
</p>
</li></ul>
<ul><li>
<p> The function <code>add_virus_agent</code> adds a virus to an agent and
returns the agent invisibly.
</p>
</li></ul>
<ul><li>
<p> The function <code>add_tool_agent</code> adds a tool to an agent and
returns the agent invisibly.
</p>
</li></ul>
<ul><li>
<p> The functions <code>has_virus</code> and <code>has_tool</code> return a logical scalar
indicating whether the agent has the virus/tool or not.
</p>
</li></ul>
<ul><li> <p><code>get_agents_tools</code> returns a list of class <code>epiworld_agents_tools</code>
with <code>epiworld_tools</code> (list of lists).
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">
# Initializing SIR model with agents_smallworld
sir &lt;- ModelSIR(name = "COVID-19", prevalence = 0.01, transmission_rate = 0.9, 
                recovery_rate = 0.1)
agents_smallworld(
   sir,
   n = 1000, 
   k = 5,
   d = FALSE,
   p = .01
 )
run(sir, ndays = 100, seed = 1912)
sir

# We can also retrieve the network
net &lt;- get_network(sir)
head(net)

# Simulating a bernoulli graph
set.seed(333)
n &lt;- 1000
g &lt;- matrix(runif(n ^ 2) &lt; .01, nrow = n)
diag(g) &lt;- FALSE
el &lt;- which(g, arr.ind = TRUE) - 1L


# Generating an empty model
sir &lt;- ModelSIR("COVID-19", .01, .8, .3)
agents_from_edgelist(
  sir,
  source = el[,1],
  target = el[,2],
  size   = n,
  directed = TRUE
)

# Running the simulation
run(sir, 50)

plot(sir)
</code></pre>


</div>