<div class="container">

<table style="width: 100%;"><tr>
<td>trprob.etm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Function to extract transition probabilities and (co)variance
</h2>

<h3>Description</h3>

<p>The <code>trprob</code> method is used to extract transition probabilities,
while <code>trcov</code> is used to obtain the (co)variance.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'etm'
trprob(x, tr.choice, timepoints, ...)
## S3 method for class 'etm'
trcov(x, tr.choice, timepoints, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>etm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tr.choice</code></td>
<td>
<p>A character vector of the form "from to" describing
for which transition one wishes to obtain the transition probabilities
or covariance estimates. For <code>trprob</code>, <code>tr.choice</code> must be
of length 1, while it can be of length 2 for <code>trcov</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timepoints</code></td>
<td>
<p>Time points at which one want the estimates. When
missing, estimates are obtained for all event times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector containing the transition probabilities or covariance
estimates either at the time specified in <code>timepoints</code> or at all
transition times.
</p>


<h3>Author(s)</h3>

<p>Arthur Allignol, <a href="mailto:arthur.allignol@gmail.com">arthur.allignol@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>etm</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(sir.cont)

# Modification for patients entering and leaving a state
# at the same date
# Change on ventilation status is considered
# to happen before end of hospital stay
sir.cont &lt;- sir.cont[order(sir.cont$id, sir.cont$time), ]
for (i in 2:nrow(sir.cont)) {
  if (sir.cont$id[i]==sir.cont$id[i-1]) {
    if (sir.cont$time[i]==sir.cont$time[i-1]) {
      sir.cont$time[i-1] &lt;- sir.cont$time[i-1] - 0.5
    }
  }
}

### Computation of the transition probabilities
# Possible transitions.
tra &lt;- matrix(ncol=3,nrow=3,FALSE)
tra[1, 2:3] &lt;- TRUE
tra[2, c(1, 3)] &lt;- TRUE

# etm
fit.etm &lt;- etm(sir.cont, c("0", "1", "2"), tra, "cens", 0)

## extract P_01(0, t) and variance
p01 &lt;- trprob(fit.etm, "0 1")
var.p01 &lt;- trcov(fit.etm, "0 1")

## covariance between P_00 and P_01
cov.00.01 &lt;- trcov(fit.etm, c("0 0", "0 1"))

## P_01 at some time points
trprob(fit.etm, "0 1", c(0, 15, 50, 100))
</code></pre>


</div>