<div class="container">

<table style="width: 100%;"><tr>
<td>lmave</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build multiple lm models and average them</h2>

<h3>Description</h3>

<p>Builds k lm models on k partitions of the data and averages their coefficients to get create one model. 
Each partition excludes k/nrow(data) observations. See links in the References section for further details on
this methodology.
</p>


<h3>Usage</h3>

<pre><code class="language-R">lmave(formula, data, k, method = "boot", seed = 5, weights = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>The formula to be passed to lm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data to be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>The number of models or data partitions desired</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Whether to split data by folds ("fold"), nested folds ("nestedfold"), or bootstrapping ("boot")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Seed for reproducibility (only needed if method is "boot")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Optional vector of weights to be passed to the fitting process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to be passed to the 'lm' function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In some cases–especially in some time series modeling (see ecmave function)–rather than building one model on the entire dataset, it may be preferable to build multiple models on subsets 
of the data and average them. The lmave function splits the data into k partitions of size (k-1)/k*nrow(data), builds k models, and then averages the coefficients of these 
models to get a final model. This is similar to averaging multiple tree regression models in algorithms like random forest. 
</p>
<p>Unlike the 'ecm' functin, this function only works with the 'lm' linear fitter.
</p>


<h3>Value</h3>

<p>an lm object
</p>


<h3>References</h3>

<p>Jung, Y. &amp; Hu, J. (2016). "A K-fold Averaging Cross-validation Procedure". https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5019184/
</p>
<p>Cochrane, C. (2018). "Time Series Nested Cross-Validation". https://towardsdatascience.com/time-series-nested-cross-validation-76adba623eb9
</p>


<h3>See Also</h3>

<p><code>lm</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##Not run

#Build linear models to predict Wilshire 5000 index based on corporate profits, 
#Federal Reserve funds rate, and unemployment rate
data(Wilshire)

#Build one model on the entire dataset
modelall &lt;- lm(Wilshire5000 ~ ., data = Wilshire[-1])

#Build a five fold averaged linear model on the entire dataset
modelave &lt;- lmave('Wilshire5000 ~ .', data = Wilshire[-1], k = 5) 

</code></pre>


</div>