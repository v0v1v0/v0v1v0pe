<div class="container">

<table style="width: 100%;"><tr>
<td>getActivations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to calculate the activations.</h2>

<h3>Description</h3>

<p>Calculate the activations for all or specific outcomes 
on the basis of a set of cues. This function combines the various 
functions to calculate the activations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getActivations(
  wmlist,
  data = NULL,
  cueset = NULL,
  split = "_",
  select.outcomes = NULL,
  init.value = 0,
  normalize = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>wmlist</code></td>
<td>
<p>A list with weightmatrices, generated by 
<code>RWlearning</code> or <code>updateWeights</code>. 
Or, alternatively, <code>wmlist</code> can be a single weightmatrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame with columns <code>Cues</code> and <code>Outcomes</code>, 
specifying one learning event per row (i.e., assuming 
<code>Frequency=1</code>, as data generated with 
<code>createTrainingData</code>). 
Optional argument: when <code>data</code> is provided, the activations will 
be calculated for each learning event in <code>data</code> (i.e., for 
the combination of cues and outcomes). When <code>data</code> is set to NULL 
(no data frame provided), this function will use the cue sets 
specified in <code>cueset</code>. Use the argument <code>select.outcomes</code> 
to specify a set of outcomes for which to calculate the activations 
instead of for the observed outcome(s) only. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cueset</code></td>
<td>
<p>String, specifying the cue set for which to calculate 
change in activation. Only will be used when <code>data</code> is set to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split</code></td>
<td>
<p>String, separator between cues and/or outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select.outcomes</code></td>
<td>
<p>Optional selection of outcomes to limit 
(or expand) the number of activations that are returned. See examples 
for how to use this argument in combination with <code>data</code> 
and <code>cueset</code>. 
When <code>data</code> is provided, the value of NULL (default) will only 
return the activations for each learning event (i.e., only for the 
observed cues and outcomes). 
When <code>data</code> is provided, the value TRUE will return the 
activations for all outcomes in <code>data</code> given the cues observed 
in the learning events. 
When <code>cueset</code> is specified, the values of NULL (default) or TRUE 
will return the activations for all outcomes in <code>wmlist</code>. 
Note that specified values that are not in 
the weightmatrix will return the initial value without error or 
warning. Please use <code>getValues</code> for returning all 
outcomes in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init.value</code></td>
<td>
<p>Value of activations for non-existing connections. 
Typically set to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p>Logical: whether or not the activation is normalized by 
dividing the total activation by the number of cues. Default is FALSE. If 
set to TRUE, the activation reflects the average activation per cue.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List: when <code>data</code> is provided, a list is returned with 
the outcome activations for each learning event; 
when <code>cueset</code> is provided, a list is returned with data frames 
of outcome activations. See examples.
</p>


<h3>Author(s)</h3>

<p>Jacolien van Rij
</p>


<h3>See Also</h3>

<p><code>getWeightsByCue</code>,
<code>getWeightsByOutcome</code>
</p>
<p>Other functions for calculating activations: 
<code>activationsCueSet()</code>,
<code>activationsEvents()</code>,
<code>activationsMatrix()</code>,
<code>activationsOutcomes()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load example data:
data(dat)

# add obligatory columns Cues, Outcomes, and Frequency:
dat &lt;- droplevels(dat[1:3,])
dat$Cues &lt;- paste("BG", dat$Shape, dat$Color, sep="_")
dat$Outcomes &lt;- dat$Category
dat$Frequency &lt;- dat$Frequency1
head(dat)


# now use createTrainingData to sample from the specified frequencies: 
train &lt;- createTrainingData(dat)
head(train)

# this training data can actually be used train network:
wm &lt;- RWlearning(train)

# With this data we illustrate four different 
# ways to retrieve activation changes.

# Situation I: return activations for each event 
act1 &lt;- getActivations(wm, data=train)
head(act1)
# plotting activations for each event doesn't provide very 
# useful info:
plot(act1$Activation, type='l', ylim=c(0,1), col=alpha(1),
    ylab='Activation')
# these lines may be more interpretable:
n &lt;- which(act1$Outcomes=="animal")
lines(n, act1$Activation[n], col=alpha(2), lwd=2)
n &lt;- which(act1$Outcomes=="plant")
lines(n, act1$Activation[n], col=alpha(3), lwd=2)

# Situation II: return activations for each events
# for all outcomes
act2 &lt;- getActivations(wm, data=train, select.outcomes=TRUE)
head(act2)

plot(act2$plant, type='l', ylim=c(0,1), col=alpha(1),
    ylab='Activation')
n &lt;- which(act2$Outcomes=="plant")
rug(n, side=1)
lines(n, act2$plant[n], lwd=2, col=alpha(3))
n &lt;- which(act2$Outcomes!="plant")
lines(n, act2$plant[n], lwd=2, col=alpha(2))
legend('topright', 
    legend=c("all events", "outcome present", "outcome absent"),
	   col=c(1,alpha(3),alpha(2)), lwd=c(1,2,2),
    bty='n')

# Situation III: return activations for specific cuesets
# for all outcomes
act3 &lt;- getActivations(wm, cueset=c("BG_cat_brown", "BG_flower_brown"))
str(act3) 

a31 &lt;- act3[["BG_flower_brown"]] # or act3[[1]]
plot(a31$plant, type='l', ylim=c(0,1), col=alpha(1),
    main="BG_flower_brown", ylab='Activation')
lines(a31$animal,col=2)
rug(which(train$Cues == "BG_flower_brown"), side=1)
legend('topright', 
    legend=c("plant", "animal"),
	   col=c(1,2), lwd=1, bty='n')

# Situation IV: return activations for a static weight matrix
# Note: only with cueset
(final &lt;- getWM(wm))
act4 &lt;- getActivations(final, cueset=unique(train$Cues))
act4

</code></pre>


</div>