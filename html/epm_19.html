<div class="container">

<table style="width: 100%;"><tr>
<td>extractFromEpmGrid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract from epmGrid</h2>

<h3>Description</h3>

<p>Return species from intersection between spatial points or
polygons and a epmGrid object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extractFromEpmGrid(x, spatial, returnCells = FALSE, collapse = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object of class <code>epmGrid</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spatial</code></td>
<td>
<p>coordinates as either a spatial points object (sp or sf), a
matrix/dataframe with two columns, a numeric vector of c(long, lat), or as
a spatial polygon object (sp or sf).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnCells</code></td>
<td>
<p>boolean, if <code>TRUE</code>, cell indices are returned rather
than taxa</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>boolean; if <code>TRUE</code>, then a vector of unique species is
returned, pooled from all cells, if <code>FALSE</code>, then list is returned
with species from every cell as intersected by <code>spatial</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>spatial</code> is a spatial object, it will be transformed to
the same projection as <code>x</code> if needed. If <code>spatial</code> is not a
spatial object, it is assumed to be in the same projection as <code>x</code>.
</p>


<h3>Value</h3>

<p>A vector of species if <code>collapse = TRUE</code>, or a list of species
by cell if <code>collapse = FALSE</code>. If <code>returnCells = TRUE</code>, a vector
of cell indices that correspond to the rows in the epmGrid sf object.
</p>


<h3>Author(s)</h3>

<p>Pascal Title
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(sf)
# get the projection of the epmGrid object
proj &lt;- summary(tamiasEPM)$crs
# define some points
pts &lt;- rbind.data.frame(
		c(-120.5, 38.82),
		c(-84.02, 42.75),
		c(-117.95, 55.53))
colnames(pts) &lt;- c('x', 'y')
ptsSF &lt;- st_as_sf(pts, coords = 1:2, crs = "epsg:4326")
pts &lt;- st_coordinates(st_transform(ptsSF, crs = proj))

# extract with table of coordinates
extractFromEpmGrid(tamiasEPM, pts)

# extract with spatial points object
extractFromEpmGrid(tamiasEPM, ptsSF)

# extract with spatial polygon
hull &lt;- st_convex_hull(st_union(ptsSF))
extractFromEpmGrid(tamiasEPM, hull)


# returns each cell's contents
extractFromEpmGrid(tamiasEPM, hull, collapse=FALSE)

# collapses results to unique set of species
extractFromEpmGrid(tamiasEPM, hull, collapse=TRUE)

</code></pre>


</div>