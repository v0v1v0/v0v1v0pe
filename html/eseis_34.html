<div class="container">

<table style="width: 100%;"><tr>
<td>pick_stalta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate stal-lta-ratio.</h2>

<h3>Description</h3>

<p>The function calculates the ratio of the short-term-average and 
long-term-average of the input signal.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pick_stalta(data, time, dt, sta, lta, freeze = FALSE, on, off)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>eseis</code> object, <code>numeric</code> vector or list of 
objects, data set to be processed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p><code>POSIXct</code> vector, time vector of the signal(s). If not 
provided, a synthetic time vector will be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p><code>Numeric</code> value, sampling period. If omitted, either 
estimated from <code>time</code> or set to 0.01 s (i.e., f = 100 Hz).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sta</code></td>
<td>
<p><code>Numeric</code> value, number of samples for short-term window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lta</code></td>
<td>
<p><code>Numeric</code> value, number of samples for long-term window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freeze</code></td>
<td>
<p><code>Logical</code> value, option to freeze lta value at start of 
an event. Useful to avoid self-adjustment of lta for long-duration events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on</code></td>
<td>
<p><code>Numeric</code> value, threshold value for event onset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>off</code></td>
<td>
<p><code>Numeric</code> value, threshold value for event end.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>data frame</code>, detected events (ID, start time, duration in 
seconds, STA-LTA vaue).
</p>


<h3>Author(s)</h3>

<p>Michael Dietze
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## load example data
data(rockfall)

## filter signal
rockfall_f &lt;- signal_filter(data = rockfall_eseis,
                            f = c(1, 90), 
                            p = 0.05)
                    
## calculate signal envelope
rockfall_e &lt;- signal_envelope(data = rockfall_f)

## pick earthquake and rockfall event
p &lt;- pick_stalta(data = rockfall_e,
                 sta = 100, 
                 lta = 18000, 
                 freeze = TRUE, 
                 on = 5, 
                 off = 3)
                 
p$picks
                     
</code></pre>


</div>