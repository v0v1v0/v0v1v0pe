<div class="container">

<table style="width: 100%;"><tr>
<td>createMessage</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compose a message as a single substring from 
a character vector 
</h2>

<h3>Description</h3>

<p>This is a utility function to make it easier 
to automatically compose informative error 
and warning messages without using too many 
characters.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">createMessage(x, width.cutoff=45, default='x', 
      collapse='; ', endchars='...')
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>input for <code>paste</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width.cutoff</code></td>
<td>

<p>maximum number of characters from x to 
return in a single string.  This differs 
from the <code>width.cutoff</code> argument in 
<code>deparse</code> in that the output 
included here considers <code>endchars</code>, 
not part of <code>deparse</code>.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default</code></td>
<td>

<p>character string to return if 
<code>nchar(x)</code> = 0.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>

<p><code>collapse</code> argument for 
<code>paste</code> 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endchars</code></td>
<td>

<p>a character string to indicate that part 
of the input string(s) was truncated.      
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>x. &lt;- paste(..., collapse='; ')
  nchx &lt;- nchar(x.)
  maxch &lt;- (maxchar-nchar(endchars))
  if(nchx&gt;maxch){
    x2 &lt;- substring(x., 1, maxch)
    x. &lt;- paste0(x2, endchar)
  }</code>
</p>


<h3>Value</h3>

<p>a character string with at most 
<code>width.cutoff</code> characters.  
</p>


<h3>Author(s)</h3>

<p>Spencer Graves</p>


<h3>See Also</h3>

<p><code>paste</code>
<code>substr</code>
<code>nchar</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## 1.  typical use 
##
tstVec &lt;- c('Now', 'is', 'the', 'time')
msg &lt;- createMessage(tstVec, 9, collapse=':', 
                     endchars='//')

all.equal(msg, 'Now:is://')

##
## 2.  in a function 
##
tstFn &lt;- function(cl)createMessage(deparse(cl), 9)
Cl &lt;- quote(plot(1:3, y=4:6, col='red', main='Title'))
msg0 &lt;- tstFn(Cl)
# check 
msg. &lt;- 'plot(1...'

all.equal(msg0, msg.)


##
## 3.  default 
##
y &lt;- createMessage(character(3), default='y') 

all.equal(y, 'y')


</code></pre>


</div>