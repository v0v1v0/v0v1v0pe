<div class="container">

<table style="width: 100%;"><tr>
<td>ec.clmn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data column format</h2>

<h3>Description</h3>

<p>Helper function to display/format data column(s) by index or name
</p>


<h3>Usage</h3>

<pre><code class="language-R">ec.clmn(col = NULL, ..., scale = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>A single column index(number) or column name(quoted string), <br>
or a sprintf string template for multiple indexes.<br>
NULL(default) for charts with single values like tree, pie.<br>
'json' to display tooltip with all available values to choose from.<br>
'log' to write all values in the JS console (F12) for debugging.<br>
Can contain JS function starting with <em>'function('</em> (or format <em>'(x) =&gt; '</em>).<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Comma separated column indexes or names, only when <em>col</em> is <em>sprintf</em>. This allows formatting of multiple columns, as for a tooltip.<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>A positive number, multiplier for numeric columns. When scale is 0, all numeric values are rounded.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is useful for attributes like formatter, color, symbolSize, label.<br>
Column indexes are counted in R and start with 1.<br>
Omit <em>col</em> or use index -1 for single values in tree/pie charts, <em>axisLabel.formatter</em> or <em>valueFormatter</em>. See ec.data dendrogram example.<br>
Column indexes are decimals for combo charts with multiple series, see ecr.band example. The whole number part is the serie index, the decimal part is the column index inside.<br><em>col</em> as sprintf has the same placeholder <em>%@</em> for both column indexes or column names.<br><em>col</em> as sprintf can contain double quotes, but not single or backquotes.<br>
Template placeholders with formatting:<br></p>

<ul>
<li> <p><em>%@</em> will display column value as-is.<br></p>
</li>
<li> <p><em>%L@</em> will display a number in locale format, like '12,345.09'.<br></p>
</li>
<li> <p><em>%LR@</em> rounded number in locale format, like '12,345'.<br></p>
</li>
<li> <p><em>%R@</em> rounded number, like '12345'.<br></p>
</li>
<li> <p><em>%R2@</em> rounded number, two digits after decimal point.<br></p>
</li>
<li> <p><em>%M@</em> marker in serie's color.<br>
Notice that tooltip <em>formatter</em> will work for <em>trigger='item'</em>, but not for <em>trigger='axis'</em> when there are multiple value sets.
</p>
</li>
</ul>
<h3>Value</h3>

<p>A JavaScript code string (usually a function) marked as executable, see JS.
</p>


<h3>Examples</h3>

<pre><code class="language-R">tmp &lt;- data.frame(Species = as.vector(unique(iris$Species)),
                  emoji = c('A','B','C'))
df &lt;- iris |&gt; dplyr::inner_join(tmp)      # add 6th column emoji
df |&gt; dplyr::group_by(Species) |&gt; ec.init(
  series.param= list(label= list(show= TRUE, formatter= ec.clmn('emoji'))),
  tooltip= list(formatter=
    # with sprintf template + multiple column indexes
    ec.clmn('%M@ species &lt;b&gt;%@&lt;/b&gt;&lt;br&gt;s.len &lt;b&gt;%@&lt;/b&gt;&lt;br&gt;s.wid &lt;b&gt;%@&lt;/b&gt;', 5,1,2))
)

</code></pre>


</div>