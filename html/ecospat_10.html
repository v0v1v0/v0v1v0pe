<div class="container">

<table style="width: 100%;"><tr>
<td>ecospat.CCV.createDataSplitTable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Creates a DataSplitTable for usage in ecospat.ccv.modeling.

</h2>

<h3>Description</h3>

<p>Creates a DataSplitTable with calibration and evaluation data either for cross-validation or repeated split sampling at the community level (i.e., across all species).

</p>


<h3>Usage</h3>

<pre><code class="language-R">ecospat.CCV.createDataSplitTable(NbRunEval, 
                                 DataSplit,
                                 validation.method,
                                 NbSites,
                                 sp.data=NULL,
                                 minNbPresences=NULL,
                                 minNbAbsences=NULL,
                                 maxNbTry=1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>NbRunEval</code></td>
<td>
<p>number of cross-validation or split sample runs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DataSplit</code></td>
<td>
<p>proportion (%) of sites used for model calibration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>validation.method</code></td>
<td>
<p>the type of <code>DataSplitTable</code> that should be created. Must be either <code>'cross-validation'</code> or <code>'split-sample'</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NbSites</code></td>
<td>
<p>number of total sites available. Is ignored if sp.data is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sp.data</code></td>
<td>
<p>a data.frame where the rows are sites and the columns are species (values 1,0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minNbPresences</code></td>
<td>
<p>the desired minimum number of Presences required in each run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minNbAbsences</code></td>
<td>
<p>the desired minimum number of Absences required in each run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxNbTry</code></td>
<td>
<p>number of random tries allowed to create a fitting DataSplitTable</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If a <code>sp.data</code> data.frame with species presences and absences is provided the function tries to create a <code>DataSplitTable</code> which ensures that the maximum possible number of species can be modelled (according to the specified minimum presences and absences.)
</p>


<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>DataSplitTable</code></td>
<td>
<p>a matrix with <code>TRUE/FALSE</code> for each model run (<code>TRUE</code>=Calibration point, <code>FALSE</code>=Evaluation point)</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Daniel Scherrer &lt;daniel.j.a.scherrer@gmail.com&gt;

</p>


<h3>See Also</h3>

<p><code>ecospat.CCV.modeling</code>

</p>


<h3>Examples</h3>

<pre><code class="language-R">
#Creating a DataSplitTable for 200 sites, 25 runs with an 
#80/20 calibration/evaluation cross-validation

DataSplitTable &lt;- ecospat.CCV.createDataSplitTable(NbSites = 200, 
                                                   NbRunEval=25, 
                                                   DataSplit=80, 
                                                   validation.method='cross-validation')
                                                   
#Loading species occurence data and remove empty communities
testData &lt;- ecospat.testData[,c(24,34,43,45,48,53,55:58,60:63,65:66,68:71)]
sp.data &lt;- testData[which(rowSums(testData)&gt;0), sort(colnames(testData))]

#Creating a DataSplitTable based on species data directly
DataSplitTable &lt;- ecospat.CCV.createDataSplitTable(NbRunEval = 20,
                                                   DataSplit = 70,
                                                   validation.method = "cross-validation",
                                                   NbSites = NULL,
                                                   sp.data = sp.data, 
                                                   minNbPresence = 15, 
                                                   minNbAbsences = 15, 
                                                   maxNbTry = 250)


</code></pre>


</div>