<div class="container">

<table style="width: 100%;"><tr>
<td>read_tm_all_xpt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read all <code>.xpt</code> files in a directory</h2>

<h3>Description</h3>

<p>Read all <code>.xpt</code> files in a directory (unzipped TrialMaster archive). <br>
If <code style="white-space: pre;">⁠7zip⁠</code> is installed, you should probably rather use <code>read_trialmaster()</code> instead. <br>
If a <code>procformat.sas</code> file exists in the directory, formats will be applied.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_tm_all_xpt(
  directory,
  ...,
  format_file = "procformat.sas",
  clean_names_fun = NULL,
  split_mixed = FALSE,
  extend_lookup = TRUE,
  datetime_extraction = NULL,
  verbose = getOption("edc_read_verbose", 1),
  key_columns = "deprecated"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>directory</code></td>
<td>
<p>[<code>character(1)</code>]<br> the path to the unzipped archive using SAS_XPORT format. Will read the extraction date from the directory name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format_file</code></td>
<td>
<p>[<code>character(1)</code>]<br> the path to the <code>procformat.sas</code> file that should be used to apply formats. Use <code>NULL</code> to not apply formats.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean_names_fun</code></td>
<td>
<p>[<code>function</code>]<br> a function to clean column names, e.g. tolower, <code>janitor::clean_names()</code>,...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_mixed</code></td>
<td>
<p>[<code>logical(1): FALSE</code>]<br> whether to split mixed datasets. See split_mixed_datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extend_lookup</code></td>
<td>
<p>[<code>character(1): FALSE</code>]<br> whether to enrich the lookup table. See extend_lookup.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datetime_extraction</code></td>
<td>
<p>[<code>POSIXt(1)</code>]<br> the datetime of the data extraction. Default to the most common date of last modification in <code>directory</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>[<code>logical(1)</code>]<br> one of <code>c(0, 1, 2)</code>. The higher, the more information will be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key_columns</code></td>
<td>
<p>deprecated</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list containing one dataframe for each <code>.xpt</code> file in the folder, the extraction date (<code>datetime_extraction</code>), and a summary of all imported tables (<code>.lookup</code>). If not set yet, option <code>edc_lookup</code> is automatically set to <code>.lookup</code>.
</p>


</div>