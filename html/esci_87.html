<div class="container">

<table style="width: 100%;"><tr>
<td>meta_d2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate meta-analytic standardized mean difference across multiple
two group studies (all paired, all independent, or a mix).</h2>

<h3>Description</h3>

<p><code>meta_d2</code> is suitable for synthesizing across multiple two-group studies
(paired or independent) with a continuous outcome measure but where not
all studies are measured on the same scale, and instead the magnitude of
difference for each study is expressed as d_s or d_avg.
</p>


<h3>Usage</h3>

<pre><code class="language-R">meta_d2(
  data,
  ds,
  comparison_ns,
  reference_ns,
  r = NULL,
  labels = NULL,
  moderator = NULL,
  contrast = NULL,
  effect_label = "My effect",
  assume_equal_variance = FALSE,
  random_effects = TRUE,
  conf_level = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame or tibble</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ds</code></td>
<td>
<p>Set of bias-adjusted cohen's d_s or d_avg values, 1 for each study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparison_ns</code></td>
<td>
<p>Set of comparison_group sample sizes, positive integers,
1 for each study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference_ns</code></td>
<td>
<p>Set of reference_groups sample sizes, positive integers,
1 for each study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>optional correlation between measures for w-s studies, NA otherwise</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>Optional set of labels, 1 for each study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moderator</code></td>
<td>
<p>Optional factor as a categorical moderator; should have k &gt;
2 per group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrast</code></td>
<td>
<p>Optional vector specifying a contrast between moderator
levels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effect_label</code></td>
<td>
<p>Optional character providing a human-friendly label for
the effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assume_equal_variance</code></td>
<td>
<p>Defaults to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random_effects</code></td>
<td>
<p>Boolean; TRUE for a random effects model; otherwise
fixed effects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_level</code></td>
<td>
<p>The confidence level for the confidence interval.  Given in
decimal form.  Defaults to 0.95.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Once you generate an estimate with this function, you can visualize
it with <code>plot_meta()</code>.
</p>
<p>Each study's effect size should be expressed as:
Cohen's d_s: (comparison_mean - reference_mean) / sd_pooled
or
Cohen_'s d_avg: (comparison_mean - reference_mean) / sd_avg
</p>
<p>To enter d_s, set assume_equal_variance to TRUE
To enter d_avg, set assume_equal_variance to FALSE
</p>
<p>And the d values should all be corrected for bias.
The function <code>CI_smd_ind_contrast()</code> can assist with converting
raw data from each study to d_s or d_avg with bias correction.  It also
has more details on calculation of these forms of d and their CIs.
</p>
<p>The meta-analytic effect size, confidence interval and heterogeneity
estimates all come from <code>metafor::rma()</code>.
</p>
<p>The diamond ratio and its confidence interval come from
<code>CI_diamond_ratio()</code>.
</p>


<h3>Value</h3>

<p>An esci-estimate object; a list of data frames and properties.
Returned tables include:
</p>

<ul>
<li> <p><strong>es_meta</strong> - A data frame of meta-analytic effect sizes.  If a moderator was
defined, there is an additional row for each level of the moderator.
</p>

<ul>
<li> <p><em>effect_label</em> -  Study label
</p>
</li>
<li> <p><em>effect_size</em> - Effect size
</p>
</li>
<li> <p><em>LL</em> - Lower bound of conf_level% confidence interval
</p>
</li>
<li> <p><em>UL</em> - Upper bound of conf_level% confidence interval
</p>
</li>
<li> <p><em>SE</em> - Expected standard error
</p>
</li>
<li> <p><em>k</em> - Number of studies
</p>
</li>
<li> <p><em>diamond_ratio</em> - ratio of random to fixed effects meta-analytic effect sizes
</p>
</li>
<li> <p><em>diamond_ratio_LL</em> - lower bound of conf_level% confidence interval for diamond ratio
</p>
</li>
<li> <p><em>diamond_ratio_UL</em> - upper bound of conf_level% confidence interval for diamond ratio
</p>
</li>
<li> <p><em>I2</em> -  I2 measure of heterogeneity
</p>
</li>
<li> <p><em>I2_LL</em> - Lower bound of conf_level% confidence interval for I2
</p>
</li>
<li> <p><em>I2_UL</em> - upper bound of conf_level% confidence interval for I2
</p>
</li>
<li> <p><em>PI_LL</em> - lower bound of conf_level% of prediction interval
</p>
</li>
<li> <p><em>PI_UL</em> - upper bound of conf_level% of prediction interval
</p>
</li>
<li> <p><em>p</em> - p value for the meta-analytic effect size, based on null of exactly 0
</p>
</li>
<li>
<p> *width - width of the effect-size confidence interval
</p>
</li>
<li> <p><em>FE_effect_size</em> - effect size of the fixed-effects model (regardless of if fixed effects was selected
</p>
</li>
<li> <p><em>RE_effect_size</em> - effect size of the random-effects model (regardless of if random effects was selected
</p>
</li>
<li> <p><em>FE_CI_width</em> - width of the fixed-effects confidence interval, used to calculate diamond ratio
</p>
</li>
<li> <p><em>RE_CI_width</em> - width of the fixed-effects confidence interval, used to calculate diamond ratio
</p>
</li>
</ul>
</li>
<li> <p><strong>es_heterogeneity</strong> - A data frame of of heterogeneity values and
conf_level% CIs for the meta-analytic effect size.  If a moderator was defined
also reports heterogeneity estimates for each level of the moderator.
</p>

<ul>
<li> <p><em>effect_label</em> - study label
</p>
</li>
<li> <p><em>moderator_variable_name</em> - if moderator passed, gives name of the moderator
</p>
</li>
<li> <p><em>moderator_level</em> - 'Overall' and each level of moderator, if passed
</p>
</li>
<li> <p><em>measure</em> - Name of the measure of heterogeneity
</p>
</li>
<li> <p><em>estimate</em> - Value of the heterogeneity estimate
</p>
</li>
<li> <p><em>LL</em> - lower bound of conf_level% confidence interval
</p>
</li>
<li> <p><em>UL</em> - upper bound of conf_level% confidence interval
</p>
</li>
</ul>
</li>
<li> <p><strong>raw_data</strong> - A data from with one row for each study that was passed
</p>

<ul>
<li> <p><em>label</em> - study label
</p>
</li>
<li> <p><em>effect_size</em> - effect size
</p>
</li>
<li> <p><em>weight</em> - study weight in the meta analysis
</p>
</li>
<li> <p><em>sample_variance</em> - expected level of sampling variation
</p>
</li>
<li> <p><em>SE</em> - expected standard error
</p>
</li>
<li> <p><em>LL</em> - lower bound of conf_level% confidence interval
</p>
</li>
<li> <p><em>UL</em> - upper bound of conf_level% confidence interval
</p>
</li>
<li> <p><em>mean</em> - used to calculate study p value; this is the d value entered for the study
</p>
</li>
<li> <p><em>sd</em> - use to calculate study p value; set to 1 for each study
</p>
</li>
<li> <p><em>n</em> - study sample size
</p>
</li>
<li> <p><em>p</em> - p value for the study, based on null of exactly 0
</p>
</li>
</ul>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># Data set -- see Introduction to the New Statistics, 1st edition
data("data_damischrcj")

# Meta-analysis, random effects, assuming equal variance, no moderator
estimate &lt;- esci::meta_d2(
  data = esci::data_damischrcj,
  ds = "Cohen's d unbiased",
  comparison_ns = "n Control",
  reference_ns = "n Lucky",
  labels = Study,
  assume_equal_variance = TRUE,
  random_effects = TRUE
)

# Forest plot
myplot_forest &lt;- esci::plot_meta(estimate)


# Add a categorical moderator
estimate_moderator &lt;- esci::meta_d2(
  data = esci::data_damischrcj,
  ds = "Cohen's d unbiased",
  comparison_ns = "n Control",
  reference_ns = "n Lucky",
  labels = "Study",
  moderator = "Research Group",
  assume_equal_variance = TRUE,
  random_effects = TRUE
)

# Forest plot
myplot_forest_moderator &lt;- esci::plot_meta(estimate_moderator)

</code></pre>


</div>