<div class="container">

<table style="width: 100%;"><tr>
<td>read</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read NetCDF data from global inventories</h2>

<h3>Description</h3>

<p>Read data from global inventories. Several files can be read to produce one
emission output and/or can be splitted into several species
</p>


<h3>Usage</h3>

<pre><code class="language-R">read(
  file = file.choose(),
  version = NA,
  coef = rep(1, length(file)),
  spec = NULL,
  year = 1,
  month = 1,
  hour = 1,
  categories,
  reproject = TRUE,
  as_raster = TRUE,
  skip_missing = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>file name or names (variables are summed)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>version</code></td>
<td>
<p>Character; One of  of the following:
</p>

<table>
<tr>
<td style="text-align: left;">
  <strong>argument</strong>
</td>
<td style="text-align: left;"> <strong>tested</strong>
</td>
<td style="text-align: left;"> <strong>region</strong>
</td>
<td style="text-align: left;"> <strong>resolution</strong>
</td>
<td style="text-align: left;"> <strong>projection</strong>
</td>
</tr>
<tr>
<td style="text-align: left;">
  EDGAR</td>
<td style="text-align: left;"> 4.32 and 5.0 </td>
<td style="text-align: left;"> Global </td>
<td style="text-align: left;"> 0.1 x 0.1 ° </td>
<td style="text-align: left;">  longlat</td>
</tr>
<tr>
<td style="text-align: left;">
  EDGAR_HTAPv2</td>
<td style="text-align: left;"> 2.2 </td>
<td style="text-align: left;"> Global </td>
<td style="text-align: left;"> 0.1 x 0.1 °  </td>
<td style="text-align: left;">  longlat</td>
</tr>
<tr>
<td style="text-align: left;">
  EDGARv8m</td>
<td style="text-align: left;"> 8.1 </td>
<td style="text-align: left;"> Global </td>
<td style="text-align: left;"> 0.1 x 0.1 °  </td>
<td style="text-align: left;">  longlat</td>
</tr>
<tr>
<td style="text-align: left;">
  GAINS</td>
<td style="text-align: left;"> v5a </td>
<td style="text-align: left;"> Global </td>
<td style="text-align: left;"> 0.5 x 0.5 ° </td>
<td style="text-align: left;">  longlat</td>
</tr>
<tr>
<td style="text-align: left;">
  RCP</td>
<td style="text-align: left;"> RCP3PD Glb </td>
<td style="text-align: left;"> Global </td>
<td style="text-align: left;"> 0.5 x 0.5 °  </td>
<td style="text-align: left;">  longlat</td>
</tr>
<tr>
<td style="text-align: left;">
  MACCITY</td>
<td style="text-align: left;"> 2010 </td>
<td style="text-align: left;"> Global </td>
<td style="text-align: left;"> 0.5 x 0.5 °  </td>
<td style="text-align: left;">  longlat</td>
</tr>
<tr>
<td style="text-align: left;">
  FFDAS</td>
<td style="text-align: left;"> 2.2 </td>
<td style="text-align: left;"> Global </td>
<td style="text-align: left;"> 0.1 x 0.1 ° </td>
<td style="text-align: left;">  longlat</td>
</tr>
<tr>
<td style="text-align: left;">
  ODIAC</td>
<td style="text-align: left;"> 2020 </td>
<td style="text-align: left;"> Global </td>
<td style="text-align: left;"> 1 x 1 ° </td>
<td style="text-align: left;">  longlat</td>
</tr>
<tr>
<td style="text-align: left;">
  VULCAN-y</td>
<td style="text-align: left;"> 3.0 </td>
<td style="text-align: left;"> US </td>
<td style="text-align: left;"> 1 x 1 Km </td>
<td style="text-align: left;">  lcc</td>
</tr>
<tr>
<td style="text-align: left;">
  VULCAN-h</td>
<td style="text-align: left;"> 3.0 </td>
<td style="text-align: left;"> US </td>
<td style="text-align: left;"> 1 x 1 Km </td>
<td style="text-align: left;">  lcc</td>
</tr>
<tr>
<td style="text-align: left;">
  ACES</td>
<td style="text-align: left;"> 2020 </td>
<td style="text-align: left;"> NE US </td>
<td style="text-align: left;"> 1 x 1 km </td>
<td style="text-align: left;">  lcc</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>
<p>coefficients to merge different sources (file) into one emission</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec</code></td>
<td>
<p>numeric speciation vector to split emission into different species</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>scenario index (only for GAINS and VULCAN-y)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>month</code></td>
<td>
<p>the desired month of the inventory (MACCITY and ODIAC)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hour</code></td>
<td>
<p>hour of the emission (only for ACES and VULCAN-h)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>categories</code></td>
<td>
<p>considered categories (for MACCITY/GAINS variable names), empty for use all</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reproject</code></td>
<td>
<p>to project the output to "+proj=longlat" needed for emission function (only for VULCAN and ACES)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_raster</code></td>
<td>
<p>return a raster (default) or matrix (with units)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_missing</code></td>
<td>
<p>return a zero emission and a warning for missing files/variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>display additional information</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Matrix or raster
</p>


<h3>Note</h3>

<p>for EDGAR (all versions), GAINS, RCP and MACCTITY, please use flux (kg m-2 s-1) NetCDF file.
</p>


<h3>Source</h3>

<p>Read abbout EDGAR at http://edgar.jrc.ec.europa.eu and MACCITY at
http://accent.aero.jussieu.fr/MACC_metadata.php
</p>
<p>More info for EDGARv8.1 https://edgar.jrc.ec.europa.eu/dataset_ap81 for short live species and https://edgar.jrc.ec.europa.eu/dataset_ghg80 for GHG
</p>


<h3>References</h3>

<p>Janssens-Maenhout, G., Dentener, F., Van Aardenne, J., Monni, S., Pagliari, V., Orlandini,
L., ... &amp; Wankmüller, R. (2012). EDGAR-HTAP: a harmonized gridded air pollution emission dataset
based on national inventories. European Commission Joint Research Centre Institute for
Environment and Sustainability. JRC 68434 UR 25229 EUR 25229, ISBN 978-92-79-23123-0.
</p>
<p>Lamarque, J.-F., Bond, T. C., Eyring, V., Granier, C., Heil, A., Klimont, Z., Lee, D., Liousse,
C., Mieville, A., Owen, B., Schultz, M. G., Shindell, D., Smith, S. J., Stehfest, E.,
Van Aardenne, J., Cooper, O. R., Kainuma, M., Mahowald, N., McConnell, J. R., Naik, V.,
Riahi, K., and van Vuuren, D. P.: Historical (1850-2000) gridded anthropogenic and biomass
burning emissions of reactive gases and aerosols: methodology and application,
Atmos. Chem. Phys., 10, 7017-7039, doi:10.5194/acp-10-7017-2010, 2010.
</p>
<p>Z Klimont, S. J. Smith and J Cofala The last decade of global anthropogenic sulfur dioxide:
2000–2011 emissions Environmental Research Letters 8, 014003, 2013
</p>
<p>Gurney, Kevin R., Jianming Liang, Risa Patarasuk, Yang Song, Jianhua Huang, and
Geoffrey Roest (2019) The Vulcan Version 3.0 High-Resolution Fossil Fuel CO2 Emissions
for the United States. Nature Scientific Data.
</p>


<h3>See Also</h3>

<p><code>rasterSource</code> and <code>gridInfo</code>
</p>
<p><code>species</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
dir.create(file.path(tempdir(), "EDGARv432"))
folder &lt;- setwd(file.path(tempdir(), "EDGARv432"))

url &lt;- "http://jeodpp.jrc.ec.europa.eu/ftp/jrc-opendata/EDGAR/datasets/v432_AP/NOx"
file &lt;- 'v432_NOx_2012.0.1x0.1.zip'

download.file(paste0(url,'/TOTALS/',file), file)

unzip('v432_NOx_2012.0.1x0.1.zip')

nox  &lt;- read(file    = dir(pattern = '.nc'),
             version = 'EDGAR',
             spec    = c(E_NO  = 0.9 ,   # 90% of NOx is NO
                         E_NO2 = 0.1 ))  # 10% of NOx is NO2
setwd(folder)
# creating a color scale
cor &lt;- colorRampPalette(colors = c(c("#031057", "#0522FC",
                                     "#7E0AFA", "#EF0AFF",
                                     "#FFA530", "#FFF957")))
raster::plot(nox$E_NO,xlab="Lat", ylab="Lon",
             col = cor(12),zlim = c(-6.5e-7,1.4e-5),
             main="NO emissions from EDGAR (in g / m2 s)")

d1  &lt;- gridInfo(paste(system.file("extdata", package = "EmissV"),"/wrfinput_d01",sep=""))
NO  &lt;- emission(grid = d1, inventory = nox$E_NO, pol = "NO", mm = 30.01, plot = TRUE)

</code></pre>


</div>