<div class="container">

<table style="width: 100%;"><tr>
<td>predIntLnormAltTestPower</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Probability That at Least One Future Observation Falls Outside a Prediction Interval for a Lognormal Distribution
</h2>

<h3>Description</h3>

<p>Compute the probability that at least one out of <code class="reqn">k</code> future observations 
(or geometric means) falls outside a prediction interval for <code class="reqn">k</code> future 
observations (or geometric means) for a normal distribution.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  predIntLnormAltTestPower(n, df = n - 1, n.geomean = 1, k = 1, 
    ratio.of.means = 1, cv = 1, pi.type = "upper", conf.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>vector of positive integers greater than 2 indicating the sample size upon which 
the prediction interval is based.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>

<p>vector of positive integers indicating the degrees of freedom associated with 
the sample size.  The default value is <code>df=n-1</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.geomean</code></td>
<td>

<p>positive integer specifying the sample size associated with the future 
geometric means.  The default value is <code>n.geomean=1</code> (i.e., individual 
observations).  Note that all future geometric means must be based on the 
same sample size.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>

<p>vector of positive integers specifying the number of future observations that the 
prediction interval should contain with confidence level <code>conf.level</code>.  The 
default value is <code>k=1</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio.of.means</code></td>
<td>

<p>numeric vector specifying the ratio of the mean of the population that will be 
sampled to produce the future observations vs. the mean of the population that 
was sampled to construct the prediction interval.  See the DETAILS section below 
for more information.  The default value is <code>ratio.of.means=1</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv</code></td>
<td>

<p>numeric vector of positive values specifying the coefficient of variation for 
both the population that was sampled to construct the prediction interval <b>and</b> 
the population that will be sampled to produce the future observations.  The 
default value is <code>cv=1</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi.type</code></td>
<td>

<p>character string indicating what kind of prediction interval to compute.  
The possible values are <code>pi.type="upper"</code> (the default), and 
<code>pi.type="lower"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>

<p>numeric vector of values between 0 and 1 indicating the confidence level of the 
prediction interval.  The default value is <code>conf.level=0.95</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A prediction interval for some population is an interval on the real line 
constructed so that it will contain <code class="reqn">k</code> future observations or averages 
from that population with some specified probability <code class="reqn">(1-\alpha)100\%</code>, 
where <code class="reqn">0 &lt; \alpha &lt; 1</code> and <code class="reqn">k</code> is some pre-specified positive integer.  
The quantity <code class="reqn">(1-\alpha)100\%</code> is call the confidence coefficient or 
confidence level associated with the prediction interval.  The function 
<code>predIntNorm</code> computes a standard prediction interval based on a 
sample from a normal distribution.  
</p>
<p>The function <code>predIntNormTestPower</code> computes the probability that at 
least one out of <code class="reqn">k</code> future observations or averages will <b>not</b> be contained in 
a prediction interval based on the assumption of normally distributed observations, 
where the population mean for the future observations is allowed to differ from 
the population mean for the observations used to construct the prediction interval.
</p>
<p>The function <code>predIntLnormAltTestPower</code> assumes all observations are 
from a lognormal distribution.  The observations used to 
construct the prediction interval are assumed to come from a lognormal distribution 
with mean <code class="reqn">\theta_2</code> and coefficient of variation <code class="reqn">\tau</code>.  The future 
observations are assumed to come from a lognormal distribution with mean 
<code class="reqn">\theta_1</code> and coefficient of variation <code class="reqn">\tau</code>; that is, the means are 
allowed to differ between the two populations, but not the coefficient of variation.
</p>
<p>The function <code>predIntLnormAltTestPower</code> calls the function 
<code>predIntNormTestPower</code>, with the argument <code>delta.over.sigma</code> 
given by:
</p>
<p style="text-align: center;"><code class="reqn">\frac{\delta}{\sigma} = \frac{log(R)}{\sqrt{log(\tau^2 + 1)}} \;\;\;\;\;\; (1)</code>
</p>

<p>where <code class="reqn">R</code> is given by:
</p>
<p style="text-align: center;"><code class="reqn">R = \frac{\theta_1}{\theta_2} \;\;\;\;\;\; (2)</code>
</p>

<p>and corresponds to the argument <code>ratio.of.means</code> for the function 
<code>predIntLnormAltTestPower</code>, and <code class="reqn">\tau</code> corresponds to the argument 
<code>cv</code>.
</p>


<h3>Value</h3>

<p>vector of numbers between 0 and 1 equal to the probability that at least one of 
<code class="reqn">k</code> future observations or geometric means will fall outside the prediction 
interval.
</p>


<h3>Note</h3>

<p>See the help files for <code>predIntNormTestPower</code>.
</p>


<h3>Author(s)</h3>

<p>Steven P. Millard (<a href="mailto:EnvStats@ProbStatInfo.com">EnvStats@ProbStatInfo.com</a>)
</p>


<h3>References</h3>

<p>See the help files for <code>predIntNormTestPower</code> and 
<code>tTestLnormAltPower</code>.
</p>


<h3>See Also</h3>

<p><code>plotPredIntLnormAltTestPowerCurve</code>, 
<code>predIntLnormAlt</code>, 
<code>predIntNorm</code>, <code>predIntNormK</code>, <br><code>plotPredIntNormTestPowerCurve</code>, 
<code>predIntLnormAltSimultaneous</code>, <br><code>predIntLnormAltSimultaneousTestPower</code>, Prediction Intervals, 
LognormalAlt.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # Show how the power increases as ratio.of.means increases.  Assume a 
  # 95% upper prediction interval.

  predIntLnormAltTestPower(n = 4, ratio.of.means = 1:3) 
  #[1] 0.0500000 0.1459516 0.2367793

  #----------

  # Look at how the power increases with sample size for an upper one-sided 
  # prediction interval with k=3, ratio.of.means=4, and a confidence level of 95%.

  predIntLnormAltTestPower(n = c(4, 8), k = 3, ratio.of.means = 4) 
  #[1] 0.2860952 0.4533567

  #----------

  # Show how the power for an upper 95% prediction limit increases as the 
  # number of future observations k increases.  Here, we'll use n=20 and 
  # ratio.of.means=2.

  predIntLnormAltTestPower(n = 20, k = 1:3, ratio.of.means = 2) 
  #[1] 0.1945886 0.2189538 0.2321562
</code></pre>


</div>