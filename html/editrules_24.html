<div class="container">

<table style="width: 100%;"><tr>
<td>editmatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an editmatrix</h2>

<h3>Description</h3>

<p>An <code>editmatrix</code> is a numerical matrix and a set of comparison operators representing
a linear system of (in)equations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">editmatrix(editrules, normalize = TRUE)

## S3 method for class 'editmatrix'
as.data.frame(x, ...)

## S3 method for class 'editmatrix'
as.character(x, ...)

## S3 method for class 'editmatrix'
as.expression(x, ...)

## S3 method for class 'editmatrix'
as.matrix(x, ...)

## S3 method for class 'editmatrix'
c(...)

## S3 method for class 'editmatrix'
str(object, ...)

## S3 method for class 'editmatrix'
summary(object, useBlocks = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>editrules</code></td>
<td>
<p>A <code>character</code> or <code>expression</code> vecotr with (in)equalities written in R syntax.
Alternatively, a <code>data.frame</code> with a column named <code>edits</code>, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p><code>logical</code> specifying if all edits should be transformed (see description)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>editmatrix object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to pass to or from other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an R object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useBlocks</code></td>
<td>
<p><code>logical</code> Summarize each block?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>editmatrix</code> generates an editmatrix from a <code>character</code> vector, an <code>expression</code>
vector or a <code>data.frame</code> with at least the column <code>edit</code>. The function <code>editfile</code> 
reads edits from a free-form textfile, function <code>as.editmatrix</code> converts a matrix, a vector of
constants and a vector of operators to an <code>editmatrix</code>
</p>
<p>By default, the <code>editmatrix</code> is normalized, meaning that all comparison operators are converted
to one of <code>&lt;</code>, <code>&lt;=</code>, or <code>==</code>. Users may specify edits using any of the operators
<code>&lt;, &lt;=, ==, &gt;=, &gt;</code> (see examples below). However it is highly recommended to let <code>editmatrix</code> parse them into normal
form as all functions operating on editmatrices expect or convert it to normal form anyway.
</p>


<h3>Value</h3>

<p><code>editmatrix</code> : An object of class <code>editmatrix</code>
</p>
<p><code>as.data.frame</code> a 3-column <code>data.frame</code> with columns 'name' and 'edit'. 
If the input editmatrix has a <code>description</code> attribute a third column is returned.
</p>
<p><code>as.matrix</code>: Augmented <code>matrix</code> of <code>editmatrix</code>. (See also <code>getAb</code>).
</p>


<h3>Note</h3>

<p>since version 2.0-0, the behaviour of <code>as.data.frame.editmatrix</code> changed to be more symmetrical 
with <code>editmatrix.data.frame</code> and <code>as.data.frame.editarray</code>. 
Use <code>editrules:::toDataFrame</code> (unsupported) for the old behaviour.
</p>


<h3>See Also</h3>

<p><code>editrules.plotting</code>, <code>violatedEdits</code>, <code>localizeErrors</code>,
<code>normalize</code>, <code>contains</code>, <code>is.editmatrix</code>,
<code>getA</code>, <code>getAb</code>, <code>getb</code>, <code>getOps</code> <code>getVars</code>,
<code>eliminate</code>, <code>substValue</code>, <code>isFeasible</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Using a character vector to define contraints
E &lt;- editmatrix(c("x+3*y==2*z", "x==z"))
print(E)

# Using a expression vector to define contraints
E &lt;- editmatrix(expression(x+3*y==2*z, x==z))
print(E)

# an editmatrix also has a summary method:
summary(E)

# select rows from an editmatrix:
E &lt;- editmatrix(c("x+3*y==2*z", "x &gt;= z"))
E[getOps(E) == "=="]


#Using data.frame to define constraints
E.df &lt;- data.frame(
    name =c("A","B","C"),
    edit = c("x == y",    
            "z + w == y + x",
            "z == y + 2*w"),
    description = c(
            "these variables should be equal","","")

)
print(E.df)

E &lt;- editmatrix(E.df)
print(E)
# Using a character vector to define contraints
E &lt;- editmatrix(c("x+3*y==2*z", "x==z"))
print(E)

# Using a expression vector to define contraints
E &lt;- editmatrix(expression(x+3*y==2*z, x==z))
print(E)

# an editmatrix also has a summary method:
summary(E)

# select rows from an editmatrix:
E &lt;- editmatrix(c("x+3*y==2*z", "x &gt;= z"))
E[getOps(E) == "=="]


#Using data.frame to define constraints
E.df &lt;- data.frame(
    name =c("A","B","C"),
    edit = c("x == y",    
            "z + w == y + x",
            "z == y + 2*w"),
    description = c(
            "these variables should be equal","","")

)
print(E.df)

E &lt;- editmatrix(E.df)
print(E)
</code></pre>


</div>