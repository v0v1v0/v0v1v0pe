<div class="container">

<table style="width: 100%;"><tr>
<td>read_exercise</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reading LaTeX/Markdown Exercise Files</h2>

<h3>Description</h3>

<p>Reading an exercise in either LaTeX format (i.e.,
after <code>Sweave</code> was run) or
Markdown format (i.e., after <code>knit</code>
was run).
</p>


<h3>Usage</h3>

<pre><code class="language-R">  read_exercise(file, markup = NULL, exshuffle = NULL)
  read_metainfo(file, markup = NULL, exshuffle = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character. Name of the LaTeX (<code>.tex</code>) or
Markdown (<code>.md</code>) file that should be read into R.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markup</code></td>
<td>
<p>character specifying whether <code>file</code> is a <code>"latex"</code>
or <code>"markdown"</code> exercise. By default (<code>NULL</code>) it is
inferred from the <code>file</code> extension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exshuffle</code></td>
<td>
<p>logical or integer. If the <code>exshuffle</code>
argument is non-<code>NULL</code> it is used to overrule the <code>exshuffle</code>
tag from the <code>file</code> (e.g., <code>exshuffle = FALSE</code> can be used
to keep all available answers without permutation).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>read_exercise</code> extracts the LaTeX/Markdown code from the question
and solution environments/sections of the exercise file, extracting
the corresponding answerlists separately (if any). Paths to supplementary
files (such as graphics or data files) are stored and the 
metainformation is extracted (by calling <code>read_metainfo</code> which
also includes sanity checks).
</p>
<p>The supported metainformation commands are described in detail in
<code>vignette("exams2", package = "exams")</code>, see Table 2. Essentially
the <code>extype</code> command in is mapped to the <code>type</code>
element of the returned list etc. (see the Value section below), using
the right storage mode for each command (numeric, character, logical).
Additionally, there is an <code>exextra</code> command which allows to set
up arbitrary additional metainformation elements.
</p>


<h3>Value</h3>

<p><code>read_exercise</code> returns a list with elements
</p>
<table>
<tr style="vertical-align: top;">
<td><code>question</code></td>
<td>
<p>a character vector with LaTeX/Markdown code from the
question environment (excluding the answerlist environment,
if any).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>questionlist</code></td>
<td>
<p>a character vector with LaTeX/Markdown code from the
answerlist environment within the question environment (if any).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solution</code></td>
<td>
<p>a character vector with LaTeX/Markdown code from the
solution environment (excluding the answerlist environment,
if any).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solutionlist</code></td>
<td>
<p>a character vector with LaTeX/Markdown code from the
answerlist environment within the solution environment (if any).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metainfo</code></td>
<td>
<p>a list of metainformation options, see below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>supplements</code></td>
<td>
<p>a character vector with paths to supplementary
files such as graphics or data files (if any).</p>
</td>
</tr>
</table>
<p><code>read_metainfo</code> returns a list with the following elements.
Most elements may also be <code>NULL</code> (or empty) if the underlying
information is not specified in the <code>file</code>. If <code>file</code> specifies
extra information, there may also be additional list elements.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character with file name (without extension) of the exercise
template.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markup</code></td>
<td>
<p>character indicating whether <code>"latex"</code> or <code>"markdown"</code>
markup is used in the exercise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character indicating exercise type: <code>num</code>, <code>mchoice</code>,
<code>schoice</code>, <code>string</code>, or <code>cloze</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>character with short name/description (to be used for printing within R).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>character with a pretty longer title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>section</code></td>
<td>
<p>character with sections for groups of exercises (using slashes for
subsections like a URL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>version</code></td>
<td>
<p>character with version of exercise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solution</code></td>
<td>
<p>correct solution. The type/value depends on the
<code>type</code> of the exercise: <code>num</code> leads to a numeric vector (of length 1
or 2), <code>mchoice</code>/<code>schoice</code> lead to logical vector, <code>string</code> to
a character vector (of length 1), and <code>cloze</code> leads to a list of
solutions (depending on <code>clozetype</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>numeric tolerance limits (of length 1 or 2) for numeric
solutions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clozetype</code></td>
<td>
<p>character indicating the types of the elements of a
<code>cloze</code> exercise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points</code></td>
<td>
<p>numeric with (default) points for correct solution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>numeric with (default) time (in seconds) for solution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shuffle</code></td>
<td>
<p>logical indicating whether <code>mchoice</code>/<code>schoice</code>
answers should be shuffled (in Moodle or other e-learning systems).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>single</code></td>
<td>
<p>logical indicating whether radio buttons should be
used in Moodle.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length</code></td>
<td>
<p>numeric with length of <code>solution</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string</code></td>
<td>
<p>character with a collapsed string of the solution (and tolerance)
for backward compatibility with <code>exams</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxchars</code></td>
<td>
<p>character with the maximum number of characters
allowed in QTI text answers (exercise type: string).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abstention</code></td>
<td>
<p>character with the label to be used for an abstention
button in schoice/mchoice answers (currently only supported by Moodle).</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>xexams</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## xexams() uses read_exercise() by default to read in
## each individual exercise, e.g., here for only a single
## exam with only a single exercise the result is:
set.seed(1090)
xexams("tstat.Rnw")[[1]][[1]]

## the corresponding Markdown version has:
set.seed(1090)
xexams("tstat.Rmd")[[1]][[1]]
</code></pre>


</div>