<div class="container">

<table style="width: 100%;"><tr>
<td>echelon</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Echelon analysis for spatial data

</h2>

<h3>Description</h3>


<p><code>echelon</code> divides study area into structural entities consisting of peaks or foundations, say <em>'echelons'</em>, based on neighbor information, and draw its dendrogram.
</p>


<h3>Usage</h3>

<pre><code class="language-R">echelon(x, nb, dendrogram = TRUE, name = NULL,
      main = NULL, ylab = NULL, yaxes = TRUE, ylim = NULL,
      xaxes = FALSE, xdper = c(0, 1), dmai = NULL,
      col = 1, lwd = 1, symbols = 4, cex.symbols = 1, col.symbols = 4,
      ens = TRUE, adj.ens = 1, cex.ens = 0.8, col.ens = 1,
      profiles = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>A numeric vector of data values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nb</code></td>
<td>

<p>Neighbor information data. An object of class <code>nb</code> or a weights matrix.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>

<p>The region names. if NULL, it is assigned <code>1:length(x)</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dendrogram</code></td>
<td>

<p>Logical. if TRUE, draw an echelon dendrogram.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>

<p>Related to dendrogram drawing. An overall title for the dendrogram.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>

<p>Related to dendrogram drawing. A title for the y axis.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxes</code></td>
<td>

<p>Related to dendrogram drawing. Logical. if TRUE, draw the y axis.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>

<p>Related to dendrogram drawing. A scale of y axis given by <code>c(min, max)</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xaxes</code></td>
<td>

<p>Related to dendrogram drawing. Logical. if TRUE, draw the x axis.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xdper</code></td>
<td>

<p>Related to dendrogram drawing. A display percentage of x axis. The full display percentage is given in <em>[0, 1]</em>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dmai</code></td>
<td>

<p>Related to dendrogram drawing. A numerical vector of the form c(bottom, left, top, right) which gives the margin size specified in inches. Default is set to <code>c(0.4, 0.8, 0.3, 0.01)</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>

<p>Related to dendrogram drawing. A line color of the dendrogram.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>

<p>Related to dendrogram drawing. A line width of the dendrogram.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbols</code></td>
<td>

<p>Related to dendrogram drawing. Either an integer specifying a symbol or a single character. If integer, it is synonymous with <code>pch</code> in <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.symbols</code></td>
<td>

<p>Related to dendrogram drawing. A magnification to be used for the plotting symbols.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.symbols</code></td>
<td>

<p>Related to dendrogram drawing. A color to be used for the plotting symbols.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ens</code></td>
<td>

<p>Related to dendrogram drawing. Logical. if TRUE, draw the labels of echelon numbers.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj.ens</code></td>
<td>

<p>Related to dendrogram drawing. Adjustment of the labels of the echelon numbers.(see the help for <code>text</code>("adj")).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.ens</code></td>
<td>

<p>Related to dendrogram drawing. A magnification to be used for the labels of echelon numbers.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.ens</code></td>
<td>

<p>Related to dendrogram drawing. A color to be used for the labels of echelon numbers.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>profiles</code></td>
<td>

<p>Logical. if TRUE, return the result of echelon profiles. (See [2] for the details of echelon profiles)
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function <code>echelon</code> returns an object of class <code>echelon</code>.
An object of class <code>echelon</code> contains the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Table</code></td>
<td>
<p>Summary of each echelon.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Echelons</code></td>
<td>
<p>Regions that composes each echelon.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>If there are <code>NA</code> in <code>x</code>, then that is set the minimum value of <code>x</code>.
</p>
<p><code>Sf::st_read</code> and <code>spdep::poly2nb</code> are useful for creating the object specified in the argument <code>nb</code>.
</p>


<h3>Author(s)</h3>

<p>Fumio Ishioka
</p>


<h3>References</h3>

<p>[1] Myers, W.L., Patil, G.P. and Joly, K. (1997). Echelon approach to areas of concern in synoptic regional monitoring. <em>Environmental and Ecological Statistics</em>, <strong>4</strong>, 131–152.
</p>
<p>[2] Kurihara, K., Myers, W.L. and Patil, G.P. (2000) Echelon analysis of the relationship between population and land cover patter based on remote sensing data. <em>Community ecology</em>, <strong>1</strong>, 103–122.
</p>


<h3>See Also</h3>

<p><code>echepoi</code> and <code>echebin</code> for cluster detection based on echelons.
</p>


<h3>Examples</h3>

<pre><code class="language-R">##Echelon analysis for one-dimensional data with 25 regions
#A weights matrix
one.nb &lt;- matrix(0,25,25)
one.nb[1,2] &lt;- 1
for(i in 2:24) one.nb[i,c(i-1,i+1)] &lt;- c(1,1)
one.nb[25,24] &lt;- 1

#25 random values
one.dat &lt;- runif(25) * 10

#Echelon analysis
echelon(x = one.dat, nb = one.nb)


##Echelon analysis for SIDS data for North Carolina
#Mortality rate per 1,000 live births from 1974 to 1984
library(spData)
data("nc.sids")
SIDS.cas &lt;- nc.sids$SID74 + nc.sids$SID79
SIDS.pop &lt;- nc.sids$BIR74 + nc.sids$BIR79
SIDS.rate &lt;- SIDS.cas * 1000 / SIDS.pop

#Echelon analysis
SIDS.echelon &lt;- echelon(x = SIDS.rate, nb = ncCR85.nb, name = row.names(nc.sids),
  symbols = 12, cex.symbols = 1.5, ens = FALSE)
text(SIDS.echelon$coord, labels = SIDS.echelon$regions.name,
  adj = -0.1, cex = 0.7)

#Echelon Profiles
echelon(x = SIDS.rate, nb = ncCR85.nb, profiles = TRUE)

</code></pre>


</div>