<div class="container">

<table style="width: 100%;"><tr>
<td>adapt_charging_features</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adapt charging features</h2>

<h3>Description</h3>

<p>Calculate connection and charging times according to energy, power and time resolution
</p>


<h3>Usage</h3>

<pre><code class="language-R">adapt_charging_features(
  sessions,
  time_resolution = 15,
  power_resolution = 0.01
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sessions</code></td>
<td>
<p>tibble, sessions data set in standard format marked by <code>{evprof}</code> package
(see <a href="https://mcanigueral.github.io/evprof/articles/sessions-format.html">this article</a>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_resolution</code></td>
<td>
<p>integer, time resolution (in minutes) of the sessions' datetime variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power_resolution</code></td>
<td>
<p>numeric, power resolution (in kW) of the sessions' power</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All sessions' <code>Power</code> must be higher than <code>0</code>, to avoid <code>NaN</code> values from dividing
by zero.
The <code>ConnectionStartDateTime</code> is first aligned to the desired time resolution,
and the <code>ConnectionEndDateTime</code> is calculated according to the <code>ConnectionHours</code>.
The <code>ChargingHours</code> is recalculated with the values of <code>Energy</code> and <code>Power</code>,
limited by <code>ConnectionHours</code>. Finally, the charging times are also calculated.
</p>


<h3>Value</h3>

<p>tibble
</p>


<h3>Examples</h3>

<pre><code class="language-R">suppressMessages(library(dplyr))

sessions &lt;- head(evsim::california_ev_sessions, 10)

sessions %&gt;%
  select(ConnectionStartDateTime, ConnectionEndDateTime, Power)

adapt_charging_features(
  sessions,
  time_resolution = 60,
  power_resolution = 0.01
) %&gt;%
  select(ConnectionStartDateTime, ConnectionEndDateTime, Power)

adapt_charging_features(
  sessions,
  time_resolution = 15,
  power_resolution = 1
) %&gt;%
  select(ConnectionStartDateTime, ConnectionEndDateTime, Power)


</code></pre>


</div>