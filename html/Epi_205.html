<div class="container">

<table style="width: 100%;"><tr>
<td>timeBand</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract time band data from a split Lexis object</h2>

<h3>Description</h3>

<p>The break points of a <code>Lexis</code> object (created by a call to
<code>splitLexis</code>) divide the follow-up intervals into time bands
along a given time scale. The <code>breaks</code> function returns
the break points, for a given time scale, and the <code>timeBand</code>
classifies each row (=follow-up interval) into one of the time bands.
</p>


<h3>Usage</h3>

<pre><code class="language-R">timeBand(lex, time.scale, type="integer")
breaks(lex, time.scale)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lex</code></td>
<td>
<p>an object of class <code>Lexis</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.scale</code></td>
<td>
<p>a character or integer vector of length 1
identifying the time scale of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a string that determines how the time bands are labelled.
See Details below</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Time bands may be labelled in various ways according to the
<code>type</code> argument. The permitted values of the <code>type</code>
argument, and the corresponding return values are:
</p>

<dl>
<dt>"integer"</dt>
<dd>
<p>a numeric vector with integer codes starting from 0.</p>
</dd>
<dt>"factor"</dt>
<dd>
<p>a factor (unordered) with labels "(left,right]"</p>
</dd>
<dt>"left"</dt>
<dd>
<p>the left-hand limit of the time band</p>
</dd>
<dt>"middle"</dt>
<dd>
<p>the midpoint of the time band</p>
</dd>
<dt>"right"</dt>
<dd>
<p>the right-hand limit of the time band</p>
</dd>
</dl>
<h3>Value</h3>

<p>The <code>breaks</code> function returns a vector of break points
for the <code>Lexis</code> object, or NULL if no break points have been
defined by a call to <code>splitLexis</code>.  The <code>timeBand</code>
function returns a numeric vector or factor, depending on the value
of the <code>type</code> argument.
</p>


<h3>Note</h3>

<p>A newly created <code>Lexis</code> object has no break points defined.
In this case, <code>breaks</code> will return NULL, and
<code>timeBand</code> will a vector of zeros.
</p>


<h3>Author(s)</h3>

<p>Martyn Plummer</p>


<h3>See Also</h3>

<p><code>Lexis</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(diet)
diet &lt;- cal.yr(diet)
diet.lex &lt;- Lexis(entry=list(period=doe),
                   exit=list(period=dox, age=dox-dob),
            exit.status=chd,
                   data=diet)
diet.split &lt;- splitLexis(diet.lex, breaks=seq(40,70,5), "age" )
age.left &lt;- timeBand(diet.split, "age", "left")
table(age.left)
age.fact &lt;- timeBand(diet.split, "age", "factor")
table(age.fact)
age.mid &lt;- timeBand(diet.split, "age", "mid")
table(age.mid)
</code></pre>


</div>