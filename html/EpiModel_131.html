<div class="container">

<table style="width: 100%;"><tr>
<td>modules.icm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Modules for Stochastic Individual Contact Models</h2>

<h3>Description</h3>

<p>Stochastic individual contact models of infectious disease simulate epidemics
in which contacts between individuals are instantaneous events in discrete
time. They are intended to be the stochastic microsimulation analogs to
deterministic compartmental models.
</p>
<p>The <code>icm</code> function handles both the simulation tasks. Within this
function are a series of modules that initialize the simulation and then
simulate new infections, recoveries, and vital dynamics at each time step. A
module also handles the basic bookkeeping calculations for disease
prevalence.
</p>
<p>Writing original ICMs will require modifying the existing modules or
adding new modules to the workflow in <code>icm</code>. The existing modules
may be used as a template for replacement or new modules.
</p>
<p>This help page presents a brief overview of the module functions in the order
in which they are used within <code>icm</code>, in order to help guide users
in writing their own module functions. These module functions are not shown
on the help index since they are not called directly by the end-user. To
understand these functions in more detail, review the separate help pages
listed below.
</p>


<h3>Initialization Module</h3>

<p>This function sets up agent attributes, like disease status, on the network
at the starting time step of disease simulation, <code class="reqn">t_1</code>. For
multiple-simulation function calls, these are reset at the beginning of each
simulation.
</p>

<ul><li> <p><code>initialize.icm</code>: sets which agents are initially
infected, through the initial conditions passed in
<code>init.icm</code>.
</p>
</li></ul>
<h3>Disease Status Modification Modules</h3>

<p>The main disease simulation occurs at each time step given the current state
of the population at that step. Infection of agents is simulated as a
function of disease parameters and population composition. Recovery of agents
is likewise simulated with respect to infected nodes. These functions also
analyze the flows for summary measures such as disease incidence.
</p>

<ul>
<li> <p><code>infection.icm</code>: randomly draws an edgelist given the
parameters, subsets the list for discordant pairs, and simulates
transmission on those discordant pairs through a series of draws from
a binomial distribution.
</p>
</li>
<li> <p><code>recovery.icm</code>: simulates recovery from infection either
to a lifelong immune state (for SIR models) or back to the susceptible
state (for SIS models), as a function of the recovery rate specified
in the <code>rec.rate</code> parameter. The recovery rate may vary for
two-group models.
</p>
</li>
</ul>
<h3>Demographic Modules</h3>

<p>Vital dynamics such as arrival and departure processes are simulated at each
time step to update entries into and exits from the population. These are
used in open-population ICMs.
</p>

<ul>
<li> <p><code>departures.icm</code>: randomly simulates departures or exits
for agents given the departure rate specified in the disease-state and
group-specific departure parameters in <code>param.icm</code>. This
involves deactivating agents from the population, but their historical
data is preserved in the simulation.
</p>
</li>
<li> <p><code>arrivals.icm</code>: randomly simulates new arrivals into the
population given the current population size and the arrival rate
parameters. This involves adding new agents into the population.
</p>
</li>
</ul>
<h3>Bookkeeping Module</h3>

<p>Simulations require bookkeeping at each time step to calculate the
summary epidemiological statistics used in the model output analysis.
</p>

<ul><li> <p><code>prevalence.icm</code>: calculates the number in each disease
state (susceptible, infected, recovered) at each time step for those
active agents in the population.
</p>
</li></ul>
</div>