<div class="container">

<table style="width: 100%;"><tr>
<td>websearch_comptox</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Search and retrieve substance information from <a href="https://comptox.epa.gov/dashboard">https://comptox.epa.gov/dashboard</a>
</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a> Search <a href="https://comptox.epa.gov/dashboard">https://comptox.epa.gov/dashboard</a> for substances and their chemico-physical properties
and meta-information.
</p>


<h3>Usage</h3>

<pre><code class="language-R">websearch_comptox(
  searchItems,
  identifierTypes = c("chemical_name", "CASRN", "INCHIKEY", "dtxsid"),
  inputType = c("IDENTIFIER", "DTXCID", "INCHIKEY_SKELETON", "MSREADY_FORMULA",
    "EXACT_FORMULA", "MASS"),
  downloadItems = c("DTXCID", "CASRN", "INCHIKEY", "IUPAC_NAME", "SMILES",
    "INCHI_STRING", "MS_READY_SMILES", "QSAR_READY_SMILES", "MOLECULAR_FORMULA",
    "AVERAGE_MASS", "MONOISOTOPIC_MASS", "QC_LEVEL", "SAFETY_DATA", "EXPOCAST",
    "DATA_SOURCES", "TOXVAL_DATA", "NUMBER_OF_PUBMED_ARTICLES", "PUBCHEM_DATA_SOURCES",
    "CPDAT_COUNT", "IRIS_LINK", "PPRTV_LINK", "WIKIPEDIA_ARTICLE", "QC_NOTES",
    "ABSTRACT_SHIFTER", "TOXPRINT_FINGERPRINT", "ACTOR_REPORT", "SYNONYM_IDENTIFIER",
    "RELATED_RELATIONSHIP", "ASSOCIATED_TOXCAST_ASSAYS", 
     "TOXVAL_DETAILS",
    "CHEMICAL_PROPERTIES_DETAILS", "BIOCONCENTRATION_FACTOR_TEST_PRED",
    "BOILING_POINT_DEGC_TEST_PRED", "48HR_DAPHNIA_LC50_MOL/L_TEST_PRED",
    "DENSITY_G/CM^3_TEST_PRED", "DEVTOX_TEST_PRED",
    "96HR_FATHEAD_MINNOW_MOL/L_TEST_PRED", "FLASH_POINT_DEGC_TEST_PRED",
    "MELTING_POINT_DEGC_TEST_PRED", "AMES_MUTAGENICITY_TEST_PRED",
    "ORAL_RAT_LD50_MOL/KG_TEST_PRED", "SURFACE_TENSION_DYN/CM_TEST_PRED",
    "THERMAL_CONDUCTIVITY_MW/(M*K)_TEST_PRED",
    "TETRAHYMENA_PYRIFORMIS_IGC50_MOL/L_TEST_PRED", "VISCOSITY_CP_CP_TEST_PRED", 
    
    "VAPOR_PRESSURE_MMHG_TEST_PRED", "WATER_SOLUBILITY_MOL/L_TEST_PRED",
    "ATMOSPHERIC_HYDROXYLATION_RATE_(AOH)_CM3/MOLECULE*SEC_OPERA_PRED",
    "BIOCONCENTRATION_FACTOR_OPERA_PRED",
    "BIODEGRADATION_HALF_LIFE_DAYS_DAYS_OPERA_PRED", "BOILING_POINT_DEGC_OPERA_PRED",
    "HENRYS_LAW_ATM-M3/MOLE_OPERA_PRED", "OPERA_KM_DAYS_OPERA_PRED",
    "OCTANOL_AIR_PARTITION_COEFF_LOGKOA_OPERA_PRED",
    "SOIL_ADSORPTION_COEFFICIENT_KOC_L/KG_OPERA_PRED",
    "OCTANOL_WATER_PARTITION_LOGP_OPERA_PRED", "MELTING_POINT_DEGC_OPERA_PRED", 
    
    "OPERA_PKAA_OPERA_PRED", "OPERA_PKAB_OPERA_PRED", "VAPOR_PRESSURE_MMHG_OPERA_PRED",
    "WATER_SOLUBILITY_MOL/L_OPERA_PRED",
    "EXPOCAST_MEDIAN_EXPOSURE_PREDICTION_MG/KG-BW/DAY", "NHANES",
    "TOXCAST_NUMBER_OF_ASSAYS/TOTAL", "TOXCAST_PERCENT_ACTIVE"),
  massError = 0,
  timeout = 300,
  verify_ssl = getOption("ECOTOXr_verify_ssl"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>searchItems</code></td>
<td>
<p>A <code>vector</code> of <code>character</code>s where each element is a substance descriptor (any of the selected <code>identifierType</code>s) you
wish to query.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>identifierTypes</code></td>
<td>
<p>Substance identifiers for searching CompTox. Only used when <code>inputType</code> is set to <code>"IDENTIFIER"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputType</code></td>
<td>
<p>Type of input used for searching CompTox. See usage section for valid entries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>downloadItems</code></td>
<td>
<p>Output fields of CompTox data for requested substances</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>massError</code></td>
<td>
<p>Error tolerance when searching for substances based on their monoisotopic mass. Only used for <code>inputType = "MASS"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>Time in seconds (default is 300 secs), that the routine will wait for the download link to get ready.
It will throw an error if it takes longer than the specified <code>timeout</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verify_ssl</code></td>
<td>
<p>When set to <code>FALSE</code> the SSL certificate of the host (EPA)
is not verified. Can also be set as option:
<code>options(ECOTOXr_verify_ssl = TRUE)</code>. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed on to <code>httr2::req_options()</code> requests.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <a href="https://comptox.epa.gov/dashboard">CompTox Chemicals Dashboard</a> is a freely accessible on-line U.S. EPA database.
It contains information on physico-chemical properties, environmental fate and transport, exposure, usage, <em>in vivo</em> toxicity,
and <em>in vitro</em> bioassay of a wide range of substances.
</p>
<p>The function described here to search and retrieve records from the on-line database is experimental. This is because this feature is
not formally supported by the EPA, and it may break in future incarnations of the on-line database. The function forms an interface between
R and the <a href="https://comptox.epa.gov/dashboard">CompTox</a> website and is therefore limited by the restrictions documented there.
</p>


<h3>Value</h3>

<p>Returns a named <code>list</code> of dplyr::tibbles containing the search results for the requested output tables and fields.
Results are unpolished and ‘as is’ returned by EPA's web service.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>References</h3>

<p>Official US EPA CompTox website:
<a href="https://comptox.epa.gov/dashboard/">https://comptox.epa.gov/dashboard/</a>
</p>
<p>Williams, A.J., Grulke, C.M., Edwards, J., McEachran, A.D., Mansouri, K, Baker, N.C., Patlewicz, G., Shah, I.,
Wambaugh, J.F., Judson, R.S. &amp; Richard, A.M. (2017), The CompTox Chemistry Dashboard: a community data resource
for environmental chemistry. <em>J Cheminform</em>, 9(61) <a href="https://doi.org/10.1186/s13321-017-0247-6">doi:10.1186/s13321-017-0247-6</a>
</p>


<h3>See Also</h3>

<p>Other search-functions: 
<code>search_ecotox()</code>,
<code>websearch_ecotox()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## search for substance name 'benzene' and CAS registration number 108-88-3
## on https://comptox.epa.gov/dashboard:
comptox_results &lt;- websearch_comptox(c("benzene", "108-88-3"))

## search for substances with monoisotopic mass of 100+/-5:
comptox_results2 &lt;- websearch_comptox("100", inputType = "MASS", massError = 5)

## End(Not run)
</code></pre>


</div>