<div class="container">

<table style="width: 100%;"><tr>
<td>eventPred-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Event Prediction</h2>

<h3>Description</h3>

<p>Predicts enrollment and events at the design stage
using assumed enrollment and treatment-specific time-to-event models,
or at the analysis stage using blinded or unblinded data and
specified enrollment and time-to-event models through simulations.
</p>


<h3>Details</h3>

<p>Accurately predicting the date at which a target number
of subjects or events will be achieved is critical for the planning,
monitoring, and execution of clinical trials. The <code>eventPred</code>
package provides enrollment and event prediction capabilities
using assumed enrollment and treatment-specific time-to-event models
at the design stage, using blinded or unblinded data and
specified enrollment and time-to-event models at the analysis stage.
</p>
<p>At the design stage, enrollment is often specified using a
piecewise Poisson process with a constant enrollment rate
during each specified time interval. At the analysis stage,
before enrollment completion, the <code>eventPred</code> package
considers several models, including the homogeneous Poisson
model, the time-decay model with an enrollment
rate function <code>lambda(t) = mu/delta*(1 - exp(-delta*t))</code>,
the B-spline model with the daily enrollment rate
<code>lambda(t) = exp(B(t)*theta)</code>, and the piecewise Poisson model.
If prior information exists on the model parameters, it can
be combined with the likelihood to yield the posterior distribution.
</p>
<p>The <code>eventPred</code> package also offers several time-to-event models,
including exponential, Weibull, log-logistic, log-normal, piecewise
exponential, model averaging of Weibull and log-normal, and spline.
For time to dropout, the same set of model options are considered.
If enrollment is complete, ongoing subjects who have not had the event
of interest or dropped out of the study before the data cut contribute
additional events in the future. Their event times are generated
from the conditional distribution given that they have survived
at the data cut. For new subjects that need to be enrolled,
their enrollment time and event time can be generated from the
specified enrollment and time-to-event models with parameters
drawn from the posterior distribution. Time-to-dropout can be
generated in a similar fashion.
</p>
<p>The <code>eventPred</code> package displays the Akaike Information
Criterion (AIC), the Bayesian Information
Criterion (BIC) and a fitted curve overlaid with observed data
to help users select the most appropriate model for enrollment
and event prediction. Prediction intervals in the prediction plot
can be used to measure prediction uncertainty, and the simulated
enrollment and event data can be used for further data exploration.
</p>
<p>The most useful function in the <code>eventPred</code> package is
<code>getPrediction</code>, which combines model fitting, data simulation,
and a summary of simulation results. Other functions perform
individual tasks and can be used to select an appropriate
prediction model.
</p>
<p>The <code>eventPred</code> package implements a model
parameterization that enhances the asymptotic normality of
parameter estimates. Specifically, the package utilizes the
following parameterization to achieve this goal:
</p>

<ul>
<li>
<p> Enrollment models
</p>

<ul>
<li>
<p> Poisson: <code>theta = log(rate)</code>
</p>
</li>
<li>
<p> Time-decay: <code>theta = c(log(mu), log(delta))</code>
</p>
</li>
<li>
<p> B-spline: no reparametrization is needed. The
knots as considered fixed.
</p>
</li>
<li>
<p> Piecewise Poisson: <code>theta = log(rates)</code>.
The left endpoints of time intervals, denoted as
<code>accrualTime</code>, are considered fixed.
</p>
</li>
</ul>
</li>
<li>
<p> Event or dropout models
</p>

<ul>
<li>
<p> Exponential: <code>theta = log(rate)</code>
</p>
</li>
<li>
<p> Weibull: <code>theta = c(log(scale), -log(shape))</code>
</p>
</li>
<li>
<p> Log-logistic: <code>theta = c(log(scale), -log(shape))</code>
</p>
</li>
<li>
<p> Log-normal: <code>theta = c(meanlog, log(sdlog))</code>
</p>
</li>
<li>
<p> Piecewise exponential: <code>theta = log(rates)</code>.
The left endpoints of time intervals, denoted as
<code>piecewiseSurvivalTime</code> for event model and
<code>piecewiseDropoutTime</code> for dropout model, are
considered fixed.
</p>
</li>
<li>
<p> Model averaging: <code>theta = c(log(weibull$scale),
    -log(weibull$shape), lnorm$meanlog, log(lnorm$sdlog))</code>.
The covariance matrix for <code>theta</code> is structured
as a block diagonal matrix, with the upper-left block
corresponding to the Weibull component and the
lower-right block corresponding to the log-normal
component. In other words, the covariance matrix is
partitioned into two distinct blocks, with no
off-diagonal elements connecting the two components.
The weight assigned to the Weibull component, denoted as
<code>w1</code>, is considered fixed.
</p>
</li>
<li>
<p> Spline: <code>theta</code> corresponds to the coefficients
of basis vectors. The <code>knots</code> and <code>scale</code>
are considered fixed. The <code>scale</code> can be hazard,
odds, or normal, corresponding to extensions of Weibull,
log-logistic, and log-normal distributions, respectively.
</p>
</li>
</ul>
</li>
</ul>
<p>The <code>eventPred</code> package uses days as its primary time unit.
If you need to convert enrollment or event rates per month to
rates per day, simply divide by 30.4375.
</p>


<h3>Author(s)</h3>

<p>Kaifeng Lu, <a href="mailto:kaifenglu@gmail.com">kaifenglu@gmail.com</a>
</p>


<h3>References</h3>

<p>Emilia Bagiella and Daniel F. Heitjan. Predicting analysis times in
randomized clinical trials. Stat in Med. 2001; 20:2055-2063.
</p>
<p>Gui-shuang Ying and Daniel F. Heitjan. Weibull prediction of event
times in clinical trials. Pharm Stat. 2008; 7:107-120.
</p>
<p>Xiaoxi Zhang and Qi Long. Stochastic modeling and prediction for
accrual in clinical trials. Stat in Med. 2010; 29:649-658.
</p>
<p>Patrick Royston and Mahesh K. B. Parmar. Flexible parametric
proportional-hazards and proportional-odds models for censored
survival data, with application to prognostic modelling and
estimation of treatment effects. Stat in Med. 2002; 21:2175-2197.
</p>


</div>