<div class="container">

<table style="width: 100%;"><tr>
<td>test.parameters</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate influence of model parameters.</h2>

<h3>Description</h3>

<p>All possible combinations of number of end-members and weight transformation
limits are used to perform EMMA and evaluate the absolute and relative 
measures of individual model performance.
</p>


<h3>Usage</h3>

<pre><code class="language-R">test.parameters(
  X,
  q,
  l = 0,
  c = 100,
  rotation = "Varimax",
  plot = FALSE,
  legend,
  multicore = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p><code>Numeric</code> matrix, input data set with m samples (rows) 
and n variables (columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p><code>Numeric</code> vector, numbers of end-members to be modelled,
e.g., <code>2:10</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>
<p><code>Numeric</code> vector specifying the weight tranformation limit, 
i.e. quantile; default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c</code></td>
<td>
<p><code>Numeric</code> scalar specifying the constant sum scaling 
parameter, e.g., 1, 100, 1000; default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotation</code></td>
<td>
<p><code>Character</code> scalar, rotation type, default is 
<code>"Varimax"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p><code>Character</code> scalar, optional graphical output of the 
results as keyword (see details). All plots except "ol" are colour-coded 
bitmaps of q, l and the specified test parameter and line-plots the 
specified parameter vs. <code>q</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p><code>Character</code> scalar, specifying legend position (cf.
<code>legend</code>).  If omitted, no legend will be plotted, default is no
legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multicore</code></td>
<td>
<p><code>Logical</code> scalar, optionally ditribute calculations 
to all available cores of the computer, default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to the plot function (see details).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The mean total explained variance mRt may be used to define a maximum number
of meaningful end-members for subsequent modelling, e.g. as the number of
end-members, which reaches the first local mRt maximum.<br> Overlapping is
defined as one end-member having its mode within the "area" of any other
end-member, which is genetically not explainable.<br> Keywords to specify, 
which tested parameter will be plotted: "mEm" (mean absolute row-wise 
error), "mEn" (mean absolute column-wise error), "mRm" (mean
relative row-wise error), "mRn" (mean relative column-wise error), "mRt"
(mean relative total error) and "ol" (number of overlapping end-members).<br>
Since the function returns two plots (except for option "ol"), additional
graphical parameters must be specified as vector with the first element for
the first plot and the second element for the second plot. If graphical
parameters are natively vectors (e.g. a sequence of colours), they must be
specified as matrices with each vector as a row. A legend can only be added
to the second plot. Colours only apply to the second plot as well. If
colours are specified, <code>colour</code> should be used instead of <code>col</code>.
See example section for further advice.
</p>


<h3>Value</h3>

<p><code>List</code> with result objects </p>
<table>
<tr style="vertical-align: top;">
<td><code>mEm</code></td>
<td>
<p>Absolute row-wise model
error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mEn</code></td>
<td>
<p>Absolute column-wise model error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mRm</code></td>
<td>
<p>Mean
row-wise explained variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mRn</code></td>
<td>
<p>Mean column-wise explained
variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mRt</code></td>
<td>
<p>Mean total explained variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ol</code></td>
<td>
<p>Number of
overlapping end-member loadings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q.max</code></td>
<td>
<p>Maximum number of meaningful
end-members.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michael Dietze, Elisabeth Dietze
</p>


<h3>References</h3>

<p>Dietze E, Hartmann K, Diekmann B, IJmker J, Lehmkuhl F, Opitz S,
Stauch G, Wuennemann B, Borchers A. 2012. An end-member algorithm for
deciphering modern detrital processes from lake sediments of Lake Donggi
Cona, NE Tibetan Plateau, China. Sedimentary Geology 243-244: 169-180.
</p>


<h3>See Also</h3>

<p><code>EMMA</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## load example data set
data(example_X)

## truncate the data set for faster computation
X.trunc &lt;- X[1:20,]

## define test parameters
q &lt;- 2:8 # number of end-members
l &lt;- seq(from = 0, to = 0.3, by = 0.1)

## test parameter influence and plot mean total explained variance
TP &lt;- test.parameters(X = X.trunc, q = q, l = l, plot = "mRt",
                      legend = "bottomright", cex = 0.7,
                      multicore = FALSE,
                      colour = rgb((1:7) / 7, 0.9, 0.2, 1))

## show maximum number of end-members
TP$q.max

</code></pre>


</div>