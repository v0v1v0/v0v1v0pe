<div class="container">

<table style="width: 100%;"><tr>
<td>evalContBoyce</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Continuous Boyce Index (CBI) with weighting</h2>

<h3>Description</h3>

<p>This function calculates the continuous Boyce index (CBI), a measure of model accuracy for presence-only test data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">evalContBoyce(
  pres,
  contrast,
  numBins = 101,
  binWidth = 0.1,
  presWeight = rep(1, length(pres)),
  contrastWeight = rep(1, length(contrast)),
  autoWindow = TRUE,
  method = "spearman",
  dropZeros = TRUE,
  graph = FALSE,
  table = FALSE,
  na.rm = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pres</code></td>
<td>
<p>Numeric vector. Predicted values at presence sites.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrast</code></td>
<td>
<p>Numeric vector. Predicted values at background sites.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numBins</code></td>
<td>
<p>Positive integer. Number of (overlapping) bins into which to divide predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binWidth</code></td>
<td>
<p>Positive numeric value &lt; 1. Size of a bin. Each bin will be <code>binWidth * (max - min)</code>. If <code>autoWindow</code> is <code>FALSE</code> (the default) then <code>min</code> is 0 and <code>max</code> is 1. If <code>autoWindow</code> is <code>TRUE</code> then <code>min</code> and <code>max</code> are the maximum and minimum value of all predictions in the background and presence sets (i.e., not necessarily 0 and 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>presWeight</code></td>
<td>
<p>Numeric vector same length as <code>pres</code>. Relative weights of presence sites. The default is to assign each presence a weight of 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrastWeight</code></td>
<td>
<p>Numeric vector same length as <code>contrast</code>. Relative weights of background sites. The default is to assign each presence a weight of 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autoWindow</code></td>
<td>
<p>Logical. If <code>FALSE</code> calculate bin boundaries starting at 0 and ending at 1 + epsilon (where epsilon is a very small number to assure inclusion of cases that equal 1 exactly). If <code>TRUE</code> (default) then calculate bin boundaries starting at minimum predicted value and ending at maximum predicted value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Character. Type of correlation to calculate. The default is <code>'spearman'</code>, the Spearman rank correlation coefficient used by Boyce et al. (2002) and Hirzel et al. (2006), which is the "traditional" CBI. In contrast, <code>'pearson'</code> or <code>'kendall'</code> can be used instead.  See <code>cor</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dropZeros</code></td>
<td>
<p>Logical. If <code>TRUE</code> then drop all bins in which the frequency of presences is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p>Logical. If <code>TRUE</code> then plot P vs E and P/E versus bin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the function will also return a table of P (proportion of presence weights per bin), E (expected proportion of presence weights per bin–from contrast sites), and the ratio of the two.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Logical. If <code>TRUE</code> then remove any presences and associated weights and background predictions and associated weights with <code>NA</code>s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments (not used).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>CBI is the Spearman rank correlation coefficient between the proportion of sites in each prediction class and the expected proportion of predictions in each prediction class based on the proportion of the landscape that is in that class.  The index ranges from -1 to 1. Values &gt;0 indicate the model's output is positively correlated with the true probability of presence.  Values &lt;0 indicate it is negatively correlated with the true probability of presence.
</p>


<h3>Value</h3>

<p>Numeric value, or if <code>table</code> is <code>TRUE</code>, then a list object with CBI plus a data frame with P (proportion of presence weights per bin), E (expected proportion of presence weights per bin–from contrast sites), and the ratio of the two.
</p>


<h3>References</h3>

<p>Boyce, M.S., Vernier, P.R., Nielsen, S.E., and Schmiegelow, F.K.A.  2002.  Evaluating resource selection functions.  <em>Ecological Modeling</em> 157:281-300. <a href="https://doi.org/10.1016/S0304-3800%2802%2900200-4">doi:10.1016/S0304-3800(02)00200-4</a>
</p>
<p>Hirzel, A.H., Le Lay, G., Helfer, V., Randon, C., and Guisan, A.  2006.  Evaluating the ability of habitat suitability models to predict species presences.  <em>Ecological Modeling</em> 199:142-152. <a href="https://doi.org/10.1016/j.ecolmodel.2006.05.017">doi:10.1016/j.ecolmodel.2006.05.017</a>
</p>


<h3>See Also</h3>

<p><code>cor</code>, <code>pa_evaluate</code>, <code>evalAUC</code>, <code>evalMultiAUC</code>, <code>evalContBoyce</code>, <code>evalThreshold</code>, <code>evalThresholdStats</code>, <code>evalTjursR2</code>, <code>evalTSS</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(123)
pres &lt;- sqrt(runif(100))
contrast &lt;- runif(1000)
evalContBoyce(pres, contrast)

presWeight &lt;- c(rep(1, 10), rep(0.5, 90))
evalContBoyce(pres, contrast, presWeight=presWeight)

</code></pre>


</div>