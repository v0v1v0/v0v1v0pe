<div class="container">

<table style="width: 100%;"><tr>
<td>SurvSplit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Split a survival object at specified durations.</h2>

<h3>Description</h3>

<p>Given a survival object, (a matrix with two or three columns) and a set of
specified cut times, split each record into multiple subrecords at each cut
time.  The new survival object will be in ‘counting process’ format, with an
enter time, exit time, and event status for each record.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SurvSplit(Y, cuts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>A survival object, a matrix with two or three columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cuts</code></td>
<td>
<p>The cut points, must be strictly positive and distinct.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with components 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>The new survival object with three
columns, i.e., in 'counting process' form.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ivl</code></td>
<td>
<p>Interval No., starting from leftmost, (0, cuts[1]) or similar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idx</code></td>
<td>
<p>Row number for original Y row.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>This function is used in <code>phreg</code> for the piecewise
constant hazards model. It uses <code>age.window</code> for each interval.
</p>


<h3>Author(s)</h3>

<p>Göran Broström
</p>


<h3>See Also</h3>

<p><code>survSplit</code>, <code>age.window</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
##---- Should be DIRECTLY executable !! ----
##-- ==&gt;  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function(Y, cuts){
    if (NCOL(Y) == 2) Y &lt;- cbind(rep(0, NROW(Y)), Y)
    indat &lt;- cbind(Y, 1:NROW(Y), rep(-1, NROW(Y)))
    colnames(indat) &lt;- c("enter", "exit", "event", "idx", "ivl")
    n &lt;- length(cuts)
    cuts &lt;- sort(cuts)
    if ((cuts[1] &lt;= 0) || (cuts[n] == Inf))
        stop("'cuts' must be positive and finite.")
    cuts &lt;- c(0, cuts, Inf)
    n &lt;- n + 1
    out &lt;- list()
    indat &lt;- as.data.frame(indat)
    for (i in 1:n){
        out[[i]] &lt;- age.window(indat, cuts[i:(i+1)])
        out[[i]]$ivl &lt;- i
        out[[i]] &lt;- t(out[[i]])
    }
    Y &lt;- matrix(unlist(out), ncol = 5, byrow = TRUE)
    colnames(Y) &lt;- colnames(indat)
    list(Y = Y[, 1:3],
         ivl = Y[, 5],
         idx = Y[, 4]
         )
  }

</code></pre>


</div>