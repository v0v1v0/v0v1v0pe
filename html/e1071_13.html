<div class="container">

<table style="width: 100%;"><tr>
<td>classAgreement</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coefficients Comparing Classification Agreement</h2>

<h3>Description</h3>

<p><code>classAgreement()</code> computes several coefficients of agreement
between the columns and rows of a 2-way contingency table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">classAgreement(tab, match.names=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tab</code></td>
<td>
<p>A 2-dimensional contingency table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>match.names</code></td>
<td>
<p>Flag whether row and columns should be matched by name.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Suppose we want to compare two classifications summarized by the
contingency table <code class="reqn">T=[t_{ij}]</code> where <code class="reqn">i,j=1,\ldots,K</code> and <code class="reqn">t_{ij}</code>
denotes the number of data points which are in class <code class="reqn">i</code> in the
first partition and in class <code class="reqn">j</code> in the second partition. If both
classifications use the same labels, then obviously the two
classification agree completely if only elements in the main diagonal
of the table are non-zero. On the other hand, large off-diagonal
elements correspond to smaller agreement between the two
classifications. If <code>match.names</code> is <code>TRUE</code>, the class labels
as given by the row and column names are matched, i.e. only columns and
rows with the same dimnames are used for the computation.
</p>
<p>If the two classification do not use the same set of labels, or if
identical labels can have different meaning (e.g., two outcomes of
cluster analysis on the same data set), then the situation is a little
bit more complicated. Let <code class="reqn">A</code> denote the number of all pairs of data
points which are either put into the same cluster by both partitions or
put into different clusters by both partitions. Conversely, let <code class="reqn">D</code>
denote the number of all pairs of data points that are put into one
cluster in one partition, but into different clusters by the other
partition.  Hence, the partitions disagree for all pairs <code class="reqn">D</code> and
agree for all pairs <code class="reqn">A</code>. We can measure the agreement by the Rand
index <code class="reqn">A/(A+D)</code> which is invariant with respect to permutations of
the columns or rows of <code class="reqn">T</code>.
</p>
<p>Both indices have to be corrected for agreement by chance if the sizes
of the classes are not uniform.
</p>


<h3>Value</h3>

<p>A list with components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>diag</code></td>
<td>
<p>Percentage of data points in the main diagonal of <code>tab</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kappa</code></td>
<td>
<p><code>diag</code> corrected for agreement by chance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rand</code></td>
<td>
<p>Rand index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crand</code></td>
<td>
<p>Rand index corrected for agreement by chance.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>References</h3>

<p>J.~Cohen. A coefficient of agreement for nominal scales.
Educational and Psychological Measurement, 20, 37–46, 1960.
</p>
<p>Lawrence Hubert and Phipps Arabie. Comparing partitions.
Journal of Classification, 2, 193–218, 1985.
</p>


<h3>See Also</h3>

<p><code>matchClasses</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## no class correlations: both kappa and crand almost zero
g1 &lt;- sample(1:5, size=1000, replace=TRUE)
g2 &lt;- sample(1:5, size=1000, replace=TRUE)
tab &lt;- table(g1, g2)
classAgreement(tab)

## let pairs (g1=1,g2=1) and (g1=3,g2=3) agree better
k &lt;- sample(1:1000, size=200)
g1[k] &lt;- 1
g2[k] &lt;- 1

k &lt;- sample(1:1000, size=200)
g1[k] &lt;- 3
g2[k] &lt;- 3

tab &lt;- table(g1, g2)
## both kappa and crand should be significantly larger than before
classAgreement(tab)
</code></pre>


</div>