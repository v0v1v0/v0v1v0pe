<div class="container">

<table style="width: 100%;"><tr>
<td>proxy_episode_dates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>HES/SUS Episode Date Cleaning</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Correcting for missing end dates on HES/SUS episodes
</p>


<h3>Usage</h3>

<pre><code class="language-R">proxy_episode_dates(
  x,
  group_vars,
  spell_start_date,
  spell_end_date,
  discharge_destination,
  .dropTmp = TRUE,
  .forceCopy = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a data frame; will be converted to a data.table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_vars</code></td>
<td>
<p>a vector containing any variables to be used for
record grouping, minimum is a patient identifier</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spell_start_date</code></td>
<td>
<p>Inpatient provider spell or episode admission date</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spell_end_date</code></td>
<td>
<p>Inpatient provider spell or episode discharge  date</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discharge_destination</code></td>
<td>
<p>CDS discharge destination code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.dropTmp</code></td>
<td>
<p>default TRUE; a logical to drop all tmp values used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.forceCopy</code></td>
<td>
<p>default FALSE; TRUE will force data.table to take a copy
instead of editing the data without reference</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data.table with cleaned start and end dates, and an indicator proxy_missing where the value has changed
</p>


<h3>Examples</h3>

<pre><code class="language-R">
proxy_test &lt;- data.frame(
  id = c(
    rep(3051, 4),
    rep(7835,3),
    rep(9891,3),
    rep(1236,3)
  ),
  provider = c(
    rep("QKJ", 4),
    rep("JSD",3),
    rep("YJG",3),
    rep("LJG",3)
  ),
  spell_start = as.Date(c(
    "2020-07-03", "2020-07-14", "2020-07-23", "2020-08-05",
    "2020-11-01", "2020-11-13", "2020-12-01",
    "2020-03-28", "2020-04-06", "2020-04-09",
    "2020-10-06", "2020-11-05", "2020-12-25"
  )),
  spell_end = as.Date(c(
    "2020-07-11", "2020-07-22", "2020-07-30", "2020-07-30",
    "2020-11-11", NA, "2020-12-03",
    "2020-03-28", NA, "2020-04-09",
    "2020-10-06", "2020-11-05", NA
  )),
  disdest = c(
    19, 19, 51, 19,
    19, 19, 19,
    51, 98, 19,
    19, 19, 98
  )
)


proxy_episode_dates(
  x=proxy_test,
  group_vars = c('id','provider'),
  spell_start_date = 'spell_start',
  spell_end_date = 'spell_end',
  discharge_destination = 'disdest'
)[]
</code></pre>


</div>