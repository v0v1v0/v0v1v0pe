<div class="container">

<table style="width: 100%;"><tr>
<td>get_audit_report</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get audit report</h2>

<h3>Description</h3>

<p>Get audit report
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_audit_report(query, as = "data.frame", env = "production")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>(character) Query (see details below)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as</code></td>
<td>
<p>(character) Format of the returned object. Can be: "data.frame" 
or "xml".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>(character) Repository environment. Can be: "production",
"staging", or "development".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Query parameters are specified as key=value pairs, multiple pairs
must be delimited with ampersands (&amp;), and only a single value should be
specified for a particular key. The following query parameter keys are
allowed:
</p>

<ul>
<li>
<p> category - Can be: debug, info, error, warn
</p>
</li>
<li>
<p> service - Any of the EDI data repository services
</p>
</li>
<li>
<p> serviceMethod - Any of the EDI data repository service Resource
class JAX-RS methods
</p>
</li>
<li>
<p> user - Any user
</p>
</li>
<li>
<p> group - Any group
</p>
</li>
<li>
<p> authSystem - A valid auth system identifier
</p>
</li>
<li>
<p> status - A valid HTTP Response Code
</p>
</li>
<li>
<p> resourceId - An EDI data repository resource identifier, e.g.
https://pasta.lternet.edu/package/eml/knb-lter-and/2719/6, or a thereof
(see details below)
</p>
</li>
<li>
<p> fromTime - An ISO8601 timestamp
</p>
</li>
<li>
<p> toTime - An ISO8601 timestamp
</p>
</li>
<li>
<p> limit - A positive whole number
</p>
</li>
</ul>
<p>The query parameters fromTime and optionally toTime should be used to
indicate a time span. When toTime is absent, the report will consist of all
matching records up to the current time. Either of these parameters may only
be used once. The query parameter limit sets an upper limit on the number of
audit records returned. For example, "limit=1000". The query parameter
resourceId will match any audit log entry whose resourceId value contains
the specified string value. Thus, a query parameter of
"resourceId=knb-lter-and" will match any audit log entry whose resourceId
value contains the substring "knb-lter-and", while a query parameter of
"resourceId=knb-lter-and/2719/6" will match any audit log entry whose
resourceId value contains the substring "knb-lter-and/2719/6".
</p>


<h3>Value</h3>

<p>(data.frame or xml_document) Zero or more audit records matching
the query parameters as specified in the request (see details below).
</p>


<h3>Note</h3>

<p>User authentication is required (see <code>login()</code>)
</p>


<h3>See Also</h3>

<p>Other Audit Manager Services: 
<code>get_audit_count()</code>,
<code>get_audit_record()</code>,
<code>get_docid_reads()</code>,
<code>get_packageid_reads()</code>,
<code>get_recent_uploads()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

login()

# Get audit report for data reads between 2021-12-01 and 2021-12-02
query &lt;- "serviceMethod=readDataEntity&amp;fromTime=2021-12-01&amp;toTime=2021-12-02"
auditReport &lt;- get_audit_report(query)

logout()

## End(Not run)

</code></pre>


</div>