<div class="container">

<table style="width: 100%;"><tr>
<td>bootstrapTimeToEvent</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bootstrap the predicted time when a given number of events is reached, for hybrid Exponential model</h2>

<h3>Description</h3>

<p>Bootstrap the predicted time when a given number of events is reached, based on the hybrid Exponential model.</p>


<h3>Usage</h3>

<pre><code class="language-R">bootstrapTimeToEvent(time, event, interim.gates, future.units, n, M0 = 1000, 
                            K0 = 5, alpha = 0.05, accrual, seed = 2014)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Event times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event</code></td>
<td>
<p>Censoring indicator, 0 = censored, 1 = event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interim.gates</code></td>
<td>
<p>Number of events for which confidence intervals should be computed. May be a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>future.units</code></td>
<td>
<p>Number of months for which predictions are to be made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Size of the bootstrap samples to be drawn from <code>surv.obj</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M0</code></td>
<td>
<p>Number of bootstrap samples to be drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K0</code></td>
<td>
<p>Number of changepoints for the piecewise constant hazard.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Familywise error rate for the sequential test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accrual</code></td>
<td>
<p>Vector of dates when future patients enter the study. As for the specification, assume 50 pts are to be recruited in Dec 2013 and 20pts in Jan 2014, then use <code>accrual &lt;- c(rep(as.Date("2013-12-01"), 50), rep(as.Date("2014-01-01"), 20))</code>. Leave as <code>NULL</code> if accrual for the study is completed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Seed for generation of bootstrap samples.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following objects:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>pe.MLEs</code></td>
<td>
<p>Piecewise Exponential MLE object for each bootstrap sample, output of function <code>piecewiseExp_MLE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pe.tabs</code></td>
<td>
<p>Result of sequential test for each bootstrap sample, output of function <code>piecewiseExp_test_changepoint</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>changepoints</code></td>
<td>
<p>For each bootstrap sample, changepoint as resulting from sequential test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estS</code></td>
<td>
<p>Estimated survival function for each bootstrap sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event.dates</code></td>
<td>
<p>Event dates for each bootstrap sample, where columns relate to the number of events in <code>interim.gates</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Kaspar Rufibach (maintainer) <br><a href="mailto:kaspar.rufibach@roche.com">kaspar.rufibach@roche.com</a>
</p>


<h3>References</h3>

<p>Rufibach, K. (2016).
<em>Event projection: quantify uncertainty and manage expectations of broader teams.</em>
Slides for talk given in Basel Biometric Section Seminar on 28th April 2016.
<a href="https://baselbiometrics.github.io/home/docs/talks/20160428/1_Rufibach.pdf">https://baselbiometrics.github.io/home/docs/talks/20160428/1_Rufibach.pdf</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
# --------------------------------------------------
# simulate data for illustration
# --------------------------------------------------
set.seed(2021)
n &lt;- 600
time &lt;- rexp(n, rate = log(2) / 20)
event &lt;- sample(round(runif(n, 0, 1)))
accrual_after_ccod &lt;- 1:(n - length(time)) / 30

# --------------------------------------------------
# run bootstrap, for M0 = 3 only, for illustration
# tune parameters for your own example
# --------------------------------------------------
boot1 &lt;- bootstrapTimeToEvent(time, event, 
          interim.gates = c(330, 350), future.units = 50, n = length(time), 
          M0 = 3, K0 = 5, alpha = 0.05, accrual = accrual_after_ccod, 
          seed = 2014)

# median of bootstrap samples:
apply(boot1$event.dates, 2, median)

## End(Not run)
</code></pre>


</div>