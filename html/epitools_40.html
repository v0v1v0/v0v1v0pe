<div class="container">

<table style="width: 100%;"><tr>
<td>rateratio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rate ratio estimation and confidence intervals</h2>

<h3>Description</h3>

<p>Calculates rate ratio by median-unbiased estimation (mid-p),
and unconditional maximum likelihood estimation (Wald). Confidence
intervals are calculated using exact methods (mid-p), and
normal approximation (Wald).
</p>


<h3>Usage</h3>

<pre><code class="language-R">rateratio(x, y = NULL,
          method = c("midp", "wald"),
          conf.level = 0.95,
          rev = c("neither", "rows", "columns", "both"),
          verbose = FALSE)
rateratio.midp(x, y = NULL,
               conf.level = 0.95,
               rev = c("neither", "rows", "columns", "both"),
               verbose = FALSE)
rateratio.wald(x, y = NULL,
               conf.level = 0.95,
               rev = c("neither", "rows", "columns", "both"),
               verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>input data can be one of the following: r x 2 table where first
column contains disease counts and second column contains person
time at risk; a single numeric vector of counts followed by
person time at risk; a single numeric vector of counts combined with
<code>y</code> which would be a numeric vector of corresponding person
time at risk
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>numeric vector of person-time at risk; if provided, <code>x</code> must be
a numeric vector of disease counts  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>method for calculating rate ratio and confidence interval
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>confidence level (default is 0.95)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rev</code></td>
<td>

<p>reverse order of "rows", "colums", "both", or "neither" (default)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>set to TRUE to return more detailed results (default is
FALSE)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Calculates rate ratio by median-unbiased estimation (mid-p),
and unconditional maximum likelihood estimation (Wald). Confidence
intervals are calculated using exact methods (mid-p), and
normal approximation (Wald).
</p>
<p>This function expects the following table struture:
</p>
<pre>
                    counts   person-time
    exposed=0 (ref)   n00        t01
    exposed=1         n10        t11	
    exposed=2         n20        t21
    exposed=3         n30        t31
  </pre>
<p>The reason for this is because each level of exposure is compared to
the reference level.
</p>
<p>If the table you want to provide to this function is not in the
preferred form, just use the <code>rev</code> option to "reverse" the rows,
columns, or both. If you are providing categorical variables (factors
or character vectors), the first level of the "exposure" variable is
treated as the reference. However, you can set the reference of a
factor using the <code>relevel</code> function.
</p>
<p>Likewise, each row of the rx2 table is compared to the exposure
reference level and test of independence two-sided p values are
calculated using mid-p exact method and normal approximation (Wald).
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>table that was used in analysis (verbose = TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>same table as <code>x</code> but with marginal totals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>rate ratio and confidence interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>confidence level used (verbose = TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>p value for test of independence</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Rita Shiau (original author), <a href="mailto:rita.shiau@sfdph.org">rita.shiau@sfdph.org</a>;
Tomas Aragon, <a href="mailto:aragon@berkeley.edu">aragon@berkeley.edu</a>,
<a href="http://www.phdata.science">http://www.phdata.science</a>;
Adam Omidpanah, <a href="mailto:adam.omidpanah@wsu.edu">adam.omidpanah@wsu.edu</a> <a href="https://repitools.wordpress.com/">https://repitools.wordpress.com/</a>
</p>


<h3>References</h3>

<p>Kenneth J. Rothman, Sander Greenland, and Timothy Lash (2008), Modern Epidemiology,
Lippincott-Raven Publishers
</p>
<p>Kenneth J. Rothman (2012), Epidemiology: An Introduction, Oxford
University Press
</p>


<h3>See Also</h3>

<p><code>rate2by2.test</code>, <code>oddsratio</code>,
<code>riskratio</code>, <code>epitab</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
##Examples from Rothman 1998, p. 238
bc &lt;- c(Unexposed = 15, Exposed = 41)
pyears &lt;- c(Unexposed = 19017, Exposed = 28010)
dd &lt;- matrix(c(41,15,28010,19017),2,2)
dimnames(dd) &lt;- list(Exposure=c("Yes","No"), Outcome=c("BC","PYears"))
##midp
rateratio(bc,pyears)
rateratio(dd, rev = "r")
rateratio(matrix(c(15, 41, 19017, 28010),2,2))
rateratio(c(15, 41, 19017, 28010))

##midp
rateratio.midp(bc,pyears)
rateratio.midp(dd, rev = "r")
rateratio.midp(matrix(c(15, 41, 19017, 28010),2,2))
rateratio.midp(c(15, 41, 19017, 28010))

##wald
rateratio.wald(bc,pyears)
rateratio.wald(dd, rev = "r")
rateratio.wald(matrix(c(15, 41, 19017, 28010),2,2))
rateratio.wald(c(15, 41, 19017, 28010))
</code></pre>


</div>