<div class="container">

<table style="width: 100%;"><tr>
<td>equiv.test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Equivalence and non-inferiority tests for one- and two-sample problems</h2>

<h3>Description</h3>

<p>Implementation of uniformly most powerful invariant equivalence tests for one- and two-sample problems (paired and unpaired).
Also one-sided alternatives (non-inferiority and non-superiority tests) are supported.
Basically a variant of a t-test with (relaxed) null and alternative hypotheses exchanged.
</p>


<h3>Usage</h3>

<pre><code class="language-R">equiv.test(x, ...)

## Default S3 method:
equiv.test(x, y = NULL, alternative = c("two.sided",
  "less", "greater"), eps = 1, mu = 0, paired = FALSE, ...)

## S3 method for class 'formula'
equiv.test(formula, data, subset, na.action, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a (non-empty) numeric vector of data values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed to or from methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>an optional (non-empty) numeric vector of data values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis, must be one of "<code>two.sided</code>" (default), "<code>greater</code>" or "<code>less</code>". You can specify just the initial letter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>a single strictly positive number giving the equivalence limits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>a number indicating the true value of the mean (or difference in means if you are performing a two sample test).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paired</code></td>
<td>
<p>a logical indicating whether you want a paired equivalence test in the two-sample case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula of the form <code>lhs ~ rhs</code> where <code>lhs</code> is a numeric variable giving the data values and <code>rhs</code> a factor with two levels giving the corresponding groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional matrix or data frame containing the variables in the formula <code>formula</code>. By default the variables are taken from <code>environment(formula)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>an optional vector specifying a subset of observations to be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>a function which indicates what should happen when the data contain NAs. Defaults to <code>getOption("na.action")</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>equiv.test</code> is modelled after (and borrows code from) R's <code>t.test()</code> and is intended to work as similarly as possible.
</p>
<p>This functions implements uniformly most powerful invariant equivalence tests for one-sample and (paired
or unpaired) two-sample problems. Also supported are one-sided versions (so-called non-inferiority or
non-superiority tests).
</p>
<p>All tests are on standardized (differences of) means <code class="reqn">theta</code>:
</p>
<p style="text-align: center;"><code class="reqn">theta = (mu_x - mu) / sigma</code>
</p>

<p>for the one-sample case,
</p>
<p style="text-align: center;"><code class="reqn">theta = (mu_d - mu) / sigma_d</code>
</p>

<p>for the paired two-sample case and
</p>
<p style="text-align: center;"><code class="reqn">theta = (mu_x - mu_y - mu) / sigma</code>
</p>

<p>for the unpaired test, where <code class="reqn">sigma</code> is the standard deviation of <code class="reqn">x</code> and <code class="reqn">y</code> and
<code class="reqn">sigma_d</code> is the standard deviation of the differences. <code class="reqn">mu</code> is a shift parameter that can
be used to compare against a known value in the one-sample case. <code class="reqn">mu</code> should usually be zero for
two-sample problems.
</p>
<p>The null and alternative hypotheses in equivalence tests (<code>alternative = "two.sided"</code>) are
</p>
<p style="text-align: center;"><code class="reqn">H_0: theta &lt;= -eps \qquad or \qquad theta &gt;= eps</code>
</p>

<p>vs
</p>
<p style="text-align: center;"><code class="reqn">H_1: -eps &lt; theta &lt; eps</code>
</p>

<p>Currently, only symmetric equivalence intervals <code class="reqn">(-eps, eps)</code> are supported.
</p>
<p>In the non-inferority-case (<code>alternative = "greater"</code>) we test
</p>
<p style="text-align: center;"><code class="reqn">H_0: theta &lt;= -eps</code>
</p>

<p>vs
</p>
<p style="text-align: center;"><code class="reqn">H_1: theta &gt; -eps</code>
</p>

<p>In the non-superiority-case (<code>alternative = "less"</code>) we test
</p>
<p style="text-align: center;"><code class="reqn">H_0: theta &gt;= eps</code>
</p>

<p>vs
</p>
<p style="text-align: center;"><code class="reqn">H_1: theta &lt; eps</code>
</p>

<p>If <code>paired</code> is <code>TRUE</code> then both <code>x</code> and <code>y</code> must be specified and they must be the same length.
Missing values are silently removed (in pairs if <code>paired</code> is <code>TRUE</code>).
</p>
<p>The formula interface is only applicable for the two-sample tests.
</p>


<h3>Value</h3>

<p>A list with class <code>htest</code> containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>the value of the t-statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>the degrees of freedom for the t-statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>the p-value for the test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>the plug-in estimate of the standardized mean (or mean difference), i.e. the empirical mean
(or difference of empirical means) divided by the empirical standard deviation. Note that this estimate is not unbiaded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null.value</code></td>
<td>
<p>non-equivalence limits, i.e. boundaries of null hypothesis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string describing the alternative hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string indicating what type of equivalence test was performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.name</code></td>
<td>
<p>a character string giving the name(s) of the data.</p>
</td>
</tr>
</table>
<h3>Methods (by class)</h3>


<ul>
<li> <p><code>default</code>: Default S3 method:
</p>
</li>
<li> <p><code>formula</code>: S3 method for class 'formula'
</p>
</li>
</ul>
<h3>References</h3>

<p>Wellek, S. (2010). Testing Statistical Hypotheses of Equivalence and Noniferiority. Second edition.  Boca Raton: Chapman &amp; Hall.
(especially Chapters 5.3 and 6.1).
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # compare two feed from chickwts dataset
  data("chickwts")
  chickwts2 &lt;- chickwts[chickwts$feed %in% c("linseed", "soybean"),]
  chickwts2$feed &lt;- droplevels(chickwts2$feed)

  # similar but cannot be shown to be equivalent up to 0.5 sigma at 0.05 level^
  plot(weight ~ feed, data = chickwts2)
  equiv.test(weight ~ feed, data = chickwts2, eps = 0.5)
</code></pre>


</div>