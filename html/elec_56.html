<div class="container">

<table style="width: 100%;"><tr>
<td>trinomial.bound</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Auditing with the Trinomial Bound: trinomial.bound and trinomial.audit</h2>

<h3>Description</h3>

<p>This method makes a contour plot of the optimization problem.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trinomial.bound(
  n = 11,
  k = 2,
  d = 40,
  e.max = 100,
  xlim = c(0.4, 1),
  ylim = c(0, 0.55),
  alpha.lvls = c(10),
  zero.threshold = 0.3,
  tick.lines = NULL,
  alpha.lwd = 2,
  bold.first = FALSE,
  plot = TRUE,
  p.value.bound = NULL,
  grid.resolution = 300,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Size of the sample (not precincts, but samples which could
potentially be multiple samples of the same precinct).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>The number of positive taints found in sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>The maximum size of a small taint. This is the threshold for being
in the middle bin of the trinomial.  All taints larger than d would be in
the largest error bin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e.max</code></td>
<td>
<p>The size of the largest error bin.  Typically 100 (for percent)
or 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>Range of possible values of p0 worth considering</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>Range of possible values of pd worth considering</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.lvls</code></td>
<td>
<p>List of alphas for which bounds should be calculated. The
first is the one that will be returned.  The others will be graphed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero.threshold</code></td>
<td>
<p>Since the method calculates on a numerical grid, what
difference between alpha and the calculated probabilty should be considered
no difference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tick.lines</code></td>
<td>
<p>A list of bounds.  For these bound levels, add tick-lines
(more faint lines) to graph</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.lwd</code></td>
<td>
<p>Line width for alpha line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bold.first</code></td>
<td>
<p>TRUE/FALSE.  Should first alpha line be in bold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Should a plot be generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value.bound</code></td>
<td>
<p>What is the bound (1/U) that would correspond to the
entire margin.  Finding the alpha corresponding to this bound is a method
for finding the p-value for the trinomial bound test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.resolution</code></td>
<td>
<p>How many divisions of the grid should there be?  More
gives greater accuracy in the resulting p-values and bounds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments passed to the plot command.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note: alphas are multiplied by 100 to get in percents.
</p>


<h3>Value</h3>

<p>List with characteristics of the audit and the final results.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p> Size of sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of non-zero taints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>Threshold for what a small taint is.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e.max</code></td>
<td>
<p>The worst-case
taint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p> The upper confidence bound for the passed alpha-level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>A length three vector.  The distribution (p0, pd, p1) that achieves
the worst case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p> The p.value for the test, if a specific
worst-case bound 1/U was passed via p.value.bound.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>See Luke W. Miratrix and Philip B. Stark.  (2009) Election
Audits using a Trinomial Bound.  https://www.stat.berkeley.edu/~stark/Vote/index.htm
</p>


<h3>See Also</h3>

<p>See <code>elec.data</code> for information on the object that holds vote
counts.  See <code>tri.sample</code> for drawing the actual sample.  See
<code>tri.calc.sample</code> for figuring out how many samples to draw.
See <code>tri.audit.sim</code> for simulating audits using this method.
See CAST.audit for an SRS audit method.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# The reported poll data: make an elec.data object for processing
data(santa.cruz)
Z = elec.data(santa.cruz, C.names=c("leopold","danner"))
Z

# Make a plan
plan = tri.calc.sample( Z, beta=0.75, guess.N = 10, p_d = 0.05,
               swing=10, power=0.9, bound="e.plus" )

# Conduct the audit
data(santa.cruz.audit)
res = trinomial.audit( Z, santa.cruz.audit )
res

# Compute the bound.  Everything is scaled by 100 (i.e. to percents) for easier numbers. 
trinomial.bound(n=res$n, k = res$k, d=100*plan$d, e.max=100, p.value.bound=100/plan$T,
           xlim=c(0.75,1), ylim=c(0.0,0.25),
           alpha.lvls=c(25), asp=1,
           main="Auditing Santa Cruz with Trinomial Bound" )

</code></pre>


</div>