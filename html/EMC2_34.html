<div class="container">

<table style="width: 100%;"><tr>
<td>make_random_effects</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make random effects</h2>

<h3>Description</h3>

<p>Simulates subject-level parameters in the format required by <code>make_data()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_random_effects(
  design,
  group_means,
  n_subj = NULL,
  variance_proportion = 0.2,
  covariances = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>A design list. The design as specified by <code>design()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_means</code></td>
<td>
<p>A numeric vector. The group level means for each parameter, in the same order as <code>sampled_p_vector(design)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_subj</code></td>
<td>
<p>An integer. The number of subjects to generate parameters for. If <code>NULL</code> will be inferred from design</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variance_proportion</code></td>
<td>
<p>A double. Optional. If <code>covariances</code> are not specified, the variances will be created by multiplying the means by this number. The covariances will be 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariances</code></td>
<td>
<p>A covariance matrix. Optional. Specify the intended covariance matrix.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix of subject-level parameters.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># First create a design
design_DDMaE &lt;- design(data = forstmann,model=DDM,
                            formula =list(v~0+S,a~E, t0~1, s~1, Z~1, sv~1, SZ~1),
                            constants=c(s=log(1)))
# Then create a group-level means vector:
group_means =c(v_Sleft=-2,v_Sright=2,a=log(1),a_Eneutral=log(1.5),a_Eaccuracy=log(2),
               t0=log(.2),Z=qnorm(.5),sv=log(.5),SZ=qnorm(.5))
# Now we can create subject-level parameters
subj_pars &lt;- make_random_effects(design_DDMaE, group_means, n_subj = 5)

# We can also define a covariance matrix to simulate from
subj_pars &lt;- make_random_effects(design_DDMaE, group_means, n_subj = 5,
             covariances = diag(.1, length(group_means)))

# The subject level parameters can be used to generate data
make_data(subj_pars, design_DDMaE, n_trials = 10)
</code></pre>


</div>