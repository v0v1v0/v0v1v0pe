<div class="container">

<table style="width: 100%;"><tr>
<td>wr.test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
The main function of the package provides various confidence intervals and testing procedures with event-specific win ratios
</h2>

<h3>Description</h3>

<p>The function <code>wr.test</code> provides several confidence interval and testing procedures with the event-specific win ratios that are obtained on the terminal and non-terminal events. The following procedures are provided:
</p>

<ul>
<li>
<p> Tests of the global null - testing the null hypothesis of no treatment effect on either the terminal event or the non-terminal event. A set of three tests are provided: the maximum test, the linear combination test, and the chi-squared test.
</p>
</li>
<li>
<p> Test of proportional hazards - testing the null hypothesis of the proportionality assumptions for the terminal event and the non-terminal event.
</p>
</li>
<li>
<p> Test of equal hazard ratios - testing the null hypothesis of equal hazard ratios for the terminal event and the non-terminal event when they both have proportional hazards.
</p>
</li>
<li>
<p> Confidence intervals of the non-terminal and terminal events respectively
</p>
</li>
<li>
<p> Confidence intervals of linear combinations of the non-terminal and terminal events, with either pre-determined or data-driven weights
</p>
</li>
</ul>
<p>The full details for these procedures are available in Yang et al. (2021).
</p>


<h3>Usage</h3>

<pre><code class="language-R">## Default S3 method:
wr.test(yh, hcen, yd, dcen, z, lin = c(0.5, 0.5), alpha = 0.05, repnum = 1E6, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>for S4 method only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yh</code></td>
<td>
<p>A numeric vector for time to the non-terminal event or censoring</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hcen</code></td>
<td>
<p>Censoring indicator for the non-terminal event (event = 1, censored = 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yd</code></td>
<td>
<p>A numeric vector for time to the terminal event or censoring</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dcen</code></td>
<td>
<p>Censoring indicator for the terminal event  (event = 1, censored = 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>A numeric vector for the group indicator (treatment = 1, control = 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lin</code></td>
<td>
<p>A numeric vector of length 2 for the linear combination of the event-specific win ratios. The components must be non-negative values and added up to one. The first component is for the non-terminal event and the second is for the terminal event. The default is (0.5, 0.5).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The Significance level being used for confidence intervals. The default value is 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repnum</code></td>
<td>
<p>The number of replications for simulating bivariate normal distributions to obtain critical values corresponding to the alpha. The default value is 1E6.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A S3 <code>wr.test</code> class object, which is a <code>list</code> with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>wr1</code></td>
<td>
<p>The event specific win ratio for the non-terminal event</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wr2</code></td>
<td>
<p>The event specific win ratio for the terminal event</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci1t</code></td>
<td>
<p>The confidence interval for the event specific win ratio for the non-terminal event</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci2t</code></td>
<td>
<p>The confidence interval for the event specific win ratio for the terminal event</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mxot</code></td>
<td>
<p>The test statistic for the maximum test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvalmxt</code></td>
<td>
<p>The p-value for the maximum test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chi</code></td>
<td>
<p>The test statistic for the chi-squre test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvachi</code></td>
<td>
<p>The p-value for the chi-squre test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lin</code></td>
<td>
<p>The inputted vector for the linear combination of the event-specific win ratios</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zvalin0</code></td>
<td>
<p>The test statistic for the linear combination test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plin0</code></td>
<td>
<p>The p-value for the linear combination test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrlin0</code></td>
<td>
<p>The weighted average win ratio with the inputted vector <code>lin</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cilin0</code></td>
<td>
<p>The confidence interval for the weighted average win ratio with the inputted vector <code>lin</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lin_ar</code></td>
<td>
<p>The data-driven linear combination</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zvalint</code></td>
<td>
<p>The test statistic for the data-driven Linear combination test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plintr</code></td>
<td>
<p>The p-value for the data-driven Linear combination test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrlinl</code></td>
<td>
<p>The weighted average win ratio with the data-driven combination</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cilint</code></td>
<td>
<p>The confidence interval for the weighted average win ratio with the data-driven combination</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mxph</code></td>
<td>
<p>The test statistic for the test of proportional hazards</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvalph</code></td>
<td>
<p>The p-value for the test of proportional hazards</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zvaephl</code></td>
<td>
<p>The test statistic for the test of equal hazard ratios</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvaephl</code></td>
<td>
<p>The p-value for the test of equal hazard ratios</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Linear combination tests can be used to detect an overall effect, which is measured by using a weighted average of the win ratios of the terminal and non-terminal events, as considered in Yang and Troendle (2021). The weights can be either a data-driven weights or pre-determined weights. The pre-determined weights can be supplied with the <code>lin</code> argument.
</p>


<h3>References</h3>

<p>Yang, S., Troendle, J., Pak, D., &amp; Leifer, E. (2022). Event‐specific win ratios for inference with terminal and non‐terminal events. Statistics in medicine, 41(7), 1225-1241.
</p>
<p>Yang, S., &amp; Troendle, J. (2021). Event-specific win ratios and testing with terminal and non-terminal events. Clinical Trials, 18(2), 180-187.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(EventWinRatios)
data(SimuData)

# non-terminal events
yh &lt;- SimuData$yh
hcen &lt;- SimuData$hcen

# terminal events
yd &lt;- SimuData$yd
dcen &lt;- SimuData$dcen

# group indicator
z &lt;- SimuData$z

# Win Ratio tests
result &lt;- wr.test(yh, hcen, yd, dcen, z)
print(result)
</code></pre>


</div>