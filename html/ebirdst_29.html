<div class="container">

<table style="width: 100%;"><tr>
<td>load_pi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Load predictor importance (PI) rasters</h2>

<h3>Description</h3>

<p>The eBird Status models estimate the relative importance of each
environmental predictor used in the model. These predictor importance (PI)
data are converted to ranks (with a rank of 1 being the most important)
relative to the full suite of environmental predictors. The ranks are
summarized to a 27 km resolution raster grid for each predictor, where the
cell values are the average across all models in the ensemble contributing to
that cell. These data are available in raster format provided <code>download_pis = TRUE</code> was used when calling <code>ebirdst_download_status()</code>. PI estimates are
available separately for both the occurrence and count sub-model and only the
30 most important predictors are distributed. Use <code>list_available_pis()</code> to
see which predictors have PI data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">load_pi(
  species,
  predictor,
  response = c("occurrence", "count"),
  path = ebirdst_data_dir()
)

list_available_pis(species, path = ebirdst_data_dir())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>character; the species to load data for, given as a scientific
name, common name or six-letter species code (e.g. "woothr"). The full list
of valid species is in the ebirdst_runs data frame included in this
package. To download the example dataset, use <code>"yebsap-example"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictor</code></td>
<td>
<p>character; the predictor that the PI data should be loaded
for. The list of predictors that PI data are available for varies by
species, use <code>list_available_pis()</code> to get the list for a given species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>character; the model (occurrence or count) that the PI
data should be loaded for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>character; directory to download the data to. All downloaded
files will be placed in a sub-directory of this directory named for the
data version year, e.g. "2020" for the 2020 Status Data Products. Each
species' data package will then appear in a directory named with the eBird
species code. Defaults to a persistent data directory, which can be found
by calling <code>ebirdst_data_dir()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A SpatRaster object with the PI ranks for the
given predictor. For migrants, the estimates are weekly and the raster will
have 52 layers, where the layer names are the dates (<code>MM-DD</code> format) of the
midpoint of each week. For residents, a single year round layer is
returned.
</p>
<p><code>list_available_pis()</code> returns a data frame listing the top 30 predictors for
which PI rasters can be loaded. In addition to the predictor names, the mean
range-wide rank (<code>rangewide_rank</code>) is given as well as the integer rank
(<code>rank</code>) relative to the other 29 predictors.
</p>


<h3>Functions</h3>


<ul><li> <p><code>list_available_pis()</code>: list the predictors that have PI information for this
species.
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# download example data if hasn't already been downloaded
ebirdst_download_status("yebsap-example", download_pis = TRUE)

# identify the top predictor
top_preds &lt;- list_available_pis("yebsap-example")
print(top_preds[1, ])

# load predictor importance raster of top predictor for occurrence
load_pi("yebsap-example", top_preds$predictor[1])

## End(Not run)
</code></pre>


</div>