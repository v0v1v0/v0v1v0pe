<div class="container">

<table style="width: 100%;"><tr>
<td>interactions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Importance of interactions and pairs in the model</h2>

<h3>Description</h3>

<p>This function calculates a table with two measures of importance for interactions and pairs in the model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">interactions(xgb_model, data, option = "interactions")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xgb_model</code></td>
<td>
<p>a xgboost or lightgbm model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data table with data used to train the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>option</code></td>
<td>
<p>if "interactions", the table contains interactions,
if "pairs", this table contains all the pairs in the model.
Default "interactions".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Available measures:
</p>

<ul>
<li>
<p> "sumGain" - sum of Gain value in all nodes, in which given variable occurs,
</p>
</li>
<li>
<p> "freqency" - number of occurrences in the nodes for given variable.
</p>
</li>
</ul>
<p>NOTE: Be careful use of this function with <code>option="pairs"</code> parameter,
because high gain of pair can be a result of high gain of child variable.
As strong interactions should be considered only these pairs of variables,
where variable on the bottom (child) has higher gain than variable on the top (parent).
</p>


<h3>Value</h3>

<p>a data table
</p>


<h3>Examples</h3>

<pre><code class="language-R">library("EIX")
library("Matrix")
sm &lt;- sparse.model.matrix(left ~ . - 1,  data = HR_data)

library("xgboost")
param &lt;- list(objective = "binary:logistic", max_depth = 2)
xgb_model &lt;- xgboost(sm, params = param, label = HR_data[, left] == 1, nrounds = 25, verbose=0)

inter &lt;- interactions(xgb_model, sm, option = "interactions")
inter
plot(inter)

inter &lt;- interactions(xgb_model, sm, option = "pairs")
inter
plot(inter)


library(lightgbm)
train_data &lt;- lgb.Dataset(sm, label =  HR_data[, left] == 1)
params &lt;- list(objective = "binary", max_depth = 2)
lgb_model &lt;- lgb.train(params, train_data, 25)

inter &lt;- interactions(lgb_model, sm, option = "interactions")
inter
plot(inter)

inter &lt;- interactions(lgb_model, sm, option = "pairs")
inter
plot(inter)


</code></pre>


</div>