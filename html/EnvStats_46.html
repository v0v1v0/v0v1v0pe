<div class="container">

<table style="width: 100%;"><tr>
<td>ciNparN</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Sample Size for Nonparametric Confidence Interval for a Quantile
</h2>

<h3>Description</h3>

<p>Compute the sample size necessary to achieve a specified confidence level 
for a nonparametric confidence interval for a quantile.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  ciNparN(p = 0.5, lcl.rank = ifelse(ci.type == "upper", 0, 1), 
    n.plus.one.minus.ucl.rank = ifelse(ci.type == "lower", 0, 1), 
    ci.type = "two.sided", conf.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>

<p>numeric vector of probabilities specifying the quantiles.  
All values of <code>p</code> must be between 0 and 
1.  The default value is <code>p=0.5</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lcl.rank, n.plus.one.minus.ucl.rank</code></td>
<td>

<p>numeric vectors of non-negative integers indicating the ranks of the 
order statistics that are used for the lower and upper bounds of the 
confidence interval for the specified quantile(s).  When <code>lcl.rank=1</code> 
that means use the smallest value as the lower bound, when <code>lcl.rank=2</code> 
that means use the second to smallest value as the lower bound, etc.  
When <code>n.plus.one.minus.ucl.rank=1</code> that means use the largest value 
as the upper bound, when <code>n.plus.one.minus.ucl.rank=2</code> that means use 
the second to largest value as the upper bound, etc.  
A value of <code>0</code> for <code>lcl.rank</code> indicates no lower bound 
(i.e., -Inf) and a value of 
<code>0</code> for <code>n.plus.one.minus.ucl.rank</code> indicates no upper bound 
(i.e., <code>Inf</code>).  When <br><code>ci.type="upper"</code> then <code>lcl.rank</code> is set to <code>0</code> by default, 
otherwise it is set to <code>1</code> by default.  
When <code>ci.type="lower"</code> then <code>n.plus.one.minus.ucl.rank</code> is set 
to <code>0</code> by default, otherwise it is set to <code>1</code> by default.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.type</code></td>
<td>

<p>character string indicating what kind of confidence interval to compute.  The 
possible values are <code>"two-sided"</code> (the default), <code>"lower"</code>, and 
<code>"upper"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>

<p>numeric vector of numbers between 0 and 1 indicating the confidence level 
associated with the confidence interval(s).  The default value is 
<code>conf=0.95</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the arguments <code>p</code>, <code>lcl.rank</code>, 
<code>n.plus.one.minus.ucl.rank</code> and <code>conf.level</code> are not all the 
same length, they are replicated to be the 
same length as the length of the longest argument.
</p>
<p>The help file for <code>eqnpar</code> explains how nonparametric confidence 
intervals for quantiles are constructed and how the confidence level 
associated with the confidence interval is computed based on specified values 
for the sample size and the ranks of the order statistics used for 
the bounds of the confidence interval. 
</p>
<p>The function <code>ciNparN</code> determines the required the sample size via 
a nonlinear optimization.
</p>


<h3>Value</h3>

<p>numeric vector of sample sizes.
</p>


<h3>Note</h3>

<p>See the help file for <code>eqnpar</code>.
</p>


<h3>Author(s)</h3>

<p>Steven P. Millard (<a href="mailto:EnvStats@ProbStatInfo.com">EnvStats@ProbStatInfo.com</a>)
</p>


<h3>References</h3>

<p>See the help file for <code>eqnpar</code>.
</p>


<h3>See Also</h3>

<p><code>eqnpar</code>, <code>ciNparConfLevel</code>, 
<code>plotCiNparDesign</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # Look at how the required sample size for a confidence interval 
  # increases with increasing confidence level for a fixed quantile:

  seq(0.5, 0.9, by = 0.1) 
  #[1] 0.5 0.6 0.7 0.8 0.9 

  ciNparN(p = 0.9, conf.level=seq(0.5, 0.9, by = 0.1)) 
  #[1]  7  9 12 16 22

  #----------

  # Look at how the required sample size for a confidence interval increases 
  # as the quantile moves away from 0.5:

  ciNparN(p = seq(0.5, 0.9, by = 0.1)) 
  #[1]  6  7  9 14 29
</code></pre>


</div>