<div class="container">

<table style="width: 100%;"><tr>
<td>MetaCommunity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Metacommunity class
</h2>

<h3>Description</h3>

<p>Methods for objects of type "<code>MetaCommunity</code>".
</p>


<h3>Usage</h3>

<pre><code class="language-R">MetaCommunity(Abundances, Weights = rep(1, ncol(Abundances)))
is.MetaCommunity(x)
## S3 method for class 'MetaCommunity'
summary(object, ...)
## S3 method for class 'MetaCommunity'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Abundances</code></td>
<td>

<p>A dataframe containing the number of observations (lines are species, columns are communities). The first column of the dataframe may contain the species names.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Weights</code></td>
<td>

<p>A vector of positive numbers equal to community weights or a dataframe containing a vector named <code>Weights</code>. It does not have to be normalized. Weights are equal by default.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>An object to be tested or plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>A <code>MetaCommunity</code> object to be summarized.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional arguments to be passed to the generic methods.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In the entropart package, individuals of different "species" are counted in several "communities" which are agregated to define a "metacommunity".
</p>
<p>This is a naming convention, which may correspond to plots in a forest inventory or any data organized the same way.
</p>
<p>Alpha and beta entropies of communities are summed according to <code>Weights</code> and the probability to find a species in the metacommunity is the weighted average of probabilities in communities.
</p>
<p>The simplest way to import data is to organize it into two text files. The first file should contain abundance data: the first column named <code>Species</code> for species names, and a column for each community.
</p>
<p>The second file should contain the community weights in two columns. The first one, named <code>Communities</code> should contain their names and the second one, named <code>Weights</code>, their weights.
</p>
<p>Files can be read and data imported by code such as:
</p>
<pre>
Abundances &lt;- read.csv(file="Abundances.csv", row.names = 1)
Weights &lt;- read.csv(file="Weights.csv")
MC &lt;- MetaCommunity(Abundances, Weights)
</pre>


<h3>Value</h3>

<p>An object of class <strong>MetaCommunity</strong> is a list:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Nsi</code></td>
<td>
<p>A matrix containing abundance data, species in line, communities in column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ns</code></td>
<td>
<p>A vector containing the number of individuals of each species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ni</code></td>
<td>
<p>A vector containing the number of individuals of each community.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>The total number of individuals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Psi</code></td>
<td>
<p>A matrix whose columns are the probability vectors of communities (each of them sums to 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Wi</code></td>
<td>
<p>A vector containing the normalized community weights (sum to 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ps</code></td>
<td>
<p>A vector containing the probability vector of the metacommunity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nspecies</code></td>
<td>
<p>The number of species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ncommunities</code></td>
<td>
<p>The number of communities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SampleCoverage</code></td>
<td>
<p>The sample coverage of the metacommunity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SampleCoverage.communities</code></td>
<td>
<p>A vector containing the sample coverages of each community.</p>
</td>
</tr>
</table>
<p><code>is.MetaCommunity</code> returns <code>TRUE</code> if the object is of class <code>MetaCommunity</code>.
</p>
<p><code>summary.MetaCommunity</code> returns a summary of the object's value.
</p>
<p><code>plot.MetaCommunity</code> plots it.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Use BCI data from vegan package
if (require(vegan, quietly = TRUE)) {
  # Load BCI data (number of trees per species in each 1-ha plot of a tropical forest)
  data(BCI)
  # BCI dataframe must be transposed (its lines are plots, not species)
  BCI.df &lt;- as.data.frame(t(BCI))
  # Create a metacommunity object from a matrix of abundances and a vector of weights
  # (here, all plots have a weight equal to 1)
  MC &lt;- MetaCommunity(BCI.df)
}
</code></pre>


</div>