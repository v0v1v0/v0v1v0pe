<div class="container">

<table style="width: 100%;"><tr>
<td>create_variable_mapping</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create the variable_mapping table</h2>

<h3>Description</h3>

<p>Create the variable_mapping table
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_variable_mapping(
  observation,
  observation_ancillary = NULL,
  location_ancillary = NULL,
  taxon_ancillary = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>observation</code></td>
<td>
<p>(tbl_df, tbl, data.frame) The observation table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observation_ancillary</code></td>
<td>
<p>(tbl_df, tbl, data.frame) The optional observation_ancillary table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>location_ancillary</code></td>
<td>
<p>(tbl_df, tbl, data.frame) The optional location_ancillary table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taxon_ancillary</code></td>
<td>
<p>(tbl_df, tbl, data.frame) The optional taxon_ancillary table.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function collects specified data tables, extracts unique variable_name values from each, converts into long (attribute-value) form with the table name and variable_name values to the resulting table's "table_name" and "variable_name" columns, respectively. The resulting table's "mapped_system", "mapped_id", and "mapped_label" are filled with <code>NA</code> and are to be manually filled.
</p>


<h3>Value</h3>

<p>(tbl_df, tbl, data.frame) The variable_mapping table.
</p>


<h3>Examples</h3>

<pre><code class="language-R">flat &lt;- ants_L0_flat

# Create inputs to variable_mapping()

observation &lt;- create_observation(
  L0_flat = flat, 
  observation_id = "observation_id", 
  event_id = "event_id", 
  package_id = "package_id",
  location_id = "location_id", 
  datetime = "datetime", 
  taxon_id = "taxon_id", 
  variable_name = "variable_name",
  value = "value",
  unit = "unit")

observation_ancillary &lt;- create_observation_ancillary(
  L0_flat = flat,
  observation_id = "observation_id", 
  variable_name = c("trap.type", "trap.num", "moose.cage"))

location_ancillary &lt;- create_location_ancillary(
  L0_flat = flat,
  location_id = "location_id",
  variable_name = "treatment")

taxon_ancillary &lt;- create_taxon_ancillary(
  L0_flat = flat,
  taxon_id = "taxon_id",
  variable_name = c(
    "subfamily", "hl", "rel", "rll", "colony.size", 
    "feeding.preference", "nest.substrate", "primary.habitat", 
    "secondary.habitat", "seed.disperser", "slavemaker.sp", 
    "behavior", "biogeographic.affinity", "source"),
  unit = c("unit_hl", "unit_rel", "unit_rll"))

# Create variable_mapping table

variable_mapping &lt;- create_variable_mapping(
  observation = observation,
  observation_ancillary = observation_ancillary,
  location_ancillary = location_ancillary, 
  taxon_ancillary = taxon_ancillary)

variable_mapping

</code></pre>


</div>