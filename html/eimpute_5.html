<div class="container">

<table style="width: 100%;"><tr>
<td>r.search</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Search rank magnitude of the best approximating matrix</h2>

<h3>Description</h3>

<p>Estimate a preferable matrix rank magnitude for fitting a low-rank matrix approximation to a matrix with missing values.
The algorithm use GIC/CV to search the rank in a given range, and then fill the missing values with the estimated rank.
</p>


<h3>Usage</h3>

<pre><code class="language-R">r.search(
  x,
  r.min = 1,
  r.max = "auto",
  svd.method = c("tsvd", "rsvd"),
  rule.type = c("gic", "cv"),
  noise.var = 0,
  init = FALSE,
  init.mat = 0,
  maxit.rank = 1,
  nfolds = 5,
  thresh = 1e-05,
  maxit = 100,
  override = FALSE,
  control = list(...),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an <code class="reqn">m</code> by <code class="reqn">n</code> matrix with <code>NA</code>s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.min</code></td>
<td>
<p>the start rank for searching. Default <code>r.min = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.max</code></td>
<td>
<p>the max rank for searching.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svd.method</code></td>
<td>
<p>a character string indicating the truncated SVD method.
If <code>svd.method = "rsvd"</code>, a randomized SVD is used,
else if <code>svd.method = "tsvd"</code>, standard truncated SVD is used.
Any unambiguous substring can be given. Default <code>svd.method = "tsvd"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rule.type</code></td>
<td>
<p>a character string indicating the information criterion rule.
If <code>rule.type = "gic"</code>, generalized information criterion rule is used,
else if <code>rule.type = "cv"</code>, cross validation is used.
Any unambiguous substring can be given. Default <code>rule.type = "gic"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noise.var</code></td>
<td>
<p>the variance of noise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>
<p>if init = FALSE(the default), the missing entries will initialize with mean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init.mat</code></td>
<td>
<p>the initialization matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit.rank</code></td>
<td>
<p>maximal number of iterations in searching rank. Default <code>maxit.rank = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfolds</code></td>
<td>
<p>number of folds in cross validation. Default <code>nfolds = 5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresh</code></td>
<td>
<p>convergence threshold, measured as the relative change in the Frobenius norm between two successive estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit</code></td>
<td>
<p>maximal number of iterations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>override</code></td>
<td>
<p>logical value indicating whether the observed elements in <code>x</code> should be overwritten by its low-rank approximation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>a list of parameters that control details of standard procedure, See biscale.control.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be used to form the default control argument if it is not supplied directly.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>x.imp</code></td>
<td>
<p>the matrix after completion with the estimated rank.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.est</code></td>
<td>
<p>the rank estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmse</code></td>
<td>
<p>the relative mean square error of matrix completion, i.e., training error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter.count</code></td>
<td>
<p>the number of iterations.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">################# Quick Start #################
m &lt;- 100
n &lt;- 100
r &lt;- 10
x_na &lt;- incomplete.generator(m, n, r)
head(x_na[, 1:6])
x_impute &lt;- r.search(x_na, 1, 15, "rsvd", "gic")
x_impute[["r.est"]]
</code></pre>


</div>