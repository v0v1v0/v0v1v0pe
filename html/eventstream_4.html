<div class="container">

<table style="width: 100%;"><tr>
<td>get_clusters_3d</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extracts events from a three-dimensional data stream</h2>

<h3>Description</h3>

<p>This function extracts events from a three-dimensional (2D spatial x 1D time) data stream.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_clusters_3d(dat, thres = 0.95, epsilon = 3, miniPts = 15)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>The data matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thres</code></td>
<td>
<p>The cut-off quantile. Default is set to <code>0.95</code>. Values greater than the quantile will be clustered. The rest is not clustered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsilon</code></td>
<td>
<p>The <code>eps</code> parameter in <code>dbscan</code> function in the package <code>dbscan</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>miniPts</code></td>
<td>
<p>The <code>minPts</code> parameter in <code>dbscan</code> function in the package <code>dbscan</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with following components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>clusters</code></td>
<td>
<p>The cluster assignment according to DBSCAN output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data of this cluster assignment.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">set.seed(1)
arr &lt;- array(rnorm(12000),dim=c(40,25,30))
arr[25:33,12:20, 20:23] &lt;- 10
# getting events
out &lt;- get_clusters_3d(arr, thres=0.985)
# plots
oldpar &lt;- par(mfrow=c(1,3))
plot(out$data[,c(1,2)], xlab="x", ylab="y", col=as.factor(out$clusters$cluster))
plot(out$data[,c(1,3)], xlab="x", ylab="z",col=as.factor(out$clusters$cluster))
plot(out$data[,c(2,3)], xlab="y", ylab="z",col=as.factor(out$clusters$cluster))
par(oldpar)
</code></pre>


</div>