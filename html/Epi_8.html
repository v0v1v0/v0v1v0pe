<div class="container">

<table style="width: 100%;"><tr>
<td>apc.frame</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Produce an empty frame for display of parameter-estimates from
Age-Period-Cohort-models.
</h2>

<h3>Description</h3>

<p>A plot is generated where both the age-scale and the cohort/period
scale is on the x-axis. The left vertical axis will be a logarithmic
rate scale referring to age-effects and the right a logarithmic
rate-ratio scale of the same relative extent as the left referring to
the cohort and period effects (rate ratios).
</p>
<p>Only an empty plot frame is generated. Curves or points must be added
with <code>points</code>, <code>lines</code> or the special utility function
<code>apc.lines</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  apc.frame( a.lab,
            cp.lab,
             r.lab,
            rr.lab = r.lab / rr.ref,
            rr.ref = r.lab[length(r.lab)/2],
             a.tic = a.lab,
            cp.tic = cp.lab,
             r.tic = r.lab,
            rr.tic = r.tic / rr.ref,
           tic.fac = 1.3,
             a.txt = "Age",
            cp.txt = "Calendar time",
             r.txt = "Rate per 100,000 person-years",
            rr.txt = "Rate ratio",
          ref.line = TRUE,
               gap = diff(range(c(a.lab, a.tic)))/10,
          col.grid = gray(0.85),
             sides = c(1,2,4) )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a.lab</code></td>
<td>
<p>Numerical vector of labels for the age-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cp.lab</code></td>
<td>
<p>Numerical vector of labels for the cohort-period axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.lab</code></td>
<td>
<p>Numerical vector of labels for the rate-axis (left vertical)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rr.lab</code></td>
<td>
<p>Numerical vector of labels for the RR-axis (right vertical)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rr.ref</code></td>
<td>
<p>At what level of the rate scale is the RR=1 to be.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a.tic</code></td>
<td>
<p>Location of additional tick marks on the age-scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cp.tic</code></td>
<td>
<p>Location of additional tick marks on the cohort-period-scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.tic</code></td>
<td>
<p>Location of additional tick marks on the rate-scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rr.tic</code></td>
<td>
<p>Location of additional tick marks on the RR-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tic.fac</code></td>
<td>
<p>Factor with which to diminish intermediate tick marks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a.txt</code></td>
<td>
<p>Text for the age-axis (left part of horizontal axis).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cp.txt</code></td>
<td>
<p>Text for the cohort/period axis (right part of
horizontal axis).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.txt</code></td>
<td>
<p>Text for the rate axis (left vertical axis).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rr.txt</code></td>
<td>
<p>Text for the rate-ratio axis (right vertical axis)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref.line</code></td>
<td>
<p>Logical. Should a reference line at RR=1 be drawn at the
calendar time part of the plot?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gap</code></td>
<td>
<p>Gap between the age-scale and the cohort-period scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.grid</code></td>
<td>
<p>Colour of the grid put in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sides</code></td>
<td>
<p>Numerical vector indicating on which sides axes should
be drawn and annotated. This option is aimed for multi-panel
displays where axes only are put on the outer plots.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function produces an empty plot frame for display of results
from an age-period-cohort model, with age-specific rates in the left
side of the frame and cohort and period rate-ratio parameters in the
right side of the frame. There is a gap of <code>gap</code> between the
age-axis and the calendar time axis, vertical grid lines at
<code>c(a.lab,a.tic,cp.lab,cp.tic)</code>, and horizontal grid lines at
<code>c(r.lab,r.tic)</code>.
</p>
<p>The function returns a numerical vector of
length 2, with names <code>c("cp.offset","RR.fac")</code>. The y-axis for
the plot will be a rate scale for the age-effects, and the x-axis will
be the age-scale. The cohort and period effects are plotted by
subtracting the first element (named <code>"cp.offset"</code>) of the returned result
form the cohort/period, and multiplying  the rate-ratios by the second
element of the returned result (named <code>"RR.fac"</code>).
</p>


<h3>Value</h3>

<p>A numerical vector of length two, with names
<code>c("cp.offset","RR.fac")</code>. The first is the offset for the cohort
period-axis, the second the multiplication factor for the rate-ratio
scale.
</p>
<p>Side-effect: A plot with axes and grid lines but no points or curves.
Moreover, the option <code>apc.frame.par</code> is given the value
<code>c("cp.offset","RR.fac")</code>, which is recognized by <code>apc.plot</code>
and <code>apc.lines</code>.
</p>


<h3>Author(s)</h3>

<p>Bendix Carstensen, Steno Diabetes Center,
<a href="http://bendixcarstensen.com">http://bendixcarstensen.com</a>
</p>


<h3>References</h3>

<p>B. Carstensen: Age-Period-Cohort models for the Lexis
diagram. Statistics in Medicine, 26: 3018-3045, 2007.
</p>


<h3>See Also</h3>

<p><code>apc.lines,apc.fit</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">par( mar=c(4,4,1,4) )
res &lt;-
apc.frame( a.lab=seq(30,90,20), cp.lab=seq(1880,2000,30), r.lab=c(1,2,5,10,20,50),
           a.tic=seq(30,90,10), cp.tic=seq(1880,2000,10), r.tic=c(1:10,1:5*10),
           gap=27 )
res
# What are the axes actually?
par(c("usr","xlog","ylog"))
# How to plot in the age-part: a point at (50,10)
points( 50, 10, pch=16, cex=2, col="blue" )
# How to plot in the cohort-period-part: a point at (1960,0.3)
points( 1960-res[1], 0.3*res[2], pch=16, cex=2, col="red" )
# or referring to the period-cohort part of the plot 
pc.points( 1960, 0.3, pch=16, cex=1, col="green" )
</code></pre>


</div>