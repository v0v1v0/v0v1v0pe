<div class="container">

<table style="width: 100%;"><tr>
<td>count</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get counts of the number of records per index.</h2>

<h3>Description</h3>

<p>Get counts of the number of records per index.
</p>


<h3>Usage</h3>

<pre><code class="language-R">count(conn, index = NULL, type = NULL, callopts = list(), verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>conn</code></td>
<td>
<p>an Elasticsearch connection object, see <code>connect()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>Index, defaults to all indices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Document type, optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>callopts</code></td>
<td>
<p>Curl args passed on to crul::verb-GET</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If <code>TRUE</code> (default) the url call used printed to console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further args passed on to elastic search HTTP API as parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See docs for the count API here
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html</a>
</p>
<p>You can also get a count of documents using <code>Search()</code> or
<code>Search_uri()</code> and setting <code>size = 0</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# connection setup
(x &lt;- connect())

if (!index_exists(x, "plos")) {
  plosdat &lt;- system.file("examples", "plos_data.json",
    package = "elastic")
  plosdat &lt;- type_remover(plosdat)
  invisible(docs_bulk(x, plosdat))
}
if (!index_exists(x, "shakespeare")) {
  shake &lt;- system.file("examples", "shakespeare_data_.json", 
    package = "elastic")
  invisible(docs_bulk(x, shake))
}

count(x)
count(x, index='plos')
count(x, index='shakespeare')
count(x, index=c('plos','shakespeare'), q="a*")
count(x, index=c('plos','shakespeare'), q="z*")

# Curl options
count(x, callopts = list(verbose = TRUE))

## End(Not run)
</code></pre>


</div>