<div class="container">

<table style="width: 100%;"><tr>
<td>ec_dem_aggregate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregate posterior draws of demand</h2>

<h3>Description</h3>

<p>Aggregate demand draws, e.g. from individual-choice occasion-alternative level to individual level.
(using the new demand draw format)
</p>


<h3>Usage</h3>

<pre><code class="language-R">ec_dem_aggregate(de,groupby)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>de</code></td>
<td>
<p>demand draws</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groupby</code></td>
<td>
<p>groupby grouping variables (as (vector of) string(s))</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Aggregated demand predictions
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(icecream)
#run MCMC sampler (use way more than 50 draws for actual use)
icecream_est &lt;- icecream %&gt;% dplyr::filter(id&lt;10) %&gt;% vd_est_vdm(R=4, keep=1, cores=2)
#Generate demand predictions
icecream_predicted_demand=
 icecream %&gt;% dplyr::filter(id&lt;10) %&gt;%   
   vd_dem_vdm(icecream_est)
#aggregate
brand_lvl_pred_demand &lt;-
 icecream_predicted_demand %&gt;% ec_dem_aggregate("Brand")


</code></pre>


</div>