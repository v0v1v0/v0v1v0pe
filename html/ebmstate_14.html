<div class="container">

<table style="width: 100%;"><tr>
<td>loo_ebmstate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Leave-one-out estimation</h2>

<h3>Description</h3>

<p>This function computes leave-one-out estimation of regression coefficients,
cumulative hazard functions, and transition probability functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">loo_ebmstate(
  mstate_data,
  mstate_data_expanded,
  which_group,
  patient_IDs,
  initial_state,
  tmat,
  time_model,
  backup_file = NULL,
  input_file = NULL,
  coxrfx_args = list(),
  msfit_args = NULL,
  probtrans_args = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mstate_data</code></td>
<td>
<p>Data in 'long format'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mstate_data_expanded</code></td>
<td>
<p>Data in 'long format', possibly with 'expanded' covariates (as obtained by running mstate::expand.covs).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which_group</code></td>
<td>
<p>A character vector with the same meaning as the 'groups' argument of the function <code>CoxRFX</code> but named (with the covariate names).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>patient_IDs</code></td>
<td>
<p>The IDs of the patients whose cumulative hazards and transition probabilities one wishes to estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial_state</code></td>
<td>
<p>The initial state for which transition probability estimates should be computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmat</code></td>
<td>
<p>Transition matrix for the multi-state model, as obtained by running <code>mstate::transMat</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_model</code></td>
<td>
<p>The model of time-dependency: either 'clockforward' or 'clockreset'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backup_file</code></td>
<td>
<p>Path to file. Objects generated while the present function is running are stored in this file. 
This avoids losing all estimates if and when the algorithm breaks down. See argument <code>input_file</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_file</code></td>
<td>
<p>Path to <code>backup_file</code> (see argument <code>backup_file</code>). If this argument is given, all other arguments should be <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coxrfx_args</code></td>
<td>
<p>Named list with arguments to the <code>CoxRFX</code> function other than <code>Z</code>,<code>surv</code> and <code>groups</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>msfit_args</code></td>
<td>
<p>Named list with arguments to the <code>msfit_generic.coxrfx</code> function other than <code>object</code>,<code>newdata</code> and <code>trans</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probtrans_args</code></td>
<td>
<p>Named list with arguments to the <code>probtrans_ebmstate</code> function other than <code>initia_state</code>,<code>cumhaz</code> and <code>model</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In a given bootstrap sample there might not be enough information to generate 
estimates for all coefficients. If a covariate has little or no variation in a given bootstrap sample, 
no estimate of its coefficient will be computed. The present function will
keep taking bootstrap samples until every coefficient has been estimated
at least <code>min_nr_samples</code> times.
</p>


<h3>Value</h3>

<p>A list with: 95% bootstrap intervals for each regression coefficient and for transition probabilities; 
bootstrap samples of regression coefficients, cumulative hazards and transition probabilities.
</p>


<h3>Author(s)</h3>

<p>Rui Costa
</p>


</div>