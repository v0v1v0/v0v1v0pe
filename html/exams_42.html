<div class="container">

<table style="width: 100%;"><tr>
<td>exams2html</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generation of Exams in HTML Format</h2>

<h3>Description</h3>

<p>Automatic generation of exams in HTML format.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  exams2html(file, n = 1L, nsamp = NULL, dir = ".", template = "plain.html",
    name = NULL, quiet = TRUE, edir = NULL, tdir = NULL, sdir = NULL, verbose = FALSE,
    rds = FALSE, question = "&lt;h4&gt;Question&lt;/h4&gt;", solution = "&lt;h4&gt;Solution&lt;/h4&gt;",
    mathjax = NULL, resolution = 100, width = 4, height = 4, svg = FALSE,
    encoding = "UTF-8", envir = NULL, engine = NULL, converter = NULL, seed = NULL,
    exshuffle = NULL, ...)

  make_exercise_transform_html(converter = c("ttm", "tth", "pandoc", "tex2image"),
    base64 = TRUE, options = NULL, ...)

  make_exams_write_html(template = "plain", name = NULL,
    question = "&lt;h4&gt;Question&lt;/h4&gt;", solution = "&lt;h4&gt;Solution&lt;/h4&gt;",
    mathjax = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character. A specification of a (list of) exercise files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>integer. The number of copies to be compiled from <code>file</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsamp</code></td>
<td>
<p>integer. The number(s) of exercise files sampled from each
list element of <code>file</code>. Sampling without replacement is used
if possible. (Only if some element of <code>nsamp</code> is larger than
the length of the corresponding element in <code>file</code>, sampling
with replacement is used.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>character specifying the output directory (default:
current working directory). If only a single HTML file is produced
and no <code>dir</code> is explicitly specified, the file is displayed in the
browser rather than saved in <code>dir</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>template</code></td>
<td>
<p>character. A specification of a HTML template.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>character. A name prefix for resulting exercises.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>logical. Should output be suppressed when calling
<code>xweave</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edir</code></td>
<td>
<p>character specifying the path of the directory (along with its
sub-directories) in which the files in <code>file</code> are stored
(see also <code>xexams</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tdir</code></td>
<td>
<p>character specifying a temporary directory, by default
this is chosen via <code>tempfile</code>. Note that this
is cleaned up (i.e., existing files are deleted) and only certain
temporary files are preserved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdir</code></td>
<td>
<p>character specifying a directory for storing supplements, by
default this is chosen via <code>tempfile</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical. Should information on progress of exam generation
be reported?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rds</code></td>
<td>
<p>logical indicating whether the return list should also be
saved as an RDS data file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>question</code></td>
<td>
<p>character or logical. Should the question be included in the HTML
output? If <code>question</code> is a character it will be used as a header for resulting questions.
Argument <code>question</code> may also be a vector that controls the output for the templates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solution</code></td>
<td>
<p>character or logical, see argument <code>question</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mathjax</code></td>
<td>
<p>logical. Should the JavaScript from <a href="https://www.MathJax.org/">https://www.MathJax.org/</a>
be included for rendering mathematical formulas? By default <code>mathjax = FALSE</code>
unless <code>converter = "pandoc-mathjax"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution, width, height</code></td>
<td>
<p>numeric. Options for rendering PNG (or SVG)
graphics passed to <code>xweave</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svg</code></td>
<td>
<p>logical. Should graphics be rendered in SVG or PNG (default)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>character, ignored. The encoding is always assumed to be UTF-8.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>argument passed to <code>xweave</code> (which passes
it to <code>knit</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>engine</code></td>
<td>
<p>argument passed to <code>xweave</code> indicating whether
<code>"Sweave"</code> (default) or <code>"knitr"</code> should be used for rendering Rnw exercises.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base64</code></td>
<td>
<p>logical. Should supplementary files be embedded using Base 64 coding?
Argument <code>base64</code> may also be a character vector of file suffixes that should be encoded, e.g.
<code>base64 = c("png", "rda")</code> will only encode PNG images and binary <code>.rda</code> files.
If set to <code>NULL</code> only image files will be encoded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>converter, ...</code></td>
<td>
<p>arguments passed on to <code>make_exercise_transform_html</code>.
The default for <code>converter</code> is set to <code>"ttm"</code> unless there are Rmd
exercises in <code>file</code> where <code>"pandoc"</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>integer matrix or logical. Either <code>NULL</code> (default), logical, or a
matrix of random seeds for each possible exercise to be set prior to calling
<code>driver@sweave</code>. If <code>NULL</code> no random seeds are set. If a matrix,
the number of rows must be <code>n</code> and the number of columns must
correspond to <code>unlist(file)</code>. If <code>TRUE</code> a suitable matrix of seeds
is sampled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exshuffle</code></td>
<td>
<p>logical or integer. If the <code>exshuffle</code>
argument is non-<code>NULL</code> it is used to overrule the <code>exshuffle</code>
tag from the <code>file</code> (e.g., <code>exshuffle = FALSE</code> can be used
to keep all available answers without permutation).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>list of options to be passed on to
<code>pandoc_convert</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>exams2html</code> generates exams in a very simple HTML format
using <code>xexams</code>. It proceeds by (1) calling <code>xweave</code>
on each exercise, (2) reading the resulting LaTeX code, (3) transforming
the LaTeX code to HTML, and (4) embedding the HTML code in a template
(a simple and plain template is used by default).
</p>
<p>For steps (1) and (2) the standard drivers in <code>xexams</code> are used.
</p>
<p>For step (3) a suitable transformation function is set up on the fly
using <code>make_exercise_transform_html</code>. This transforms the
LaTeX code in <code>question</code>/<code>questionlist</code> and
<code>solution</code>/<code>solutionlist</code> by leveraging one of four
functions: <code>ttm</code> produces HTML with MathML
for mathematical formulas, <code>tth</code> produces
plain HTML that aims to emulate mathematical formulas,
<code>pandoc_convert</code> employs pandoc offering different
options for handling formulas, and <code>tex2image</code> runs
LaTeX and turns the result into a single image. In all cases, images
can either be stored in supplementary files or embedded directly in Base 64 coding.
</p>
<p>For step (4) a simple writer function is set up on the fly that
embeds the transformed HTML code into a template and
writes a single HTML file for each exam.
</p>


<h3>Value</h3>

<p><code>exams2html</code> returns a list of exams as generated by <code>xexams</code>.
</p>
<p><code>make_exercise_transform_html</code> returns a function that is suitable for being
supplied as <code>driver$transform</code> to <code>xexams</code>.
</p>
<p><code>make_exams_write_html</code> returns a function that is suitable for being
supplied as <code>driver$write</code> to <code>xexams</code>.
</p>


<h3>References</h3>

<p>Zeileis A, Umlauf N, Leisch F (2014).
Flexible Generation of E-Learning Exams in R: Moodle Quizzes, OLAT Assessments, and Beyond.
<em>Journal of Statistical Software</em>, <b>58</b>(1), 1â€“36.
<a href="https://doi.org/10.18637/jss.v058.i01">doi:10.18637/jss.v058.i01</a>.
</p>


<h3>See Also</h3>

<p><code>xexams</code>,
<code>ttm</code>,
<code>tth</code>,
<code>pandoc_convert</code>,
<code>tex2image</code>,
<code>browseURL</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## load package and enforce par(ask = FALSE)
options(device.ask.default = FALSE)

if(interactive() &amp;&amp; requireNamespace("png")) {
## compile a single random exam (displayed in the browser)
exams2html(list(
  "boxplots.Rmd",
  c("tstat.Rmd", "ttest.Rmd", "confint.Rmd"),
  c("regression.Rmd", "anova.Rmd"),
  "scatterplot.Rmd",
  "relfreq.Rmd"
))

## various versions of displaying mathematical formulae

## via MathML (displayed correctly in MathML-aware browsers, e.g. Firefox)
exams2html("tstat")

## via MathML + MathJax (should work in all major browsers,
## note the display options you get when right-clicking on the formulas
## in the browser)
exams2html("tstat", mathjax = TRUE)

## via plain HTML (works in all browsers but with inferior formatting)
exams2html("tstat", converter = "tth")

## via HTML with embedded picture (works in all browsers but
## is slow and requires LaTeX and ImageMagick)
## Not run: 
exams2html("tstat", converter = "tex2image")

## End(Not run)
}
</code></pre>


</div>