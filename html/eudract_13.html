<div class="container">

<table style="width: 100%;"><tr>
<td>relative_risk</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate relative risks to be reported or plotted as dot plot</h2>

<h3>Description</h3>

<p>Calculate relative risks to be reported or plotted as dot plot
</p>


<h3>Usage</h3>

<pre><code class="language-R">relative_risk(
  safety,
  type = c("non_serious", "serious"),
  reference = safety$GROUP$title[1],
  size = 95
)

relative_risk_table(
  safety,
  type = c("non_serious", "serious"),
  reference = safety$GROUP$title[1],
  size = 95,
  digits = 3,
  valid_estimates = TRUE
)

order_filter(rel_risk, threshold = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>safety</code></td>
<td>
<p>an object created by <code>safety_summary</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a choice of "non_serious" (default) or "serious" as to which type of AE to report on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>
<p>character vector naming the reference arm for the calculations. 
Defaults to the first row of the safety$GROUP.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>a number between 0-100, giving the size of the confidence interval. 
Default is 95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>integer giving the number of significant figures to report to. Default of 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valid_estimates</code></td>
<td>
<p>a logical, which determines if only terms with valid estimates of relative risk are included in the table.
The alternative is to include terms with zeroes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rel_risk</code></td>
<td>
<p>a relative risk object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>a threshold on the percent scale, the max percentage for a term the incidence rate needs to exceed</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>relative_risk</code> returns of list of four items. 
</p>

<ul>
<li>
<p> "relative_risk" a data.frame that has the relative risk estimate and confidence intervals. 
</p>
</li>
<li>
<p> "percentage" a data.frame with absolute percentages. 
</p>
</li>
<li>
<p> "GROUP" a copy from the original <code>safety_summary</code> object.
</p>
</li>
<li>
<p> "reference" naming the reference group used to calculate relative risks
</p>
</li>
</ul>
<p>No adjustment made to deal with zeroes. This is suitable input for the <code>dot_plot</code> function, and in most cases will not be 
used directly, but may potentially be modified with filtration, or editing of terms, see <code>order_filter</code>.
</p>
<p><code>relative_risk_table</code> returns a data frame that is suitable for printing to a report, giving relative risks
</p>
<p><code>order_filter</code> returns a revised relative risk object, with the terms concatenated with SOC if there are any duplicates, 
then ordered by relative risk, into a factor, and filtered to only those terms with an incidence rate above
the threshold.
</p>


<h3>See Also</h3>

<p><code>safety_summary</code> <code>dot_plot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">safety_statistics &lt;- safety_summary(safety,
           exposed=c("Experimental"=60,"Control"=67))
head( relative_risk(safety_statistics, type="serious") )
relative_risk_table(safety_statistics, type="serious")
rr &lt;- relative_risk(safety_statistics)
rr2 &lt;- order_filter(rr, threshold=2)
dot_plot(rr2)
</code></pre>


</div>