<div class="container">

<table style="width: 100%;"><tr>
<td>rsu.sep.rb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Surveillance system sensitivity assuming risk-based sampling and varying unit sensitivity
</h2>

<h3>Description</h3>

<p>Calculates surveillance system (population-level) sensitivity assuming one-stage, risk-based sampling and varying unit sensitivity using either the binomial or hypergeometric methods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rsu.sep.rb(N, rr, ppr, df, pstar, method = "binomial")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>vector of the same length as <code>rr</code>, population size estimates for each risk group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rr</code></td>
<td>
<p>vector of length equal to the number of risk strata, the relative risk values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppr</code></td>
<td>
<p>vector of the same length as <code>rr</code>, population proportions for each risk group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a dataframe of values for each combination of risk stratum and sensitivity level. Column 1 = risk group index, column 2 = unit sensitivities, column 3 = the sample size for risk group and unit sensitivity).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pstar</code></td>
<td>
<p>scalar, the design prevalence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character string indicating the method to be used. Options are <code>binomial</code> or <code>hypergeometric</code>. See details, below.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>method = binomial</code> <code>N</code> is ignored and values for <code>ppr</code> need to be entered. Conversely, if <code>method = hypergeometric</code>, <code>ppr</code> is ignored and calculated from <code>N</code>.
</p>


<h3>Value</h3>

<p>A list comprised of five elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>scalar, the population-level sensitivity estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epi</code></td>
<td>
<p>vector, effective probability of infection estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj.risk</code></td>
<td>
<p>vector, adjusted risks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>vector, sample size by risk group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.u</code></td>
<td>
<p>a vector of the mean sensitivity for each risk group.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## EXAMPLE 1:
## Calculate the surveillance system sensitivity assuming one-stage risk-
## based sampling assuming a population comprised of high risk (n = 200 
## clusters) and low risk (n = 1800 clusters) where the probability of 
## disease in the high risk group is 5 times that of the low risk group.

## Four clusters will be sampled with n = 80, 30, 20 and 30 surveillance
## units within each cluster tested using a test with diagnostic sensitivity
## at the surveillance unit level of 0.92, 0.85, 0.92 and 0.85, respectively.

## Assume a design prevalence of 0.01.

rg &lt;- c(1,1,2,2)
se.u &lt;- c(0.92,0.85,0.92,0.85)
n &lt;- c(80,30,20,30)
df &lt;- data.frame(rg, se.u, n)

rsu.sep.rb(N = c(200,1800), rr = c(5,1), ppr = NA,  df = df, pstar = 0.01, 
   method = "hypergeometric")

## The expected surveillance system sensitivity is 0.993.

 
## EXAMPLE 2:
## Recalculate, assuming that we don't know the size of the cluster population
## at risk.

## When the size of the cluster population at risk is unknown we set N = NA 
## and enter values for ppr (the proportion of the population in each risk
## group). Assume (from above) that 0.10 of the cluster population are in the
## high risk group and 0.90 are in the low risk group.

rsu.sep.rb(N = NA, rr = c(5,1), ppr = c(0.10,0.90), df = df, pstar = 0.01, 
   method = "binomial")

## The expected surveillance system sensitivity is 0.980. 

</code></pre>


</div>