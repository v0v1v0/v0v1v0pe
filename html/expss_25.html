<div class="container">

<table style="width: 100%;"><tr>
<td>var_lab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set or get variable label</h2>

<h3>Description</h3>

<p>These functions set/get/drop variable labels. For 
value labels see val_lab. For working with entire data.frame see
apply_labels.
</p>

<ul>
<li>
<p><code>var_lab</code> returns variable label or NULL if label doesn't 
exist. 
</p>
</li>
<li>
<p><code>var_lab&lt;-</code> set variable label. 
</p>
</li>
<li>
<p><code>set_var_lab</code> returns variable with label.
</p>
</li>
<li>
<p><code>unvr</code> drops variable label. 
</p>
</li>
<li>
<p><code>add_labelled_class</code> Add missing 'labelled' class. This function
is needed when you load SPSS data with packages which in some cases don't set
'labelled' class for variables with labels. For example, <code>haven</code> package
doesn't set 'labelled' class for variables which have variable label but
don't have value labels. Note that to use 'expss' with 'haven' you need to
load 'expss' strictly after 'haven' to avoid conflicts. </p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">var_lab(x, default = NULL)

var_lab(x) &lt;- value

set_var_lab(x, value)

unvr(x)

drop_var_labs(x)

add_labelled_class(
  x,
  remove_classes = c("haven_labelled", "spss_labelled", "haven_labelled_spss",
    "vctrs_vctr")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Variable. In the most cases it is numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default</code></td>
<td>
<p>A character scalar. What we want to get from 'var_lab' if
there is no variable label. NULL by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>A character scalar - label for the variable x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_classes</code></td>
<td>
<p>A character vector of classes which should be removed
from the class attribute of the <code>x</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Variable label is stored in attribute "label" (<code>attr(x,"label")</code>). For
preserving from dropping this attribute during some operations (such as <code>c</code>)
variable class is set to "labelled". There are special methods of
subsetting and concatenation for this class. To drop variable label use 
<code>var_lab(var) &lt;- NULL</code> or <code>unvr(var)</code>.
</p>


<h3>Value</h3>

<p><code>var_lab</code> return variable label. If label doesn't exist it return
NULL . <code>var_lab&lt;-</code> and <code>set_var_lab</code> return variable (vector x)
of class "labelled" with attribute "label" which equals submitted value.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(mtcars)
var_lab(mtcars$mpg) = "Miles/(US) gallon"
var_lab(mtcars$cyl) = "Number of cylinders"
var_lab(mtcars$disp) = "Displacement (cu.in.)"
var_lab(mtcars$hp) = "Gross horsepower"
var_lab(mtcars$drat) = "Rear axle ratio"
var_lab(mtcars$wt) = "Weight (lb/1000)"
var_lab(mtcars$qsec) = "1/4 mile time"
var_lab(mtcars$vs) = "V/S"
var_lab(mtcars$am) = "Transmission (0 = automatic, 1 = manual)"
val_lab(mtcars$am) = c(automatic = 0, manual=1)
var_lab(mtcars$gear) = "Number of forward gears"
var_lab(mtcars$carb) = "Number of carburetors"

fre(mtcars$am)

cross_mean(mtcars, list(mpg, disp, hp, qsec), list(total(), am))
 
## Not run: 
if(FALSE){ # to prevent execution
# you need to load packages strictly in this order to avoid conflicts
library(haven)
library(expss)
spss_data = haven::read_spss("spss_file.sav")
# add missing 'labelled' class
spss_data = add_labelled_class(spss_data) 
}

## End(Not run)
</code></pre>


</div>