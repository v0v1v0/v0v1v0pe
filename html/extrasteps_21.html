<div class="container">

<table style="width: 100%;"><tr>
<td>step_difftime</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>difftimearithmic Transformation</h2>

<h3>Description</h3>

<p><code>step_difftime()</code> creates a <em>specification</em> of a recipe step that will
calculate difftimes of the data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">step_difftime(
  recipe,
  ...,
  role = NA,
  trained = FALSE,
  time = NULL,
  tz = NULL,
  unit = "auto",
  columns = NULL,
  skip = FALSE,
  id = rand_id("difftime")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>recipe</code></td>
<td>
<p>A recipe object. The step will be added to the
sequence of operations for this recipe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>One or more selector functions to choose which
variables are affected by the step. See <code>recipes::selections()</code>
for more details.  For the <code>tidy</code> method, these are not
currently used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>role</code></td>
<td>
<p>Not used by this step since no new variables are
created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trained</code></td>
<td>
<p>A logical to indicate if the quantities for
preprocessing have been estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>date-time or date objects. Used for reference. Must match the
type of variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>an optional time zone specification to be used for the conversion,
mainly for "POSIXlt" objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>character string. Units in which the results are desired. Must be
one of "auto", "secs", "mins", "hours","days",  and "weeks" Defaults to
"auto".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p>A character string of variable names that will
be populated (eventually) by the <code>terms</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip</code></td>
<td>
<p>A logical. Should the step be skipped when the
recipe is baked by <code>bake()</code>? While all operations are baked
when <code>prep()</code> is run, some operations may not be able to be
conducted on new data (e.g. processing the outcome variable(s)).
Care should be taken when using <code>skip = TRUE</code> as it may affect
the computations for subsequent operations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A character string that is unique to this step to identify it.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An updated version of <code>recipe</code> with the new step
added to the sequence of existing steps (if any). For the
<code>tidy</code> method, a tibble with columns <code>terms</code> (the
columns that will be affected) and <code>base</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(recipes)
example_date &lt;- data.frame(
  dates = seq(as.Date("2010/1/1"), as.Date("2016/1/1"), by = "quarter")
 )

 example_datetime &lt;- data.frame(
  datetimes = seq(ISOdate(1993,1,1), ISOdate(1993,1,2), by = "hour")
 )

rec &lt;- recipe(~ dates, data = example_date) %&gt;%
  step_difftime(dates, time = as.Date("2010/1/1"))

difftime_obj &lt;- prep(rec)

bake(difftime_obj, new_data = NULL)

recipe(~ dates, data = example_date) %&gt;%
  step_difftime(dates, time = as.Date("2010/1/1"), unit = "weeks") %&gt;%
  prep() %&gt;%
  bake(new_data = NULL)

recipe(~ datetimes, data = example_datetime) %&gt;%
  step_difftime(datetimes, time = ISOdate(1993,1,1), unit = "secs") %&gt;%
  prep() %&gt;%
  bake(new_data = NULL)
</code></pre>


</div>