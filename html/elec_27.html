<div class="container">

<table style="width: 100%;"><tr>
<td>make.audit.from.Z</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make a fake audit given specified error for simulations</h2>

<h3>Description</h3>

<p>Functions that make fake audits given a specified error mechanism and a
elec.data object holding reported outcomes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make.audit.from.Z(Z, N = 400, ...)

make.audit(
  Z = NULL,
  method = c("tweak", "opt.bad", "opt.bad.WPM", "opt.bad.packed", "opt.bad.packed.WPM",
    "ok", "no error"),
  p_d = 0.2,
  swing = 20,
  max.taint = 1,
  print.race = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>elec.data object.  For make.audit.from.Z, this is the large
election, holding precincts with size, votes, etc., that get sampled to make
an election of a requested number of batches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>The desired size of the new election.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments to the method functions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the method of error generation.  if "tweak" (the default),
then add random amounts of swing to some precincts, and call that the
"truth".  The other methods generate the truth according to various metrics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_d</code></td>
<td>
<p>percent chance of error in precinct (for ok method)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swing</code></td>
<td>
<p>vote swing if batch has error (for ok method)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.taint</code></td>
<td>
<p>maximum taint allowed in batch</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.race</code></td>
<td>
<p>print info on race to command line?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>make.audit is to make the election results that can be sampled from with the
simulator.  This method generates the true taint and sampling weights of all
precincts in the race.  The taint is in column 'taint', sampling weights in
'e.max'
</p>
<p>make.audit.from.Z Given the structure of some large election, make a small
election by sampling batches (with replacement) from the full list.  This
first samples N precincts (and gets the totals from them) and then builds
the 'truth' as normal using the make.audit() method.  Note different calls
to this will produce different margins based on precincts selected.
</p>
<p>WARNING: It is concievable that the winner will flip due to the sampling, if
the sample has too many batches for the loser.
</p>


<h3>Value</h3>

<p>Data frame with precinct information for the race.  NOTE- The reported vote
totals are just that, reported.
</p>


<h3>Author(s)</h3>

<p>Miratrix
</p>


<h3>See Also</h3>

<p>truth.looker
</p>


</div>