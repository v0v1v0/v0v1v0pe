<div class="container">

<table style="width: 100%;"><tr>
<td>safety_summary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate frequency tables from a rectangular data frame with one row per subject-event</h2>

<h3>Description</h3>

<p>Calculate frequency tables from a rectangular data frame with one row per subject-event
</p>


<h3>Usage</h3>

<pre><code class="language-R">safety_summary(
  data,
  exposed,
  excess_deaths = 0,
  freq_threshold = 0,
  soc_index = c("meddra", "soc_term"),
  na.action = na.fail
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data set containing the following columns: <code>subjid, term, soc, serious, related, fatal, group</code>.
See <code>safety</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposed</code></td>
<td>
<p>a numeric vector giving the numbers of subjects exposed in each group.
This needs to be supplied directly by the user, and cannot be inferred from the input <code>data</code>
with one row per patient-event.
To ensure the ordering is correct either, name the vector with names matching the values in <code>data$group</code>, or
ensure that the data$group is an ordered factor, or relying on alphabetical ordering of the values in
<code>data$group</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excess_deaths</code></td>
<td>
<p>a numeric vector giving the number of extra deaths not reported within <code>data</code>. Defaults to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq_threshold</code></td>
<td>
<p>a value on a percentage scale at which to remove events if the incidence falls below. Defaults to 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>soc_index</code></td>
<td>
<p>a character vector either "meddra" or "soc_term", which is used to identify if the soc variable in data gives the numerical meddra code or the description in English.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>a function that indicates what should happen if the data contain missing values. The default is <code>na.fail</code>  as both repositories will not accept any missing values in the upload. Alternatives could be <code>na.omit</code>, <code>na.exclude</code>, or <code>na.pass</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list of three dataframes: GROUP, SERIOUS, NON_SERIOUS. Each contains the summary statistics required by EudraCT, and is suitable for export.
</p>


<h3>See Also</h3>

<p><code>eudract_convert</code> <code>simple_safety_xml</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">safety_statistics &lt;- safety_summary(safety,
                                    exposed=c("Experimental"=60,"Control"=67))
simple &lt;- tempfile(fileext = ".xml")
eudract &lt;- tempfile(fileext = ".xml")
ct &lt;- tempfile(fileext = ".xml")
simple_safety_xml(safety_statistics, simple)
eudract_convert(input=simple,
                output=eudract)
clintrials_gov_convert(input=simple,
                       original=system.file("extdata", "1234.xml", package ="eudract"),
                output=ct)
## Not run: 
  # This needs a real user account to work
  clintrials_gov_upload(
    input=simple,
    orgname="CTU",
    username="Student",
    password="Guinness",
    studyid="1234"
    )


## End(Not run)
</code></pre>


</div>