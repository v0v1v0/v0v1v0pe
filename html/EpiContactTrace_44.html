<div class="container">

<table style="width: 100%;"><tr>
<td>Trace</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trace Contacts.</h2>

<h3>Description</h3>

<p>Contact tracing for a specied node(s) (root) during a specfied
time period.  The time period is divided into two parts, one for
ingoing contacts and one for outgoing contacts.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Trace(
  movements,
  root,
  tEnd = NULL,
  days = NULL,
  inBegin = NULL,
  inEnd = NULL,
  outBegin = NULL,
  outEnd = NULL,
  maxDistance = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>movements</code></td>
<td>
<p>a <code>data.frame</code> data.frame with movements,
see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>root</code></td>
<td>
<p>vector of roots to perform contact tracing for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tEnd</code></td>
<td>
<p>the last date to include ingoing and outgoing
movements. Defaults to <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>days</code></td>
<td>
<p>the number of previous days before tEnd to include
ingoing and outgoing movements. Defaults to <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inBegin</code></td>
<td>
<p>the first date to include ingoing
movements. Defaults to <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inEnd</code></td>
<td>
<p>the last date to include ingoing movements. Defaults
to <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outBegin</code></td>
<td>
<p>the first date to include outgoing
movements. Defaults to <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outEnd</code></td>
<td>
<p>the last date to include outgoing
movements. Defaults to <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxDistance</code></td>
<td>
<p>stop contact tracing at maxDistance (inclusive)
from root. Default is <code>NULL</code> i.e. don't use the
maxDistance stop criteria.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The time period used for <code>Trace</code> can either be specified
using <code>tEnd</code> and <code>days</code> or <code>inBegin</code>, <code>inEnd</code>,
<code>outBegin</code> and <code>outEnd</code>.
</p>
<p>If using <code>tEnd</code> and <code>days</code>, the time period for ingoing
and outgoing contacts ends at <code>tEnd</code> and starts at
<code>days</code> prior to <code>tEnd</code>. The tracing will be performed
for each combination of <code>root</code>, <code>tEnd</code> and <code>days</code>.
</p>
<p>An alternative way is to use <code>inBegin</code>, <code>inEnd</code>,
<code>outBegin</code> and <code>outEnd</code>. The time period for ingoing
contacts starts at inBegin and ends at inEndDate.  For outgoing
contacts the time period starts at outBegin and ends at outEnd.
The vectors <code>root</code> <code>inBegin</code>, <code>inEnd</code>,
<code>outBegin</code> and <code>outEnd</code> must have the same lengths and
the tracing will be performed for each index of them.
</p>
<p>The argument movements in Trace is a <code>data.frame</code>
with the following columns:
</p>

<dl>
<dt>source</dt>
<dd>
<p>an integer or character identifier of the source holding.
</p>
</dd>
<dt>destination</dt>
<dd>
<p>an integer or character identifier of the destination holding.
</p>
</dd>
<dt>t</dt>
<dd>
<p>the Date of the transfer
</p>
</dd>
<dt>id</dt>
<dd>
<p>an optional character vector with the identity of the animal.
</p>
</dd>
<dt>n</dt>
<dd>
<p>an optional numeric vector with the number of animals moved.
</p>
</dd>
<dt>category</dt>
<dd>
<p>an optional character or factor with category of the animal e.g. Cattle.
</p>
</dd>
</dl>
<h3>References</h3>

 <ul>
<li>
<p> Dube, C., et al., A review of network
analysis terminology and its application to foot-and-mouth
disease modelling and policy development. Transbound Emerg Dis
56 (2009) 73-85, doi: 10.1111/j.1865-1682.2008.01064.x
</p>
</li>
<li>
<p> Noremark, M., et al., Network analysis
of cattle and pig movements in Sweden: Measures relevant for
disease control and riskbased surveillance.  Preventive Veterinary
Medicine 99 (2011) 78-90, doi: 10.1016/j.prevetmed.2010.12.009
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Load data
data(transfers)

## Perform contact tracing using tEnd and days
trace_1 &lt;- Trace(movements = transfers,
                 root = 2645,
                 tEnd = "2005-10-31",
                 days = 91)

## Perform contact tracing using inBegin, inEnd
## outBegin and outEnd
trace_2 &lt;- Trace(movements = transfers,
                 root = 2645,
                 inBegin = "2005-08-01",
                 inEnd = "2005-10-31",
                 outBegin = "2005-08-01",
                 outEnd = "2005-10-31")

## Check that the result is identical
identical(trace_1, trace_2)

## Show result of contact tracing
trace_1

## Create a network summary for 10 of the included herds
## First extract all source and destination from the dataset,
## then select the first ten.
root &lt;- sort(unique(c(transfers$source,
                      transfers$destination)))
root &lt;- root[1:10]

## Perform contact tracing using tEnd and days.
trace_3 &lt;- Trace(movements = transfers,
                 root = root,
                 tEnd = "2005-10-31",
                 days = 91)

## Perform contact tracing using inBegin, inEnd
## outBegin and outEnd
trace_4 &lt;- Trace(movements = transfers,
                 root = root,
                 inBegin = rep("2005-08-01", length(root)),
                 inEnd = rep("2005-10-31", length(root)),
                 outBegin=rep("2005-08-01", length(root)),
                 outEnd=rep("2005-10-31", length(root)))

## Check that the result is identical
identical(trace_3, trace_4)
</code></pre>


</div>