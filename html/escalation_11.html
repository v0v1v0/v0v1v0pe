<div class="container">

<table style="width: 100%;"><tr>
<td>CorrelatedPatientSample</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A sample of patients that experience correlated events in simulations.</h2>

<h3>Description</h3>

<p>Class to house the latent random variables that govern toxicity and efficacy
events in patients. Instances of this class can be used in simulation-like
tasks to effectively use the same simulated individuals in different designs,
thus supporting reduced Monte Carlo error and more efficient comparison. This
class differs from <code>PatientSample</code> in that the latent variables
that underlie efficacy and toxicity events, and therefore those events
themselves, are correlated, e.g. for positive association, a patient that
experiences toxicity has increased probability of experiencing efficacy too.
Correlated uniformly-distributed variables are obtained by inverting
bivariate normal variables. The extent to which the events are correlated is
controlled by rho, the correlation of the two normal variables.
</p>


<h3>Super class</h3>

<p><code>escalation::PatientSample</code> -&gt; <code>CorrelatedPatientSample</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>num_patients</code></dt>
<dd>
<p>('integer(1)')<br></p>
</dd>
<dt><code>mu</code></dt>
<dd>
<p>('numeric(2)')<br></p>
</dd>
<dt><code>sigma</code></dt>
<dd>
<p>('matrix(2, 2)')<br></p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-CorrelatedPatientSample-new"><code>CorrelatedPatientSample$new()</code></a>
</p>
</li>
<li> <p><a href="#method-CorrelatedPatientSample-expand_to"><code>CorrelatedPatientSample$expand_to()</code></a>
</p>
</li>
<li> <p><a href="#method-CorrelatedPatientSample-clone"><code>CorrelatedPatientSample$clone()</code></a>
</p>
</li>
</ul>
<details open><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="escalation" data-topic="PatientSample" data-id="get_eff_u"><a href="../../escalation/html/PatientSample.html#method-PatientSample-get_eff_u"><code>escalation::PatientSample$get_eff_u()</code></a></span></li>
<li><span class="pkg-link" data-pkg="escalation" data-topic="PatientSample" data-id="get_patient_eff"><a href="../../escalation/html/PatientSample.html#method-PatientSample-get_patient_eff"><code>escalation::PatientSample$get_patient_eff()</code></a></span></li>
<li><span class="pkg-link" data-pkg="escalation" data-topic="PatientSample" data-id="get_patient_tox"><a href="../../escalation/html/PatientSample.html#method-PatientSample-get_patient_tox"><code>escalation::PatientSample$get_patient_tox()</code></a></span></li>
<li><span class="pkg-link" data-pkg="escalation" data-topic="PatientSample" data-id="get_tox_u"><a href="../../escalation/html/PatientSample.html#method-PatientSample-get_tox_u"><code>escalation::PatientSample$get_tox_u()</code></a></span></li>
<li><span class="pkg-link" data-pkg="escalation" data-topic="PatientSample" data-id="set_eff_and_tox"><a href="../../escalation/html/PatientSample.html#method-PatientSample-set_eff_and_tox"><code>escalation::PatientSample$set_eff_and_tox()</code></a></span></li>
</ul></details><hr>
<a id="method-CorrelatedPatientSample-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Creator.
</p>


<h5>Usage</h5>

<div class="r"><pre>CorrelatedPatientSample$new(
  num_patients = 0,
  time_to_tox_func = function() runif(n = 1),
  time_to_eff_func = function() runif(n = 1),
  rho = 0
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>num_patients</code></dt>
<dd>
<p>('integer(1)') Number of patients.</p>
</dd>
<dt><code>time_to_tox_func</code></dt>
<dd>
<p>('function') function taking no args that returns
a single time of toxicity, given that toxicity occurs.</p>
</dd>
<dt><code>time_to_eff_func</code></dt>
<dd>
<p>('function') function taking no args that returns
a single time of efficacy, given that efficacy occurs.</p>
</dd>
<dt><code>rho</code></dt>
<dd>
<p>('integer(1)') correlation of toxicity and efficacy latent
variables.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>[CorrelatedPatientSample].
</p>


<hr>
<a id="method-CorrelatedPatientSample-expand_to"></a>



<h4>Method <code>expand_to()</code>
</h4>

<p>Expand sample to size at least num_patients
</p>


<h5>Usage</h5>

<div class="r"><pre>CorrelatedPatientSample$expand_to(num_patients)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>num_patients</code></dt>
<dd>
<p>('integer(1)').</p>
</dd>
</dl>
</div>


<hr>
<a id="method-CorrelatedPatientSample-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>CorrelatedPatientSample$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>References</h3>

<p>Sweeting, M., Slade, D., Jackson, D., &amp; Brock, K. (2024).
Potential outcome simulation for efficient head-to-head comparison of
adaptive dose-finding designs. arXiv preprint arXiv:2402.15460
</p>


</div>