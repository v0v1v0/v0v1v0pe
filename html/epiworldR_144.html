<div class="container">

<table style="width: 100%;"><tr>
<td>epiworld-methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Methods for epiworldR objects</h2>

<h3>Description</h3>

<p>The functions described in this section are methods for objects of class
<code>epiworld_model</code>. Besides of printing and plotting, other methods provide
access to manipulate model parameters, getting information about the model
and running the simulation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">queuing_on(x)

queuing_off(x)

verbose_off(x)

verbose_on(x)

run(model, ndays, seed = sample.int(10000, 1))

## S3 method for class 'epiworld_model'
summary(object, ...)

get_states(x)

get_param(x, pname)

set_param(x, pname, pval)

set_name(x, mname)

get_name(x)

get_n_viruses(x)

get_n_tools(x)

get_ndays(x)

get_n_replicates(x)

size(x)

set_agents_data(model, data)

get_agents_data_ncols(model)

get_virus(model, virus_pos)

get_tool(model, tool_pos)

initial_states(model, proportions)

clone_model(model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>epiworld_model</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Model object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndays</code></td>
<td>
<p>Number of days (steps) of the simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Seed to set for initializing random number generator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object of class <code>epiworld_model</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pname</code></td>
<td>
<p>String. Name of the parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval</code></td>
<td>
<p>Numeric. Value of the parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mname</code></td>
<td>
<p>String. Name of the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A numeric matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>virus_pos</code></td>
<td>
<p>Integer. Relative location (starting from 0) of the virus
in the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tool_pos</code></td>
<td>
<p>Integer. Relative location (starting from 0) of the tool
in the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proportions</code></td>
<td>
<p>Numeric vector. Proportions in which agents will be
distributed (see details).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>verbose_on</code> and <code>verbose_off</code> functions activate and deactivate printing
progress on screen, respectively. Both functions return the model (<code>x</code>) invisibly.
</p>
<p><code>epiworld_model</code> objects are pointers to an underlying C++ class
in <code>epiworld</code>. To generate a copy of a model, use <code>clone_model</code>, otherwise,
the assignment operator will only copy the pointer.
</p>


<h3>Value</h3>


<ul><li>
<p> The <code>verbose_on</code> and <code>verbose_off</code> functions return the same model, however
<code>verbose_off</code> returns the model with no progress bar.
</p>
</li></ul>
<ul><li>
<p> The <code>run</code> function returns the simulated model of class <code>epiworld_model</code>.
</p>
</li></ul>
<ul><li>
<p> The <code>summary</code> function prints a more detailed view of the model, and returns the same model invisibly.
</p>
</li></ul>
<ul><li>
<p> The <code>get_states</code> function returns the unique states found in a model.
</p>
</li></ul>
<ul><li>
<p> The <code>get_param</code> function returns a selected parameter from the model object
of class <code>epiworld_model</code>.
</p>
</li></ul>
<ul><li>
<p> The <code>set_param</code> function does not return a value but instead alters a
parameter value.
</p>
</li></ul>
<ul><li>
<p> The <code>set_name</code> function does not return a value but instead alters an object
of <code>epiworld_model</code>.
</p>
</li></ul>
<ul><li> <p><code>get_name</code> returns the name of the model.
</p>
</li></ul>
<ul><li> <p><code>get_n_viruses</code> returns the number of viruses of the model.
</p>
</li></ul>
<ul><li> <p><code>get_n_tools</code> returns the number of tools of the model.
</p>
</li></ul>
<ul><li> <p><code>get_ndays</code> returns the number of days of the model.
</p>
</li></ul>
<ul><li> <p><code>get_n_replicates</code> returns the number of replicates of the model.
</p>
</li></ul>
<ul><li> <p><code>size.epiworld_model</code> returns the number of agents in the model.
</p>
</li></ul>
<ul><li>
<p> The 'set_agents_data' function returns an object of class DataFrame.
</p>
</li></ul>
<ul><li>
<p> 'get_agents_data_ncols' returns the number of columns in the model dataframe.
</p>
</li></ul>
<ul><li>
<p> 'get_virus' returns a virus.
</p>
</li></ul>
<ul><li> <p><code>get_tool</code> returns a tool.
</p>
</li></ul>
<ul><li> <p><code>inital_states</code> returns the model with an updated initial state.
</p>
</li></ul>
<ul><li> <p><code>clone_model</code> returns a copy of the model.
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">
model_sirconn &lt;- ModelSIRCONN(
name                = "COVID-19",
n                   = 10000,
prevalence          = 0.01,
contact_rate        = 5,
transmission_rate   = 0.4,
recovery_rate       = 0.95
)

# Queuing - If you wish to implement the queuing function, declare whether 
# you would like it "on" or "off", if any. 
queuing_on(model_sirconn)
queuing_off(model_sirconn)
run(model_sirconn, ndays = 100, seed = 1912)

# Verbose - "on" prints the progress bar on the screen while "off" 
# deactivates the progress bar. Declare which function you want to implement, 
# if any. 
verbose_on(model_sirconn)
verbose_off(model_sirconn)
run(model_sirconn, ndays = 100, seed = 1912)

get_states(model_sirconn) # Returns all unique states found within the model.

get_param(model_sirconn, 'Contact rate') # Returns the value of the selected 
                                         # parameter within the model object.
                                         # In order to view the parameters, 
                                         # run the model object and find the 
                                         # "Model parameters" section. 

set_param(model_sirconn, 'Contact rate', 2) # Allows for adjustment of model 
                                            # parameters within the model 
                                            # object. In this example, the 
                                            # Contact rate parameter is 
                                            # changed to 2. You can now rerun 
                                            # the model to observe any 
                                            # differences.
                                            
set_name(model_sirconn, 'My Epi-Model') # This function allows for setting 
                                        # a name for the model. Running the 
                                        # model object, the name of the model
                                        # is now reflected next to "Name of 
                                        # the model". 
                                        
get_name(model_sirconn) # Returns the set name of the model. 

get_n_viruses(model_sirconn) # Returns the number of viruses in the model. 
                              # In this case, there is only one virus:
                              # "COVID-19". 
                              
get_n_tools(model_sirconn) # Returns the number of tools in the model. In 
                           # this case, there are zero tools.  
                           
get_ndays(model_sirconn) # Returns the length of the simulation in days. This
                         # will match "ndays" within the "run" function. 
                         
get_n_replicates(model_sirconn) # Returns the number of replicates of the 
                                # model. 
                                
size(model_sirconn) # Returns the population size in the model. In this case, 
                    # there are 10,000 agents in the model. 
# Set Agents Data
# First, your data matrix must have the same number of rows as agents in the 
# model. Below is a generated matrix which will be passed into the 
# "set_agents_data" function. 
data &lt;- matrix(data=runif(20000, min=0, max=100), nrow=10000, ncol=2)                   
set_agents_data(model_sirconn, data)
get_agents_data_ncols(model_sirconn) # Returns number of columns 

get_virus(model_sirconn, 0) # Returns information about the first virus in 
                            # the model (index begins at 0).

add_tool(model_sirconn, tool("Vaccine", .9, .9, .5, 1, prevalence = 0.5, as_prop = TRUE))                            
get_tool(model_sirconn, 0) # Returns information about the first tool in the 
                           # model. In this case, there are no tools so an 
                           # error message will occur. 
</code></pre>


</div>