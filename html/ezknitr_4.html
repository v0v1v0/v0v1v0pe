<div class="container">

<table style="width: 100%;"><tr>
<td>ezknitr_core</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Knit Rmd or spin R files without the typical pain of working directories</h2>

<h3>Description</h3>

<p><code>ezknitr</code> is an extension of <code>knitr</code> that adds flexibility in several
ways. One common source of frustration with <code>knitr</code> is that it assumes
the directory where the source file lives should be the working directory,
which is often not true. <code>ezknitr</code> addresses this problem by giving you
complete control over where all the inputs and outputs are, and adds several
other convenient features. The two main functions are <code>ezknit</code> and 
<code>ezspin</code>, which are wrappers around <code>knitr</code>'s <code>knit</code> and
<code>spin</code>, used to make rendering markdown/HTML documents easier.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ezspin(
  file,
  wd,
  out_dir,
  fig_dir,
  out_suffix,
  params = list(),
  verbose = FALSE,
  chunk_opts = list(tidy = FALSE),
  keep_rmd = FALSE,
  keep_md = TRUE,
  keep_html = TRUE,
  move_intermediate_file = TRUE,
  ...
)

ezknit(
  file,
  wd,
  out_dir,
  fig_dir,
  out_suffix,
  params = list(),
  verbose = FALSE,
  chunk_opts = list(tidy = FALSE),
  keep_md = TRUE,
  keep_html = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>The path to the input file (.Rmd file if using <code>ezknit</code> or 
.R script if using <code>ezspin</code>). If <code>wd</code> is provided, then this path is 
relative to <code>wd</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wd</code></td>
<td>
<p>The working directory to be used in the Rmd/R script. Defaults to
the current working directory (note that this is not the same behaviour as
<code>knitr</code>). See the 'Detailed Arguments' section for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_dir</code></td>
<td>
<p>The output directory for the rendered markdown or HTML files
(if <code>wd</code> is provided, then this path is relative to <code>wd</code>).
Defaults to the directory containing the input file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fig_dir</code></td>
<td>
<p>The name (or path) of the directory where figures should
be generated. See the 'Detailed Arguments' section for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_suffix</code></td>
<td>
<p>A suffix to add to the output files. Can be used to
differentiate outputs from runs with different parameters. The name of the
output files is the name of the input file appended by <code>out_suffix</code>,
separated by a dash.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>A named list of parameters to be passed to use in the input
Rmd/R file. For example, if the script to execute assumes that there is a
variable named <code>DATASET_NAME</code>, then you can use
<code>params = list('DATASET_NAME' = 'oct10dat')</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If TRUE, then show the progress of knitting the document.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chunk_opts</code></td>
<td>
<p>List of knitr chunk options to use. See 
<code>?knitr::opts_chunk</code> for a list of available chunk options.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_rmd, keep_md</code></td>
<td>
<p>Should intermediate <code>Rmd</code> or <code>md</code> files be
kept (<code>TRUE</code>) or deleted (<code>FALSE</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_html</code></td>
<td>
<p>Should the final <code>html</code> file be kept (<code>TRUE</code>)
or deleted (<code>FALSE</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>move_intermediate_file</code></td>
<td>
<p>Should the intermediate <code>Rmd</code> file be
moved to the output folder (<code>TRUE</code>) or stay in the same folder as
the source <code>R</code> file (<code>FALSE</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any extra parameters that should be passed to <code>knitr::spin</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If you have a very simple project with a flat directory structure, then
<code>knitr</code> works great. But even something as simple as trying to knit a 
document that reads a file from a different directory or placing the output 
rendered files in a different folder cannot be easily done with <code>knitr</code>.
</p>
<p><code>ezknitr</code> improves basic <code>knitr</code> functionality in a few ways.
You get to decide:
</p>

<ul>
<li>
<p> What the working directory of the source file is
</p>
</li>
<li>
<p> Where the output files will go
</p>
</li>
<li>
<p> Where the figures used in the markdown will go
</p>
</li>
<li>
<p> Any parameters to pass to the source file
</p>
</li>
</ul>
<h3>Value</h3>

<p>The path to the output directory (invisibly).
</p>


<h3>Detailed Arguments</h3>

<p>All paths given in the arguments can be either absolute or relative.
</p>
<p>The <code>wd</code> argument is very important and is set to the current working
directory by default. The path of the input file and the path of the output
directory are both relative to <code>wd</code> (unless they are absolute paths).
Moreover, any code in the R script that reads or writes files will use
<code>wd</code> as the working directory.
</p>
<p>The <code>fig_dir</code> argument is relative to the output directory, since the
figures accompanying a markdown file should be placed in the same
directory. It is recommended to either leave <code>fig_dir</code> as default or
set it to a different name but not to a different directory. Because of the
way <code>knitr</code> works, there are a few known minor issues if <code>fig_dir</code>
is set to a different directory.
</p>


<h3>Difference between ezknit and ezspin</h3>

<p><code>ezknit</code> is a wrapper around <code>knitr::knit</code> while <code>ezspin</code>
is a wrapper around <code>ezspin</code>. The two functions are very similar.
<code>knit</code> is the more popular and well-known function. It is used
to render a markdown/HTML document from an Rmarkdown source. 
<code>spin</code> takes an R script as its input, produces an
Rmarkdown document from the R script, and then calls <code>knit</code> on it.
</p>


<h3>See Also</h3>

<p><code>open_output_dir</code>
<code>setup_ezknit_test</code>
<code>setup_ezspin_test</code>
<code>set_default_params</code>
<code>knit</code>
<code>spin</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
   tmp &lt;- setup_ezknit_test()
   ezknit("R/ezknit_test.Rmd", wd = "ezknitr_test")
   ezknit("R/ezknit_test.Rmd", wd = "ezknitr_test",
          out_dir = "output", fig_dir = "coolplots",
          params = list(numPoints = 50))
   open_output_dir()
   unlink(tmp, recursive = TRUE, force = TRUE)
 
   tmp &lt;- setup_ezspin_test()
   ezspin("R/ezspin_test.R", wd = "ezknitr_test")
   ezspin("R/ezspin_test.R", wd = "ezknitr_test",
          out_dir = "output", fig_dir = "coolplots",
          params = list(numPoints = 50), keep_rmd = TRUE)
   open_output_dir()
   unlink(tmp, recursive = TRUE, force = TRUE)

## End(Not run)
</code></pre>


</div>