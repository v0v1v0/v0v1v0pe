<div class="container">

<table style="width: 100%;"><tr>
<td>get_mtpi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get an object to fit the mTPI dose-finding model.</h2>

<h3>Description</h3>

<p>The modified toxicity probability interval (mTPI)is a dose-escalation design
by Ji et al. As the name suggests, it is an adaptation of the TPI design.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_mtpi(
  parent_selector_factory = NULL,
  num_doses,
  target,
  epsilon1,
  epsilon2,
  exclusion_certainty,
  alpha = 1,
  beta = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>parent_selector_factory</code></td>
<td>
<p>Object of type <code>selector_factory</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_doses</code></td>
<td>
<p>Number of doses under investigation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>We seek a dose with this probability of toxicity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsilon1</code></td>
<td>
<p>This parameter determines the lower bound of the
equivalence interval. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsilon2</code></td>
<td>
<p>This parameter determines the upper bound of the
equivalence interval. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclusion_certainty</code></td>
<td>
<p>Numeric, threshold posterior certainty required to
exclude a dose for being excessively toxic. The authors discuss values in the
range 0.7 - 0.95. Set to a value &gt; 1 to suppress the dose exclusion
mechanism. The authors use the Greek letter xi for this parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>First shape parameter of the beta prior distribution on the
probability of toxicity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>Second shape parameter of the beta prior distribution on the
probability of toxicity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra args are passed onwards.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of type <code>selector_factory</code> that can fit the
TPI model to outcomes.
</p>


<h3>Details</h3>

<p>The design seeks a dose with probability of toxicity <code class="reqn">p_{i}</code>
close to a target probability <code class="reqn">p_{T}</code> by iteratively calculating the
interval </p>
<p style="text-align: center;"><code class="reqn">p_{T} - \epsilon_{1} &lt; p_{i} &lt; p_{T} + \epsilon_{2}</code>
</p>

<p>In this model, <code class="reqn">\epsilon_{1}</code> and <code class="reqn">\epsilon_{2}</code> are specified
constants. <code class="reqn">p_{i}</code> is estimated by a Bayesian beta-binomial conjugate
model </p>
<p style="text-align: center;"><code class="reqn">p_{i} | data \sim Beta(\alpha + x_{1}, \beta + n_{i} - x_{i}),</code>
</p>

<p>where <code class="reqn">x_{i}</code> is the number of toxicities observed and <code class="reqn">n_{i}</code> is the
number of patients treated at dose <code class="reqn">i</code>, and <code class="reqn">\alpha</code> and <code class="reqn">\beta</code>
are hyperparameters for the beta prior on <code class="reqn">p_{i}</code>.
A dose is excluded as inadmissible if
</p>
<p style="text-align: center;"><code class="reqn">P(p_{i} &gt; p_{T} | data) &gt; \xi</code>
</p>

<p>The trial commences at a starting dose, possibly dose 1. If dose <code class="reqn">i</code>
has just been evaluated in patient(s), dose selection decisions proceed by
calculating the unit probability mass of the true toxicity rate at dose
<code class="reqn">i</code> using the partition of the probability space
<code class="reqn">p_{i} &lt; p_{T} - \epsilon_{1}</code>,
<code class="reqn">p_{T} - \epsilon_{1} &lt; p_{i} &lt; p_{T} + \epsilon_{2}</code>, and
<code class="reqn">p_{i} &gt; p_{T} + \epsilon_{2}</code>.
The unit probability mass (UPM) of an interval is the posterior probability
that the true toxicity rate belongs to the interval divided by the width of
the interval. The interval with maximal UPM determines the recommendation for
the next patient(s), with the intervals corresponding to decisions tp
escalate, stay, and de-escalate dose, respectively. Further to this are rules
that prevent escalation to an inadmissible dose.
In their paper, the authors demonstrate acceptable operating performance
using <code class="reqn">\alpha = \beta = 1</code>, <code class="reqn">K_{1} = 1</code>, <code class="reqn">K_{2} = 1.5</code> and
<code class="reqn">\xi = 0.95</code>.
See the publications for full details.
</p>


<h3>References</h3>

<p>Ji, Y., Liu, P., Li, Y., &amp; Bekele, B. N. (2010).
A modified toxicity probability interval method for dose-finding trials.
Clinical Trials, 7(6), 653-663. https://doi.org/10.1177/1740774510382799
</p>
<p>Ji, Y., &amp; Yang, S. (2017).
On the Interval-Based Dose-Finding Designs, 1-26.
Retrieved from https://arxiv.org/abs/1706.03277
</p>


<h3>Examples</h3>

<pre><code class="language-R">target &lt;- 0.25
model1 &lt;- get_mtpi(num_doses = 5, target = target, epsilon1 = 0.05,
  epsilon2 = 0.05, exclusion_certainty = 0.95)

outcomes &lt;- '1NNN 2NTN'
model1 %&gt;% fit(outcomes) %&gt;% recommended_dose()

</code></pre>


</div>