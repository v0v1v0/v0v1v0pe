<div class="container">

<table style="width: 100%;"><tr>
<td>Dat_EBcoBART</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convenience function to correctly specify co-data matrix if X contains
factor variables.</h2>

<h3>Description</h3>

<p>The R package dbarts uses dummy encoding for factor variables so
the co-data matrix should contain co-data information for each dummy.
If co-data #' is only available for the factor as a whole
(e.g. factor belongs to a group), #' use this function to set-up the co-data
in the right-format #' for the EBcoBART function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Dat_EBcoBART(X, CoData)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Explanatory variables. Should be a data.frame. The function is only
useful when X contains factor variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CoData</code></td>
<td>
<p>The co-data model matrix with co-data information on
explanatory variables in X. Should be a matrix, so not a data.frame.
If grouping information is present, please encode this yourself using dummies
with dummies representing which group a explanatory variable belongs to.
The number of rows of the co-data matrix should equal the number
of columns of X.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list object with X: the explanatory variables with factors encoded
as dummies and CoData: the co-data matrix with now co-data for all dummies.
</p>


<h3>Author(s)</h3>

<p>Jeroen M. Goedhart, <a href="mailto:j.m.goedhart@amsterdamumc.nl">j.m.goedhart@amsterdamumc.nl</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">p &lt;- 15
n &lt;- 30
X &lt;- matrix(runif(n*p),nrow = n, ncol = p) #all continuous variables
Fact &lt;- factor(sample(1:3,n,replace = TRUE)) # factor variables
X &lt;- cbind.data.frame(X,Fact)
G &lt;- 4   #number of groups for co-data
CoDat &lt;- rep(1:G, rep(ncol(X)/G,G)) # first 4 covariates in group 1,
#2nd 4 covariates in group 2, etc..
CoDat &lt;- data.frame(factor(CoDat))
CoDat &lt;- stats::model.matrix(~0+., CoDat) # encode the grouping structure
# with dummies
Dat &lt;- Dat_EBcoBART(X = X, CoData = CoDat) #
X &lt;- Dat$X
CoData &lt;- Dat$CoData

</code></pre>


</div>