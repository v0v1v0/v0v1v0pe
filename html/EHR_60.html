<div class="container">

<table style="width: 100%;"><tr>
<td>build-internal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Internal functions for buildDose process</h2>

<h3>Description</h3>

<p>These internal functions aid the <code>buildDose</code> function and process.
</p>


<h3>Details</h3>

<p><code>tstrsplit2</code>: a wrapper for the <code>tstrsplit</code> function in <span class="pkg">data.table</span> 
with some additional formatting 
</p>
<p><code>convert</code>: formats final results that are returned in <code>buildDose</code>, including 
separating the extracted expression from its start and stop position
</p>
<p><code>entVal</code>: isolates the extracted expression from a string of the format 
"extracted expression::start position::stop position"
</p>
<p><code>entStart</code>: isolates the start position from a string of the format 
"extracted expression::start position::stop position"
</p>
<p><code>entStop</code>: isolates the stop position from a string of the format 
"extracted expression::start position::stop position"
</p>
<p><code>remainder</code>: performs some formatting for paths containing NA values
</p>
<p><code>getCombosIx</code>: forms the individual paths within the <code>getPaths</code> function
</p>
<p><code>getPaths</code>: builds paths from entity pairings using other helper function <code>getCombosIx</code>
</p>
<p><code>getOpt</code>: takes in the possible paths as well as the cost computations from <code>getCosts</code>, 
combines costs at the path level using the helper functions <code>remainder</code> and <code>getPaths</code>, 
and returns the path with the minimum cost
</p>
<p><code>getCosts</code>: computes the distance for each path based on the distance method specified in <code>buildDose</code> 
</p>
<p><code>findOptPath</code>: uses the helper functions <code>getCosts</code> and <code>getOpt</code> to 
determine the optimal path based on the selected distance method
</p>
<p><code>stdRoute</code>: standardize the "route" entity. This function is also used in the 
<code>collapseDose</code> function and process.
</p>
<p><code>grp</code>: groups drug entities based on a particular anchor point (e.g. strength 
or dose)
</p>
<p><code>anchorByStrength</code>: forms subgroups of entities by anchoring to strength. This is done within existing groups 
which are anchored by drug name
</p>
<p><code>combineGroups</code>: determines how to form groups of the entities based on the complexity of the extraction (i.e., 
number of extractions for each entity)
</p>
<p><code>makeCombos</code>: takes all extracted entities and puts them into groups based on position and minimum cost of paths. 
This is the highest level function within <code>buildDose</code>; it calls other helper functions including <code>combineGroups</code> 
and <code>anchorByStrength</code>.
</p>
<p><code>findRareValues</code>: find rare values for each column in a data.frame; rare defaults to less than two percent.
</p>


</div>