<div class="container">

<table style="width: 100%;"><tr>
<td>generate_random_community</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pseudo-random community generator</h2>

<h3>Description</h3>

<p>This function generates a random community sample dataset
that has a user-specified Shannon diversity index, species number, and
total abundance.
</p>


<h3>Usage</h3>

<pre><code class="language-R">generate_random_community(
  H_index,
  shannon.base = exp(1),
  sp_num,
  ntotal,
  tol = 1e-04,
  maxiter = 100,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>H_index</code></td>
<td>
<p>The value of the generated communty Shannon diversity
index H'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shannon.base</code></td>
<td>
<p>A numeric value indicating the logarithm base for the
Shanon indices. Defaults to <em>e</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sp_num</code></td>
<td>
<p>Numeric. The number of species in the generated community
sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntotal</code></td>
<td>
<p>Numeric. The total number of individuals in the generated
community sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Numeric. The tolerance of the diffrence of the diversity index
of the generated community relative abundance and the H_index argument.
Defaults to 0.0001.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>
<p>Numeric. The maximum number of iterations to be performed.
Defaults to 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Logical. Indicates if convergence success or failure
messages are omitted. Defaults to FALSE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function generates random community sample data: a numeric
vector whose elements represent a sample. The generated sample data is
composed of a number of species with a total number of individuals set by
the user, such that the community has a Shannon diversity index
approximately equal to a user-specified argument.
</p>


<h3>Value</h3>

<p>A list containing the following components:
</p>

<ul>
<li>
<p> community: If convergence is successful, a numeric vector with
the abundance of each species, else <em>NA</em>
</p>
</li>
<li>
<p> n_ite: If convergence is successful, the number of iterations
used to achieve convergence, else <em>NA</em>
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>David Ramirez Delgado <a href="mailto:linfocitoth1@gmail.com">linfocitoth1@gmail.com</a>
</p>
<p>Hugo Salinas <a href="mailto:hugosal@comunidad.unam.mx">hugosal@comunidad.unam.mx</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate a community with diversity index 2, composed of 20 species
# and 200 total individuals sampled
set.seed(26)
result &lt;- generate_random_community(H_index = 2.7, sp_num = 20, ntotal = 200,
 maxiter = 300)
random_community &lt;- result$community

#Compute H index
total &lt;- sum(random_community)
-sum(random_community/total*log(random_community/total))

#Default maxiter argument will not converge
set.seed(26)
generate_random_community(H_index = 2.7, sp_num = 20, ntotal = 200)
</code></pre>


</div>