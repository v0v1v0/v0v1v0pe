<div class="container">

<table style="width: 100%;"><tr>
<td>ui_epoxy_markdown</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Epoxy Markdown Template for Shiny</h2>

<h3>Description</h3>

<p>Create reactive HTML from a Markdown template. <code>ui_epoxy_markdown()</code> uses the
same template syntax as <code>ui_epoxy_html()</code>, but rather than requiring HTML
inputs, you can write in markdown. The template is first rendered from
markdown to HTML using <code>pandoc::pandoc_convert()</code> (if <span class="pkg">pandoc</span> is
available) or <code>commonmark::markdown_html()</code> otherwise.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ui_epoxy_markdown(
  .id,
  ...,
  .markdown_fn = NULL,
  .markdown_args = list(),
  .class = NULL,
  .style = NULL,
  .item_tag = "span",
  .item_class = NULL,
  .placeholder = "",
  .sep = "",
  .open = "{{",
  .close = "}}",
  .na = "",
  .null = "",
  .literal = FALSE,
  .trim = FALSE,
  .aria_live = c("polite", "off", "assertive"),
  .aria_atomic = TRUE,
  .class_item = deprecated(),
  .container = deprecated(),
  .container_item = deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.id</code></td>
<td>
<p>The output id</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Unnamed arguments are treated as lines of markdown text, and named
arguments are treated as initial values for templated variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.markdown_fn</code></td>
<td>
<p>The function used to convert the markdown to HTML. This
function is passed the markdown text as a character vector for the first
argument and any additional arguments from the list <code>.markdown_args</code>. By
default, we use <code>pandoc::pandoc_convert()</code> if <span class="pkg">pandoc</span> is available,
otherwise we use <code>commonmark::markdown_html()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.markdown_args</code></td>
<td>
<p>A list of arguments to pass to
<code>commonmark::markdown_html()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.class, .style</code></td>
<td>
<p>Classes and inline style directives added to the
<code style="white-space: pre;">⁠&lt;epoxy-html&gt;⁠</code> container into which the elements in <code>...</code> are placed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.item_tag, .item_class</code></td>
<td>
<p>The HTML element tag name and classes used to
wrap each template variable. By default, each template is wrapped in a
<code style="white-space: pre;">⁠&lt;span&gt;⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.placeholder</code></td>
<td>
<p>Default placeholder if a template variable placeholder
isn't provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.sep</code></td>
<td>
<p>[<code>character(1)</code>: ‘""’]<br> Separator used to separate elements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.open</code></td>
<td>
<p>[<code>character(1)</code>: ‘\{’]<br> The opening delimiter around
the template variable or expression. Doubling the full delimiter escapes
it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.close</code></td>
<td>
<p>[<code>character(1)</code>: ‘\}’]<br> The closing delimiter
around the template variable or expression. Doubling the full delimiter
escapes it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.na</code></td>
<td>
<p>[<code>character(1)</code>: ‘NA’]<br> Value to replace <code>NA</code> values
with. If <code>NULL</code> missing values are propagated, that is an <code>NA</code> result will
cause <code>NA</code> output. Otherwise the value is replaced by the value of <code>.na</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.null</code></td>
<td>
<p>[<code>character(1)</code>: ‘character()’]<br> Value to replace
NULL values with. If <code>character()</code> whole output is <code>character()</code>. If
<code>NULL</code> all NULL values are dropped (as in <code>paste0()</code>). Otherwise the
value is replaced by the value of <code>.null</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.literal</code></td>
<td>
<p>[<code>boolean(1)</code>: ‘FALSE’]<br> Whether to treat single or
double quotes, backticks, and comments as regular characters (vs. as
syntactic elements), when parsing the expression string. Setting <code>.literal = TRUE</code> probably only makes sense in combination with a custom
<code>.transformer</code>, as is the case with <code>glue_col()</code>. Regard this argument
(especially, its name) as experimental.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.trim</code></td>
<td>
<p>[<code>logical(1)</code>: ‘TRUE’]<br> Whether to trim the input
template with <code>trim()</code> or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.aria_live, .aria_atomic</code></td>
<td>
<p>The
<a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-live">aria-live</a>
and <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-atomic">aria-atomic</a>
attribute values for the entire template region. By default, with
<code>"polite"</code>, any updates within the region will be announced via screen
readers.
</p>
<p>If your template includes changes in lots of disparate areas, it would be
better to set <code>"aria-live" = "polite"</code> and <code>"aria-atomic" = "true"</code> on
specific regions that should be announced together. Otherwise, the default
is to announce the entire region within the <code>ui_epoxy_html()</code> whenever any
of the values within change. In other words, set <code>.aria_live = "off"</code> and
<code>.aria_atomic = NULL</code> on the <code>ui_epoxy_html()</code> parent item and then set
<code>"aria-live" = "polite"</code> and <code>"aria-atomic" = "true"</code> on the parent
containers of each region in the app that receives updates.
<code>ui_epoxy_html()</code> does targeted updates, changing only the parts of the
UI that have changed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.class_item</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> Deprecated in
<span class="pkg">epoxy</span> v1.0.0, please use <code>.item_class</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.container</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> Deprecated in
<span class="pkg">epoxy</span> v1.0.0, where the container is now always <code style="white-space: pre;">⁠&lt;epoxy-html&gt;⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.container_item</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> Deprecated in
<span class="pkg">epoxy</span> v1.0.0, please use <code>.item_tag</code> instead.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An HTML object.
</p>


<h3>See Also</h3>

<p><code>ui_epoxy_html()</code>, <code>ui_epoxy_mustache()</code>, <code>render_epoxy()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(shiny)

# Shiny epoxy template functions don't support inline transformations,
# so we still have to do some prep work ourselves.
bechdel &lt;- epoxy::bechdel

as_dollars &lt;- scales::label_dollar(
  scale_cut = scales::cut_short_scale()
)
bechdel$budget &lt;- as_dollars(bechdel$budget)
bechdel$domgross &lt;- as_dollars(bechdel$domgross)

vowels &lt;- c("a", "e", "i", "o", "u")
bechdel$genre  &lt;- paste(
  ifelse(substr(tolower(bechdel$genre), 1, 1) %in% vowels, "an", "a"),
  tolower(bechdel$genre)
)

movie_ids &lt;- rlang::set_names(
  bechdel$imdb_id,
  bechdel$title
)

ui &lt;- fixedPage(
  fluidRow(
    column(
      width = 3,
      selectInput("movie", "Movie", movie_ids),
      uiOutput("poster")
    ),
    column(
      width = 9,
      ui_epoxy_markdown(
        .id = "about_movie",
        "
## {{title}}

**Released:** {{ year }} \\
**Rated:** {{ rated }} \\
**IMDB Rating:** {{ imdb_rating }}

_{{ title }}_ is {{ genre }} film released in {{ year }}.
It was filmed in {{ country }} with a budget of {{ budget }}
and made {{ domgross }} at the box office.
_{{ title }}_ recieved a Bechdel rating of **{{ bechdel_rating }}**
for the following plot:

&gt; {{ plot }}
"
      )
    )
  )
)

server &lt;- function(input, output, session) {
  movie &lt;- reactive({
    bechdel[bechdel$imdb_id == input$movie, ]
  })

  output$about_movie &lt;- render_epoxy(.list = movie())
  output$poster &lt;- renderUI(
    img(
      src = movie()$poster,
      alt = paste0("Poster for ", movie()$title),
      style = "max-height: 400px; max-width: 100%; margin: 0 auto; display: block;"
    )
  )
}

if (interactive()) {
  shinyApp(ui, server)
}


run_epoxy_example_app("ui_epoxy_markdown")

</code></pre>


</div>