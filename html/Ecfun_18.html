<div class="container">

<table style="width: 100%;"><tr>
<td>Date3to1</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Convert three YMD vectors to a Date 
</h2>

<h3>Description</h3>

<p>Given a <code>data.frame</code> with 3 columns, 
assume they represent Year, Month and Day and 
return a vector of class <code>Date</code>.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">Date3to1(data, default='Start')
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>a <code>data.frame</code> with 3 columns 
assumed to represent Year, Month and Day.    
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default</code></td>
<td>

<p>A character string to indicate how missing 
months and days should be treated.  If the 
first letter is "S" or "s", the default 
month will be 1 and the default day will be 
1.  Otherwise, "End" is assumed, for which 
the default month will be 12 and the default 
day will be the last day of the month.  
</p>
<p>NOTE:  Any number outside the range of 1 to 
the last day of the month is considered 
missing and its subscript is noted in the 
optional attribute "missing".  
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The data sets from the 
<a href="https://correlatesofwar.org/data-sets/COW-war/">Correlates 
of War</a> project include dates coded in triples 
of columns with names like 
</p>
<p><code>c("StartMonth1", "StartDay1", "StartYear1",
  "EndMonth1", ..., "EndYear2")</code>.  
</p>
<p>This function will accept one triple and
translate it into a vector of class <code>Date</code>. 
</p>


<h3>Value</h3>

<p>Returns an object of class <code>Date</code> with an 
optional attribute <code>missing</code> giving the 
indices of any elements with missing months or 
days, for which a default month or day was 
supplied.  
</p>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code>dateCols</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">date.frame &lt;- data.frame(Year=c(NA, -1, 1971:1979), 
      Month=c(1:2, -1, NA, 13, 2, 12, 6:9), 
      Day=c(0, 0:6, NA, -1, 32) )
     
DateVecS &lt;- Date3to1(date.frame)
DateVecE &lt;- Date3to1(date.frame, "End")
                         
# check 
na &lt;- c(1:5, 9:11)
DateVs &lt;- as.Date(c(NA, NA, 
  '1971-01-01', '1972-01-01', '1973-01-01', 
  '1974-02-04', '1975-12-05', '1976-06-06', 
  '1977-07-01', '1978-08-01', '1979-09-01') ) 
DateVe &lt;- as.Date(c(NA, NA, 
  '1971-12-31', '1972-12-31', '1973-12-31', 
  '1974-02-04', '1975-12-05', '1976-06-06', 
  '1977-07-31', '1978-08-31', '1979-09-30') ) 

attr(DateVs, 'missing') &lt;- na
attr(DateVe, 'missing') &lt;- na


all.equal(DateVecS, DateVs)


all.equal(DateVecE, DateVe)

</code></pre>


</div>