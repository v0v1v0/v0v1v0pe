<div class="container">

<table style="width: 100%;"><tr>
<td>offset.to.dummy.metadata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert trees produced by a BEAST2 FBD analysis with offset to trees with correct ages,
accounting for possible metadata on the tips.</h2>

<h3>Description</h3>

<p>This method adds a dummy tip at the present (t = 0) to fully extinct trees with offsets,
in order to have correct ages (otherwise the most recent tip is assumed to be at 0).
This is a workaround to get the proper ages of the trees into other tools such as TreeAnnotator.
</p>


<h3>Usage</h3>

<pre><code class="language-R">offset.to.dummy.metadata(
  trees.file,
  log.file,
  output.file = NULL,
  dummy.name = "dummy"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>trees.file</code></td>
<td>
<p>path to BEAST2 output file containing posterior trees</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log.file</code></td>
<td>
<p>path to BEAST2 trace log file containing offset values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.file</code></td>
<td>
<p>path to file to write converted trees. If <code>NULL</code> (default), trees are simply returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dummy.name</code></td>
<td>
<p>name of the added dummy tip, default <code>dummy</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list of converted trees (as treedata)
</p>


<h3>See Also</h3>

<p><code>offset.to.dummy()</code> (faster version discarding metadata)
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Convert trees with offset to trees with dummy tip
trees_file &lt;- system.file("extdata", "ex_offset.trees", package = "EvoPhylo")
log_file &lt;- system.file("extdata", "ex_offset.log", package = "EvoPhylo")
converted_trees &lt;- offset.to.dummy.metadata(trees_file, log_file)

# Do something with the converted trees - for instance, calculate the MCC summary tree
# Then remove the dummy tip from the MCC tree
final_tree &lt;- drop.dummy.beast(system.file("extdata", "ex_offset.MCC.tre", package = "EvoPhylo"))

</code></pre>


</div>