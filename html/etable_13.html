<div class="container">

<table style="width: 100%;"><tr>
<td>tabular.ade</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Tabular representation of a wide selection of statistics
</h2>

<h3>Description</h3>

<p>Creates simple to highly customized tables for a wide selection of descriptive statistics, with or without weighting the data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tabular.ade(x_vars, xname=NULL, y_vars=NULL, yname=NULL,
            z_vars=NULL, zname=NULL,
            rows=NULL, rnames=NULL, cols=NULL, cnames=NULL, w=NULL,
            data=NULL, FUN, allnames=FALSE, nonames=TRUE, alllabel='Total',
            inset='?', remove='', n_min=0, ...)


</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x_vars</code></td>
<td>

<p>This variable will be used to calculate the statistics for it.
</p>

<ul>
<li>
<p> a character string with the name of the variable in the data.frame 
</p>
</li>
<li>
<p> a vector of character strings with names of variables in data.frame
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xname</code></td>
<td>

<p>Labels for x.
</p>

<ul>
<li>
<p> a character string with the label for x 
</p>
</li>
<li>
<p> a vector of character strings with labels for x, with the same length as x. 
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_vars</code></td>
<td>

<p>This variable can be used to calculate bivariable statistics.
</p>

<ul>
<li>
<p> a character string with the name of the variable in the data.frame 
</p>
</li>
<li>
<p> a vector of character strings with names of variables in data.frame
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yname</code></td>
<td>

<p>Labels for y.
</p>

<ul>
<li>
<p> a character string with the label for y 
</p>
</li>
<li>
<p> a vector of character strings with labels for y, with same length as x. 
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z_vars</code></td>
<td>

<p>This variable can be used for additional calculations.
</p>

<ul><li>
<p> a character string with the name of the variable in the data.frame 
</p>
</li></ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zname</code></td>
<td>

<p>Labels for z.
</p>

<ul><li>
<p> a character string with the label for y
</p>
</li></ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>

<p>These factors will be used to separate the rows of the table in subgroups.
</p>

<ul>
<li>
<p> a character string with the name of the factor variable in the data.frame 
</p>
</li>
<li>
<p> a vector of character strings with names of factor variables in data.frame (max 6)
</p>
</li>
<li>
<p> a vector with names of factors and/or Keyword 'ALL' adds extra overall group for leading factor.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rnames</code></td>
<td>

<p>Labels for rows.
</p>

<ul>
<li>
<p> a character string with the label for rows 
</p>
</li>
<li>
<p> a vector of character strings with labels for rows, with same length as rows. 
</p>
</li>
<li>
<p> a vector with names of factors and/or keyword 'ALL' adds extra overall group for leading factor.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>

<p>These factors will be used to separate the columns of the table in subgroups.
</p>

<ul>
<li>
<p> a character string with the name of the factor variable in the data.frame 
</p>
</li>
<li>
<p> a vector of character strings with names of factor variables in data.frame (max 6)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cnames</code></td>
<td>

<p>Labels for cols.
</p>

<ul>
<li>
<p> a character string with the label for cols 
</p>
</li>
<li>
<p> a vector of character strings with labels for rows, with same length as cols. 
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>

<p>This numeric variable will be used to weight the table.
</p>

<ul><li>
<p> a character string with the name of the factor variable in the data.frame 
</p>
</li></ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>A data frame with all used variables.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>

<p>An abstract cell function to calculate statistics in every cell of the table. See details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allnames</code></td>
<td>

<p>Logical asking whether to fill every cell with labels or only the first one.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nonames</code></td>
<td>

<p>Logical asking whether to use dimnames for variable labels or make all labeling in the table self.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alllabel</code></td>
<td>

<p>Label for overall group without splitting in this factor.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inset</code></td>
<td>

<p>Inset text in each cell, '?' will be replaced with the value of the cell.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove</code></td>
<td>

<p>Remove a character string from each cell.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_min</code></td>
<td>

<p>min N in each cell, it will be only passed in the cell function.
But it is necessary to suppress calculation of statistics using only few values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>additional parameters passed to the FUN
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>FUN can be a cell function from this package or a custom cell function.
</p>
<p>The custom cell function must take the following parameters, but it is not necessary to use them.
</p>

<ul>
<li>
<p>x, The whole x variable. 
</p>
</li>
<li>
<p>y, The whole y variable. 
</p>
</li>
<li>
<p>z, The whole z variable. 
</p>
</li>
<li>
<p>w, The whole w variable. 
</p>
</li>
<li>
<p>cell_ids, Index vector to select values that belong in this cell. 
</p>
</li>
<li>
<p>row_ids,  Index vector to select values that belong in this row. 
</p>
</li>
<li>
<p>col_ids,  Index vector to select values that belong in this col. 
</p>
</li>
<li>
<p>vnames,   A vector of length 3, with labels of variables (x,y,z)
</p>
</li>
<li>
<p>vars,     A vector of length 3, with names  of variables (x,y,z)
</p>
</li>
<li>
<p>n_min  ,  Min needed N for calculation. 
</p>
</li>
<li>
<p>... ,  additional custom parameters. 
</p>
</li>
</ul>
<p>For an example with simple mean see below.
</p>


<h3>Value</h3>

<p>A character Matrix.(Table)
</p>


<h3>Author(s)</h3>

<p>Andreas Schulz &lt;ades-s@web.de&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R"># 1) simple own FUN cell function.
s_mean&lt;- function(x, y, z, w, cell_ids, row_ids, col_ids, vnames, vars, n_min, ds=3){
out&lt;- ''
if(length(cell_ids)&gt;= n_min){
out&lt;-  format(mean(x[cell_ids], na.rm=TRUE), digits=ds)
}
return(out)
}
##########################################
# 2) simple 2 x 2 table of means
sex   &lt;- factor(rbinom(5000, 1, 0.5), labels=c('Men', 'Women'))
age   &lt;- round(runif(5000, 18, 89))
treat &lt;- factor(rbinom(5000, 1, 0.3), labels=c('control', 'treated'))
d&lt;-data.frame(sex, age, treat)

tabular.ade(x_vars='age', xname='Age [y]', rows='sex', rnames='Sex', cols='treat',
cnames='Treatment', data=d, nonames=FALSE, FUN=s_mean)

##########################################
# 3) Relative frequency table
d$dosis &lt;- round(runif(5000, 0.5, 6.49))
tabular.ade(x_vars='age', xname='Age [y]', rows=c('sex', 'treat'),
rnames=c('Sex', 'Treatment'), cols='dosis', cnames='Dosis', data=d, FUN=n_cell,
type='pct')

##########################################
# 4) Weighted median table
d$w &lt;- runif(5000, 0.1, 5)
d$bmi &lt;- rnorm(5000, 30, 3)
tabular.ade(x_vars=c('age', 'bmi'), xname=c('Age', 'BMI'),
cols=c('sex', 'ALL', 'treat'),
cnames=c('Sex', 'Treatment'), w='w', data=d, FUN=quantile_cell)

##########################################
# 5) Correlation table between age and bmi
tabular.ade(x_vars='age', xname='Age', y_vars='bmi', yname='BMI',
rows=c('dosis'), rnames=c('Dosis'), cols=c('sex', 'treat'),
cnames=c('Sex', 'Treatment'), data=d, FUN=corr_p_cell)

##########################################
# 6) Multiple statistics
tabular.ade(x_vars=c('N', 'MEAN', 'SD', 'SKEW', 'KURT', 'RANGE'),
y_vars=c('age', 'bmi'), yname=c('Age', 'BMI'),
cols=c('sex', 'ALL', 'treat'), cnames=c('Sex', 'Treatment'),
w='w', data=d, FUN=stat_cell)


</code></pre>


</div>