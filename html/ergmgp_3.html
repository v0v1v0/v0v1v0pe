<div class="container">

<table style="width: 100%;"><tr>
<td>EGPHazard</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculate Transition Hazards for an ERGM Generating Process
</h2>

<h3>Description</h3>

<p>Given an EGP and an initial state, calculate the transition rates to one or more neighboring states.
</p>


<h3>Usage</h3>

<pre><code class="language-R">EGPHazard(form, coef, toggles = NULL, rate.factor = 1, process = c("LERGM",
    "CRSAOM", "CI", "DS", "CDCSTERGM", "CFCSTERGM", "CSTERGM", "CTERGM"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>form</code></td>
<td>

<p>an ERGM formula for the EGP (or a list with <code>formation</code> and <code>dissolution</code> formulas, for <code>CSTERGM</code> processes).  The left-hand side is used as the current state when computing transition rates.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>

<p>a vector of EGP coefficients, or a list of vectors with elements <code>formation</code> and <code>dissolution</code> for <code>CSTERGM</code> and variants.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toggles</code></td>
<td>

<p>edge variables to evaluate; passing <code>"all"</code> or <code>NULL</code> leads to all edge variables being evaluated, <code>"edges"</code> evaluates only dissolution events, <code>"nulls"</code> evaluates only formation events, and passing a two-column matrix of IDs (tail, head order) evaluates the selected dyads.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate.factor</code></td>
<td>

<p>rate or pacing factor (sets the time scale).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>process</code></td>
<td>

<p>the ERGM generating process to use.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>An ERGM generating process (EGP) is a continuous time graph process with an equilibrium distribution having a known ERGM form.  See <code>ergmgp</code> for an overview of EGPs, including the specifications supported here.
</p>
<p><code>EGPHazard</code> calculates the log transition rates (i.e., hazards) from an initial or current state (specified by the left-hand side of the input formula) to one or more target states.  These states are specified by the edge variables whose states would change (often called “toggles” in ERGM nomenclature).  By default, all possible transitions are evaluated; this can also be obtained by setting <code>toggles=="all"</code>.  Dissolution rates for all current edges can be obtained by setting <code>toggles=="edges"</code>, and formation rates for all current nulls can be obtained by setting <code>toggles=="nulls"</code>.  Otherwise, the <code>toggles</code> argument expects a two-column matrix of tail and head vertex IDs indicating the edge variables to be evaluated.  Note that only instantaneous rates from the origin state are computed; toggles are not cumulative.
</p>
<p>EGP specifications are as per <code>simEGP</code>.  Transition rates for all currently implemented EGPs follow the specifications of Butts (2023), with the trivial addition of a pacing constant for all families (which simply sets the timescale).
</p>


<h3>Value</h3>

<p>a matrix containing the toggles, indicators for whether each event would have been a formation event, and the log event hazards (one row per toggle).
</p>


<h3>Author(s)</h3>

<p>Carter T. Butts <a href="mailto:buttsc@uci.edu">buttsc@uci.edu</a>
</p>


<h3>References</h3>

<p>Butts, Carter T.  (2023).  “Continuous Time Graph Processes with Known ERGM Equilibria: Contextual Review, Extensions, and Synthesis.” <em>Journal of Mathematical Sociology</em>.  <a href="https://doi.org/10.1080/0022250X.2023.2180001">doi:10.1080/0022250X.2023.2180001</a>
</p>


<h3>See Also</h3>

<p><code>ergmgp</code> for information on EGPs, <code>ergm</code> for information on ERGM specifications, <code>simEGP</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Simulate a small network with triadic dependence
n &lt;- 25
set.seed(1331)
co &lt;- c(log(2.5/(n-3.5)), -0.75)
net &lt;- simulate(network.initialize(n, directed=FALSE) ~ edges + esp(0),
    coef = co)

#Compute all rates under a LERGM
lr &lt;- EGPHazard(net ~ edges + esp(0), coef = co, process = "LERGM")
head(lr)  #Sender, receiver, formation (1=yes), log rate

#Use a toggle matrix to obtain the same outcome
lrt &lt;- EGPHazard(net ~ edges + esp(0), coef = co, toggles = lr[,1:2],
    process = "LERGM")
all(lrt == lr)   #TRUE

#Examine edge dissolution rates
ldissr &lt;- EGPHazard(net ~ edges + esp(0), coef = co, toggles = "edges", 
    process = "LERGM")
a &lt;- function(z){(z-min(z))/diff(range(z))}
plot(net, edge.col = hsv(a(ldissr[,4])*0.6))  #Blue=fast, red=slow

</code></pre>


</div>