<div class="container">

<table style="width: 100%;"><tr>
<td>encrypt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Encrypt or sign a message</h2>

<h3>Description</h3>

<p>Specify whether the message should be encrypted, signed or have a public key
attached.
</p>


<h3>Usage</h3>

<pre><code class="language-R">encrypt(msg, encrypt = TRUE, sign = TRUE, public_key = TRUE)

signature(msg, public_key = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>msg</code></td>
<td>
<p>A message object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encrypt</code></td>
<td>
<p>Whether to encrypt the message. If <code>TRUE</code> then the entire
message will be encrypted using the private key of the sender.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sign</code></td>
<td>
<p>Whether to sign the message. If <code>TRUE</code> then the entire
message will be signed using the private key of the sender.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>public_key</code></td>
<td>
<p>Whether to attach a public key. If <code>TRUE</code> then the
public key of the sender will be attached.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>signature()</code> function will add a digital signature to a message. It will
also optionally include a copy of the sender's public key.
</p>
<p>The <code>encrypt()</code> function will encrypt the contents of a message using the
public key(s) of the recipient(s). It can also add a digital signature to the
message (this is the default behaviour) and include a copy of the sender's
public key. Signing happens <em>before</em> encryption, so the digital signature
will only be accessible once the message has been decrypted. If a recipient
no longer has access to their private key or their email client is unable to
decrypt the message then they will not be able to access the message
contents.
</p>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
msg &lt;- envelope(
  from = "flotilla@kriegsmarine.gov",
  to = "schunk@u-boat.com",
  subject = "Top Secret Message",
  text = "Immediate readiness. There are indications that the invasion has begun."
)
# Encrypt and sign the message.
msg %&gt;% encrypt()
# Only encrypt the message.
msg %&gt;% encrypt(sign = FALSE)
# Only sign the message.
msg %&gt;% signature()
msg %&gt;% encrypt(encrypt = FALSE)

## End(Not run)
</code></pre>


</div>