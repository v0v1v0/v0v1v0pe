<div class="container">

<table style="width: 100%;"><tr>
<td>star.sequential</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Effect stars for sequential logit models
</h2>

<h3>Description</h3>

<p><strong>The package EffectStars2 provides a more up-to-date implementation of effect stars!</strong>
</p>
<p>The function computes and visualizes sequential logit models. The computation is done with help of
the package <span class="pkg">VGAM</span>. The visualization is based on the function <code>stars</code> from the package <span class="pkg">graphics</span>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">star.sequential(formula, data, global = NULL, test.rel = TRUE, test.glob = FALSE,
    globcircle = FALSE, maxit = 100, scale = TRUE, nlines = NULL, select = NULL, 
    dist.x = 1, dist.y = 1, dist.cov = 1, dist.cat = 1, xpd = TRUE, main = "", 
    col.fill = "gray90", col.circle = "black", lwd.circle = 1, 
    lty.circle = "longdash", col.global = "black", lwd.global = 1, 
    lty.global = "dotdash", cex.labels = 1, cex.cat = 0.8, xlim = NULL, 
    ylim = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>An object of class “formula”. Formula for the sequential logit model to be fitted an visualized.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>An object of class “data.frame” containing the covariates used in <code>formula</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global</code></td>
<td>

<p>Numeric vector to choose a subset of predictors to be included with global coefficients. Default is to include all coefficients category-specific. Numbers refer to total amount of predictors, including intercept and dummy variables.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.rel</code></td>
<td>

<p>Provides a Likelihood-Ratio-Test to test the relevance of the explanatory covariates.
The corresponding p-values will be printed as <code>p-rel</code>. <code>test.rel=FALSE</code> might
save a lot of time. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.glob</code></td>
<td>

<p>Provides a Likelihood-Ratio-Test to test if a covariate has to be included as a category-specific covariate (in contrast to being global). The corresponding p-values will be printed as <code>p-global</code>. <code>test.glob=FALSE</code> and <code>globcircle=FALSE</code> might save a lot of time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>globcircle</code></td>
<td>

<p>If <code>TRUE</code>, additional circles that represent the global effects of the covariates are plotted. <code>test.glob=FALSE</code> and <code>globcircle=FALSE</code> might save a lot of time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit</code></td>
<td>

<p>Maximal number of iterations to fit the sequential logit model. See also
<code>vglm.control</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>

<p>If <code>TRUE</code>, the stars are scaled to equal maximal ray length.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlines</code></td>
<td>

<p>If specified, <code>nlines</code> gives the number of lines in which the effect stars are plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>

<p>Numeric vector to choose only a subset of the stars to be plotted. Default is to plot all stars. Numbers refer to total amount of predictors, including intercept and dummy variables. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.x</code></td>
<td>

<p>Optional factor to increase/decrease distances between the centers of the stars on the x-axis. Values greater than
1 increase, values smaller than 1 decrease the distances.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.y</code></td>
<td>

<p>Optional factor to increase/decrease distances between the centers of the stars on the y-axis. Values greater than
1 increase, values smaller than 1 decrease the distances.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.cov</code></td>
<td>

<p>Optional factor to increase/decrease distances between the stars and the covariates labels above the stars. Values greater than
1 increase, values smaller than 1 decrease the distances.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.cat</code></td>
<td>

<p>Optional factor to increase/decrease distances between the stars and the category labels around the stars. Values greater than
1 increase, values smaller than 1 decrease the distances.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpd</code></td>
<td>

<p>If <code>FALSE</code>, all plotting is clipped to the plot region, if <code>TRUE</code>, all plotting is clipped to the figure region,
and if <code>NA</code>, all plotting is clipped to the device region. See also <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>

<p>An overall title for the plot. See also <code>plot</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.fill</code></td>
<td>

<p>Color of background of the circle. See also <code>col</code> in <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.circle</code></td>
<td>

<p>Color of margin of the circle. See also <code>col</code> in <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd.circle</code></td>
<td>

<p>Line width of the circle. See also <code>lwd</code> in <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.circle</code></td>
<td>

<p>Line type of the circle. See also <code>lty</code> in <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.global</code></td>
<td>

<p>Color of margin of the global effects circle. See also <code>col</code> in <code>par</code>. Ignored, if <code>globcircle = FALSE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd.global</code></td>
<td>

<p>Line width of the global effects circle. See also <code>lwd</code> in <code>par</code>. Ignored, if <code>globcircle = FALSE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.global</code></td>
<td>

<p>Line type of the global effects circle. See also <code>lty</code> in <code>par</code>. Ignored, if <code>globcircle = FALSE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.labels</code></td>
<td>

<p>Size of labels for covariates placed above the corresponding star. See also <code>cex</code>
in <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.cat</code></td>
<td>

<p>Size of labels for categories placed around the corresponding star. See also <code>cex</code>
in <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>

<p>Optional specification of the x coordinates ranges. See also <code>xlim</code> in <code>plot.window</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>

<p>Optional specification of the y coordinates ranges. See also <code>ylim</code> in <code>plot.window</code>
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The underlying models are fitted with the function <code>vglm</code> from the package <span class="pkg">VGAM</span>. The family argument 
for <code>vglm</code> is <code>sratio(parallel=FALSE)</code>. <br><br>
The stars show the exponentials of the estimated coefficients. In sequential logit models the exponential coefficients can
be interpreted as odds. More precisely, the exponential <code class="reqn">e^{\gamma_{rj}}, r=1,\ldots,k-1</code> represents the multiplicative effect of the covariate j on the continuation ratio odds <code class="reqn">\frac{P(Y=r|x)}{P(Y&gt;r|x)}</code> if <code class="reqn">x_j</code> increases by one unit.<br><br>
In addition to the stars, we plot a cirlce that refers to the case where the coefficients of the corresponding star are zero. Therefore, the radii of these circles are always <code class="reqn">exp(0)=1</code>. If <code>scale=TRUE</code>, the stars are scaled so that they all have the same maximal ray length. In this case, the actual appearances of the circles differ, but they still refer to the no-effects case where all the coefficients are zero. Now the circles can be used to compare different stars based on their respective circles radii. The p-values beneath the covariate labels, which are given out if <code>test.rel=TRUE</code>, correspond to the distance between the circle and the star as a whole. They refer to a likelihood ratio test if all the coefficients from one covariate are zero (i.e. the variable is left out completely) and thus would lie exactly upon the cirlce.
<br>
The appearance of the circles can be modified by <code>col.circle</code>, <code>lwd.circle</code> and <code>lty.circle</code>. <br><br>
By setting <code>globcircle=TRUE</code>, an addictional circle can be drawn. The radii now correspond to a model, where the respective covariate is not included category-specific but globally. Therefore, the distance between this circle and the star as a whole corresponds to the p-value p-global that is given if <code>test.glob=TRUE</code>.<br><br>
It is strongly recommended to standardize metric covariates, display of effect stars can benefit greatly as in general differences between the coefficients are increased.
</p>


<h3>Value</h3>

<p>P-values are only available if the corresponding option is set <code>TRUE</code>. <br></p>
<table>
<tr style="vertical-align: top;">
<td><code>odds</code></td>
<td>
<p>Odds or exponential coefficients of the sequential logit model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefficients</code></td>
<td>
<p>Coefficients of the sequential logit model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>Standard errors of the coefficients</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_rel</code></td>
<td>
<p>P-values of Likelihood-Ratio-Tests for the relevance of the explanatory covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_global</code></td>
<td>
<p>P-values of Likelihood-Ratio-Tests wether the covariates need to be included category-specific</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p><code>xlim</code> values that were automatically produced. May be helpfull if you want to specify
your own <code>xlim</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p><code>ylim</code> values that were automatically produced. May be helpfull if you want to specify
your own <code>ylim</code></p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Gunther Schauberger<br><a href="mailto:gunther.schauberger@tum.de">gunther.schauberger@tum.de</a><br><a href="https://www.sg.tum.de/epidemiologie/team/schauberger/">https://www.sg.tum.de/epidemiologie/team/schauberger/</a>
</p>


<h3>References</h3>

<p>Tutz, G. and Schauberger, G. (2012): <em>Visualization of Categorical Response Models -
from Data Glyphs to Parameter Glyphs</em>, Journal of Computational and Graphical Statistics 22(1), 156-177.
<br><br>
Gerhard Tutz (2012): <em>Regression for Categorical Data</em>, Cambridge University Press
</p>


<h3>See Also</h3>

<p><code>star.nominal</code>, <code>star.cumulative</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(insolvency)

star.sequential(Insolvency ~ Sector + Legal + Pecuniary_Reward + Seed_Capital
+ Debt_Capital + Employees, insolvency, test.glob = FALSE, globcircle = TRUE, dist.x = 1.3)

## End(Not run)
</code></pre>


</div>