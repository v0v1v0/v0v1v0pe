<div class="container">

<table style="width: 100%;"><tr>
<td>verifRankHist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Verification Rank and Histogram
</h2>

<h3>Description</h3>

<p>Computes the rank of verifying observations
relative to the corresponding ensemble forecasts
and plots its histogram.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  verifRankHist( forecasts, observations)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>forecasts</code></td>
<td>

<p>A matrix of ensemble forecasts, in which the rows corresponds to
locations and times and the columns correspond to the individual
ensemble members.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observations</code></td>
<td>

<p>A vector of observations corresponding to the locations and times
of the forecasts.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The verification rank is used to assess calibration of a forecast
ensemble. A more uniform verification rank histogram
indicates better calibartion. 
</p>


<h3>Value</h3>

<p>A vector giving the rank of verifying observations relative
to the corresponding ensemble forecasts.
The verification rank historgram is plotted. 
</p>


<h3>References</h3>

<p>A. E. Raftery, T. Gneiting, F. Balabdaoui and M. Polakowski,
Using Bayesian model averaging to calibrate forecast ensembles,
<em>Monthly Weather Review 133:1155-1174, 2005</em>.
</p>
<p>T. Gneiting, F. Balabdaoui and A. Raftery,
Probabilistic forecasts, calibration and sharpness.
<em>Journal of the Royal Statistical Society, Series B 69:243–268, 2007</em>.
</p>
<p>J. M. Sloughter, A. E. Raftery, T. Gneiting and C. Fraley,
Probabilistic quantitative precipitation forecasting
using Bayesian model averaging,
<em>Monthly Weather Review 135:3209–3220, 2007</em>.
</p>
<p>C. Fraley, A. E. Raftery, T. Gneiting and J. M. Sloughter,
<code>ensembleBMA</code>: An <code>R</code> Package for Probabilistic Forecasting
using Ensemble and Bayesian Model Averaging,
Technical Report No. 516R, Department of Statistics, University of
Washington, 2007 (revised 2010).
</p>
<p>C. Fraley, A. E. Raftery, T. Gneiting,
Calibrating Multi-Model Forecast Ensembles
with Exchangeable and Missing Members using Bayesian Model Averaging,
<em>Monthly Weather Review 138:190–202, 2010</em>.
</p>
<p>J. M. Sloughter, T. Gneiting and A. E. Raftery, 
Probabilistic wind speed forecasting 
using ensembles and Bayesian model averaging,
<em>Journal of the American Statistical Association, 105:25–35, 2010</em>.
</p>


<h3>See Also</h3>

<p><code>ensembleData</code>, 
<code>pit</code> 
</p>


<h3>Examples</h3>

<pre><code class="language-R">  data(srft)

  labels &lt;- c("CMCG","ETA","GASP","GFS","JMA","NGPS","TCWB","UKMO")

  srftData &lt;- ensembleData( forecasts = srft[ ,labels],
                            dates = srft$date,
                            observations = srft$obs,
                            latitude = srft$lat,
                            longitude = srft$lon,
                            forecastHour = 48,
                            initializationTime = "00")

  use &lt;- ensembleValidDates(srftData) &gt;= "2004013000"

  verifRankHist( ensembleForecasts(srftData[use,]),
                 dataVerifObs(srftData[use,]))
</code></pre>


</div>