<div class="container">

<table style="width: 100%;"><tr>
<td>r_prepare_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare data for regression routines</h2>

<h3>Description</h3>

<p>This function will output the appropriate X and Y matrices in
the right format for regression packages such as <code>mgcv</code>, <code>caret</code>
and <code>glmnet</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">r_prepare_data(data, response = "Y", exposure = "E", probe_names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the data frame which contains the response, exposure, and genes
or cpgs or covariates. the columns should be labelled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>the column name of the response in the <code>data</code> argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure</code></td>
<td>
<p>the column name of the exposure in the <code>data</code> argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probe_names</code></td>
<td>
<p>the column names of the genes, or cpg sites or covariates</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list of length 5: </p>
<dl>
<dt>X</dt>
<dd>
<p>the X matrix</p>
</dd>
<dt>Y</dt>
<dd>
<p>the
response vector</p>
</dd>
<dt>E</dt>
<dd>
<p>the exposure vector</p>
</dd>
<dt>main_effect_names</dt>
<dd>
<p>the
names of the main effects including the
exposure</p>
</dd>
<dt>interaction_names</dt>
<dd>
<p>the names of the interaction effects</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">data("tcgaov")
tcgaov[1:5,1:6, with = FALSE]
Y &lt;- log(tcgaov[["OS"]])
E &lt;- tcgaov[["E"]]
genes &lt;- as.matrix(tcgaov[,-c("OS","rn","subtype","E","status"),with = FALSE])
trainIndex &lt;- drop(caret::createDataPartition(Y, p = 0.5, list = FALSE, times = 1))
testIndex &lt;- setdiff(seq_len(length(Y)),trainIndex)

## Not run: 
cluster_res &lt;- r_cluster_data(data = genes,
                              response = Y,
                              exposure = E,
                              train_index = trainIndex,
                              test_index = testIndex,
                              cluster_distance = "tom",
                              eclust_distance = "difftom",
                              measure_distance = "euclidean",
                              clustMethod = "hclust",
                              cutMethod = "dynamic",
                              method = "average",
                              nPC = 1,
                              minimum_cluster_size = 50)

pc_eclust_interaction &lt;- r_prepare_data(data = cbind(cluster_res$clustersAddon$PC,
                                                     survival = Y[trainIndex],
                                                     subtype = E[trainIndex]),
                                        response = "survival", exposure = "subtype")
names(pc_eclust_interaction)
dim(pc_eclust_interaction$X)
pc_eclust_interaction$main_effect_names
pc_eclust_interaction$interaction_names

## End(Not run)
</code></pre>


</div>