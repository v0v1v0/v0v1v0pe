<div class="container">

<table style="width: 100%;"><tr>
<td>find_poi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find the point of intersection (POI)</h2>

<h3>Description</h3>

<p>The function <code>find_poi()</code> determines the point where the distance
between two lines is minimal, e.g. the distance between a specification or
expiry limit and a confidence or prediction interval, or in other words
the point of intersection (POI). The estimation is done by aid of
<code>uniroot()</code> from the ‘<code>stats</code>’ package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">find_poi(
  srch_range,
  model,
  sl,
  mode = "minimal",
  alpha = 0.05,
  ivl = "confidence",
  ivl_type = "one.sided",
  ivl_side = "lower",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>srch_range</code></td>
<td>
<p>A vector of length <code>2</code> that specifies the endpoints
of the (time) range within which the minimum distance is expected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A linear model object of type ‘<code>lm</code>’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sl</code></td>
<td>
<p>A numeric variable that specifies the “specification limit”
(SL). Another kind of acceptance criterion may be regarded as SL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>A character string of either <code>"minimal"</code> or <code>"all"</code>,
that specifies if only the minimal distance of a factor regression model
is returned or if the distances of all lines belonging to the different
factor levels is returned. The default is <code>"minimal"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A numeric value between 0 and 1 that specifies the significance
level for the calculation of confidence or prediction intervals. The
default is <code>0.05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ivl</code></td>
<td>
<p>A character string of either <code>"confidence"</code> or
<code>"prediction"</code> that specifies the type of interval of interest.
The default is <code>"confidence"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ivl_type</code></td>
<td>
<p>A character string that specifies if a “one sided”
or a “two sided” interval should be calculated, i.e. either
<code>"one.sided"</code> or <code>"two.sided"</code>, respectively. The default is
<code>"one.sided"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ivl_side</code></td>
<td>
<p>A character string that specifies if the specification
limit, given that the limit has only one side, is an “upper” or a
“lower” bound, i.e. it is specified as either <code>"upper"</code> or
<code>"lower"</code>, respectively. The default is <code>"lower"</code>. If the
specification has two boundaries, then this parameter specifies the
preferred side. If no side is preferred over the other, <code>"both"</code> can
be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional named or unnamed arguments passed on to
<code>uniroot()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>find_poi()</code> (find the “point of
intersection”) estimates the value of <code class="reqn">x</code> (e.g. the time) where the
difference between the upper or lower confidence or prediction interval and
the upper or lower acceptance criterion (e.g. the specification or the
expiry limit) is minimal, or in other words where the corresponding lines
intersect each other. Confidence or prediction intervals are calculated
for the <code>model</code> provided. The POI is determined by aid of the
<code>uniroot()</code> function from the ‘<code>stats</code>’
package. The distance between the two lines of interest is calculated using
the function <code>get_distance()</code>, and it is this distance which
<code>uniroot()</code> tries to minimise. Recommendations on how to estimate shelf
life or expiry can be found in the corresponding section below.
</p>


<h3>Value</h3>

<p>A numeric value representing the value of <code class="reqn">x</code> where the distance
between the two lines of interest is minimal is returned.
</p>


<h3>How to estimate shelf life or expiry</h3>

<p>ICH Q1E recommends that “<em>For an attribute known to decrease with
time, the lower one-sided 95 percent confidence limit should be compared
to the acceptance criterion. For an attribute known to increase with time,
the upper one-sided 95 percent confidence limit should be compared to the
acceptance criterion. For an attribute that can either increase or decrease,
or whose direction of change is not known, two-sided 95 percent confidence
limits should be calculated and compared to the upper and lower acceptance
criteria.</em>” Since attributes often either decrease or increase, the default
for <code>ivl_type</code> is <code>one.sided</code>.
</p>
<p>According to the ARGPM guidance “Stability testing for prescription
medicines”, the shelf life or expiry limit is estimated as the point where
the upper or lower limit of the 95% confidence interval of the linear model
fitted to the data intersects the worst case scenario limit. The worst case
scenario limit is obtained by adding/subtracting the absolute difference of
specification limit and release limit to/from the common intercept of the
test batches or the intercept of the worst performing batch.
</p>


<h3>References</h3>

<p>Therapeutic Goods Administration (TGA) of the Department of Health of the
Australian Government, Australian Regulatory Guidelines for Prescription
Medicines (ARGPM), Stability testing for prescription medicines,
Version 1.1, March 2017
</p>
<p>International Council for Harmonisation of Technical Requirements for
Registration of Pharmaceuticals for Human (ICH), Harmonised Tripartite
Guideline, Evaluation of Stability Data Q1E, step 4, February 2003
(CPMP/ICH/420/02).
</p>


<h3>See Also</h3>

<p><code>get_distance</code>, <code>get_poi_list</code>,
<code>expirest_osle</code>, <code>expirest_wisle</code>,
<code>uniroot</code>.
</p>


</div>