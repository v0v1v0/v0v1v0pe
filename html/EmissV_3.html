<div class="container">

<table style="width: 100%;"><tr>
<td>emission</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Emissions in the format for atmospheric models</h2>

<h3>Description</h3>

<p>Combine area sources and total emissions to model output
</p>


<h3>Usage</h3>

<pre><code class="language-R">emission(
  inventory = NULL,
  grid,
  mm = 1,
  aerosol = FALSE,
  check = TRUE,
  total,
  pol,
  area,
  plot = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inventory</code></td>
<td>
<p>a inventory raster from read</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>grid information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mm</code></td>
<td>
<p>pollutant molar mass</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aerosol</code></td>
<td>
<p>TRUE for aerosols and FALSE (defoult) for gazes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>TRUE (defoult) to check negative and NA values and replace it for zero</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total</code></td>
<td>
<p>list of total emission</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pol</code></td>
<td>
<p>pollutant name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>list of area sources or matrix with a spatial distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>TRUE for plot the final emissions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>display additional information</p>
</td>
</tr>
</table>
<h3>Format</h3>

<p>matrix of emission
</p>


<h3>Value</h3>

<p>a vector of emissions in MOL / mk2 h for gases and ug / m2 s for aerosols.
</p>


<h3>Note</h3>

<p>if Inventory is provided, the firsts tree arguments are not be used by the function.
</p>
<p>Is a good practice use the set_units(fe,your_unity), where fe is your emission factory and your_unity is usually g/km on your emission factory
</p>
<p>the list of area must be in the same order as defined in vehicles and total emission.
</p>
<p>just WRF-Chem is suported by now
</p>


<h3>See Also</h3>

<p><code>totalEmission</code> and <code>areaSource</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">fleet  &lt;- vehicles(example = TRUE)

EmissionFactors &lt;- emissionFactor(example = TRUE)

TOTAL  &lt;- totalEmission(fleet,EmissionFactors,pol = c("CO"),verbose = TRUE)

grid   &lt;- gridInfo(paste0(system.file("extdata", package = "EmissV"),"/wrfinput_d01"))
shape  &lt;- raster::shapefile(paste0(system.file("extdata", package = "EmissV"),"/BR.shp"))
raster &lt;- raster::raster(paste0(system.file("extdata", package = "EmissV"),"/dmsp.tiff"))

SP     &lt;- areaSource(shape[22,1],raster,grid,name = "SP")
RJ     &lt;- areaSource(shape[17,1],raster,grid,name = "RJ")

e_CO   &lt;- emission(total = TOTAL,
                   pol = "CO",
                   area = list(SP = SP, RJ = RJ),
                   grid = grid,
                   mm = 28)

</code></pre>


</div>