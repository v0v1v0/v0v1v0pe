<div class="container">

<table style="width: 100%;"><tr>
<td>tidy_imp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>tidy up dataframe containing model feature importance</h2>

<h3>Description</h3>

<p>returns dataframe with exactly two columns, vars and imp and
aggregates dummy encoded variables. Helper function called by all functions
that take an imp parameter. Can be called manually if formula for
aggregating dummy encoded variables must be modified.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tidy_imp(imp, df, .f = max, resp_var = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>imp</code></td>
<td>
<p>dataframe or matrix with feature importance information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>dataframe, modeling training data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.f</code></td>
<td>
<p>window function, Default: max</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resp_var</code></td>
<td>
<p>character, prediction variable, can usually be inferred from 
imp and df. It does not work for all models and needs to be specified in those 
cases.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>dataframe </p>
 <dl>
<dt>vars</dt>
<dd>
<p>character column with feature names</p>
</dd>
<dt>imp</dt>
<dd>
<p>numerical column, importance values</p>
</dd> </dl>
<h3>Examples</h3>

<pre><code class="language-R"># randomforest
df = mtcars2[, ! names(mtcars2) %in% 'ids' ]
m = randomForest::randomForest( disp ~ ., df)
imp = m$importance
tidy_imp(imp, df)

</code></pre>


</div>