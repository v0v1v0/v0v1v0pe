<div class="container">

<table style="width: 100%;"><tr>
<td>alluvial_wide</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>alluvial plot of data in wide format</h2>

<h3>Description</h3>

<p>plots a dataframe as an alluvial plot. All numerical variables
are scaled, centered and YeoJohnson transformed before binning. Plots all
variables in the sequence as they appear in the dataframe until maximum
number of values is reached.
</p>


<h3>Usage</h3>

<pre><code class="language-R">alluvial_wide(
  data,
  id = NULL,
  max_variables = 20,
  bins = 5,
  bin_labels = c("LL", "ML", "M", "MH", "HH"),
  NA_label = "NA",
  order_levels = NULL,
  fill_by = "first_variable",
  col_vector_flow = palette_qualitative() %&gt;% palette_filter(greys = F),
  col_vector_value = RColorBrewer::brewer.pal(9, "Greys")[c(4, 7, 5, 8, 6)],
  colorful_fill_variable_stratum = T,
  verbose = F,
  stratum_labels = T,
  stratum_label_type = "label",
  stratum_label_size = 4.5,
  stratum_width = 1/4,
  auto_rotate_xlabs = T,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>unquoted column name of id column or character vector with id column
name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_variables</code></td>
<td>
<p>maximum number of variables, Default: 20</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bins</code></td>
<td>
<p>number of bins for numerical variables, Default: 5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bin_labels</code></td>
<td>
<p>labels for the bins from low to high, Default: c("LL", "ML",
"M", "MH", "HH")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA_label</code></td>
<td>
<p>character vector, define label for missing data, Default: 'NA'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order_levels</code></td>
<td>
<p>character vector denoting levels to be reordered from low
to high</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_by</code></td>
<td>
<p>one_of(c('first_variable', 'last_variable', 'all_flows',
'values')), Default: 'first_variable'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_vector_flow</code></td>
<td>
<p>HEX colors for flows, Default: palette_filter( greys =
F)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_vector_value</code></td>
<td>
<p>Hex colors for y levels/values, Default:
RColorBrewer::brewer.pal(9, "Greys")[c(3, 6, 4, 7, 5)]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colorful_fill_variable_stratum</code></td>
<td>
<p>logical, use flow colors to colorize
fill variable stratum, Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical, print plot summary, Default: F</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratum_labels</code></td>
<td>
<p>logical, Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratum_label_type</code></td>
<td>
<p>character, Default: "label"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratum_label_size</code></td>
<td>
<p>numeric, Default: 4.5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratum_width</code></td>
<td>
<p>double, Default: 1/4</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto_rotate_xlabs</code></td>
<td>
<p>logical, Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to
<code>manip_bin_numerics</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Under the hood this function converts the wide format into long
format. ggalluvial also offers a way to make alluvial plots directly from
wide format tables but it does not allow individual colouring of the stratum
segments. The tradeoff is that we can only order levels as a whole and not
individually by variable, Thus if some variables have levels with the same
name the order will be the same. If we want to change level order
independently we have to assign unique level names first.
</p>


<h3>Value</h3>

<p>ggplot2 object
</p>


<h3>See Also</h3>

<p><code>alluvial_wide</code> ,
<code>geom_flow</code> , <code>geom_stratum</code>
, <code>manip_bin_numerics</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
alluvial_wide( data = mtcars2, id = ids
                , max_variables = 3
                , fill_by = 'first_variable' )#'
# more coloring variants----------------------
alluvial_wide( data = mtcars2, id = ids
                , max_variables = 5
                , fill_by = 'last_variable' )

alluvial_wide( data = mtcars2, id = ids
                , max_variables = 5
                , fill_by = 'all_flows' )

alluvial_wide( data = mtcars2, id = ids
                , max_variables = 5
                , fill_by = 'first_variable' )

# manually order variable values and colour by stratum value

alluvial_wide( data = mtcars2, id = ids
                 , max_variables = 5
                 , fill_by = 'values'
                 , order_levels = c('4', '8', '6') )

## End(Not run)
</code></pre>


</div>