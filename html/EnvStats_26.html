<div class="container">

<table style="width: 100%;"><tr>
<td>boxcoxLm.object</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
S3 Class "boxcoxLm"
</h2>

<h3>Description</h3>

<p>Objects of S3 class <code>"boxcoxLm"</code> are returned by the <span class="pkg">EnvStats</span> 
function <code>boxcox</code> when the argument <code>x</code> is an object 
of class <code>"lm"</code>.  In this case, <code>boxcox</code> computes 
values of an objective function for user-specified powers, or computes the 
optimal power for the specified objective, based on residuals from the linear model. 
</p>


<h3>Details</h3>

<p>Objects of class <code>"boxcoxLm"</code> are lists that contain 
information about the <code>"lm"</code> object that was suplied, 
the powers that were used, the objective that was used, 
the values of the objective for the given powers, and whether an 
optimization was specified.
</p>


<h3>Value</h3>

<p>The following components must be included in a legitimate list of 
class <code>"boxcoxLm"</code>.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>

<p>Numeric vector containing the powers used in the Box-Cox transformations.  
If the value of the <code>optimize</code> component is <code>FALSE</code>, then 
<code>lambda</code> contains the values of all of the powers at which the objective 
was evaluated.  If the value of the <code>optimize</code> component is <code>TRUE</code>, 
then <code>lambda</code> is a scalar containing the value of the power that 
maximizes the objective.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objective</code></td>
<td>

<p>Numeric vector containing the value(s) of the objective for the given value(s) 
of <code class="reqn">\lambda</code> that are stored in the component <code>lambda</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objective.name</code></td>
<td>

<p>character string indicating the objective that was used. The possible values are
<code>"PPCC"</code> (probability plot correlation coefficient; the default), 
<code>"Shapiro-Wilk"</code> (the Shapiro-Wilk goodness-of-fit statistic), and 
<code>"Log-Likelihood"</code> (the log-likelihood function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimize</code></td>
<td>

<p>logical scalar indicating whether the objective was simply evaluted at the 
given values of <code>lambda</code> (<code>optimize=FALSE</code>), or instead  
the optimal power transformation was computed within the bounds specified by 
<code>lambda</code> (<code>optimize=TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimize.bounds</code></td>
<td>

<p>Numeric vector of length 2 with a names attribute indicating the bounds within 
which the optimization took place.  When <code>optimize=FALSE</code>, this contains 
missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>

<p>finite, positive numeric scalar indicating what value of <code>eps</code> was used.  
When the absolute value of <code>lambda</code> is less 
than <code>eps</code>, lambda is assumed to be 0 for the Box-Cox transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lm.obj</code></td>
<td>

<p>the value of the argument <code>x</code> provided to <code>boxcox</code> 
(an object that must inherit from class <code>"lm"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample.size</code></td>
<td>

<p>Numeric scalar indicating the number of finite, non-missing observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.name</code></td>
<td>

<p>The name of the data object used for the Box-Cox computations.</p>
</td>
</tr>
</table>
<h3>Methods</h3>

<p>Generic functions that have methods for objects of class 
<code>"boxcoxLm"</code> include: <br><code>plot</code>, <code>print</code>.
</p>


<h3>Note</h3>

<p>Since objects of class <code>"boxcoxLm"</code> are lists, you may extract 
their components with the <code>$</code> and <code>[[</code> operators.
</p>


<h3>Author(s)</h3>

<p>Steven P. Millard (<a href="mailto:EnvStats@ProbStatInfo.com">EnvStats@ProbStatInfo.com</a>)
</p>


<h3>See Also</h3>

<p><code>boxcox</code>, <code>plot.boxcoxLm</code>, <code>print.boxcoxLm</code>, 
<code>boxcox.object</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # Create an object of class "boxcoxLm", then print it out.

  # The data frame Environmental.df contains daily measurements of 
  # ozone concentration, wind speed, temperature, and solar radiation
  # in New York City for 153 consecutive days between May 1 and 
  # September 30, 1973.  In this example, we'll plot ozone vs. 
  # temperature and look at the Q-Q plot of the residuals.  Then 
  # we'll look at possible Box-Cox transformations.  The "optimal" one 
  # based on the PPCC looks close to a log-transformation 
  # (i.e., lambda=0).  The power that produces the largest PPCC is 
  # about 0.2, so a cube root (lambda=1/3) transformation might work too.

  # Fit the model with the raw Ozone data
  #--------------------------------------
  ozone.fit &lt;- lm(ozone ~ temperature, data = Environmental.df) 

  # Plot Ozone vs. Temperature, with fitted line 
  #---------------------------------------------
  dev.new()
  with(Environmental.df, 
    plot(temperature, ozone, xlab = "Temperature (degrees F)",
      ylab = "Ozone (ppb)", main = "Ozone vs. Temperature"))
  abline(ozone.fit) 

  # Look at the Q-Q Plot for the residuals 
  #---------------------------------------
  dev.new()
  qqPlot(ozone.fit$residuals, add.line = TRUE) 

  # Look at Box-Cox transformations of Ozone 
  #-----------------------------------------
  boxcox.list &lt;- boxcox(ozone.fit) 
  boxcox.list 
  #Results of Box-Cox Transformation
  #---------------------------------
  #
  #Objective Name:                  PPCC
  #
  #Linear Model:                    ozone.fit
  #
  #Sample Size:                     116
  #
  # lambda      PPCC
  #   -2.0 0.4286781
  #   -1.5 0.4673544
  #   -1.0 0.5896132
  #   -0.5 0.8301458
  #    0.0 0.9871519
  #    0.5 0.9819825
  #    1.0 0.9408694
  #    1.5 0.8840770
  #    2.0 0.8213675

  #----------

  # Clean up
  #---------
  rm(ozone.fit, boxcox.list)
</code></pre>


</div>