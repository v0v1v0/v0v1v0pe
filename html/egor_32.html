<div class="container">

<table style="width: 100%;"><tr>
<td>as_tibble.egor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract ego, alter, and alter-alter tables from an <code>egor</code> object.</h2>

<h3>Description</h3>

<p>Provided an <code>egor</code> object, these functions create a "global" <code>tibble</code> or <code>srvyr</code>'s <code>tbl_svy</code> object
containing egos, alter attributes, or alter-alter relations. The resulting tables
are useful for advanced analysis procedures, e.g. multi-level regressions.
</p>
<p><code>as_tibble()</code> method for <code>egor</code> extracts the currently active component (<code>ego</code>, <code>alter</code>, or <code>aaties</code>) table, optionally joining it with the others, dropping any survey design information.
</p>
<p><code>as_survey()</code> method for <code>egor</code> instead returns a <code>srvyr</code> <code>tbl_svy</code> survey, taking into account any replication due to multiple alters or alter-alter ties incident on each ego. If no design is specified for the egos, then the default design (simple random sample with replacement) is assumed as the starting point.
</p>
<p><code>as_egos_df()</code>, <code>as_alters_df()</code>, <code>as_aaties_df()</code>, <code>as_egos_survey()</code>, <code>as_alters_survey()</code>, and <code>as_aaties_survey()</code> are convenience functions for the <code>as_tibble()</code> and <code>as_survey()</code> methods, activating the corresponding component of the <code>egor</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'egor'
as_tibble(x, ..., include.ego.vars = FALSE, include.alter.vars = FALSE)

## S3 method for class 'egor'
as_survey(.data, ..., include.ego.vars = FALSE, include.alter.vars = FALSE)

as_egos_df(object)

as_alters_df(object, include.ego.vars = FALSE)

as_aaties_df(object, include.ego.vars = FALSE, include.alter.vars = FALSE)

as_egos_survey(object, include.ego.vars = FALSE)

as_alters_survey(object, include.ego.vars = FALSE)

as_aaties_survey(object, include.ego.vars = FALSE, include.alter.vars = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, object, .data</code></td>
<td>
<p>An <code>egor</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments, currently unused.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include.ego.vars</code></td>
<td>
<p>Logical, specifying if ego variables should be included in the result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include.alter.vars</code></td>
<td>
<p>Logical, specifying if alter variables should be included in the result.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>tibble</code> for the <code>as_tibble</code> and <code style="white-space: pre;">⁠*_df⁠</code> functions and a <code>tbl_svy</code> for <code>as_survey</code> and the <code style="white-space: pre;">⁠*_survey⁠</code> functions.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load example data
data(egor32)

as_tibble(egor32) # Ego table.

egor32 %&gt;%
 activate("alter") %&gt;%
 as_tibble(include.ego.vars=TRUE) # Alter table, but also with ego variables.

library(srvyr)
as_survey(egor32) # Ego table with survey design.

# Despite alter table being active, obtain the ego table.
(egor32 &lt;- activate(egor32, "alter"))
as_egos_df(egor32)

# Create global alter table
as_alters_df(egor32)

# Create global alter-alter relations table
as_aaties_df(egor32)

# ... adding alter variables
as_aaties_df(egor32, include.alter.vars = TRUE)
as_egos_survey(egor32)
as_alters_survey(egor32) # Notice the resulting cluster design.
</code></pre>


</div>