<div class="container">

<table style="width: 100%;"><tr>
<td>contr.wec.weighted</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculates contrasts for a weighted factor variable based on weighted effect coding</h2>

<h3>Description</h3>

<p>Function works equivalent to <code>contr.wec</code> from the <code>wec</code> package, but allows
for weighted contrasts.</p>


<h3>Usage</h3>

<pre><code class="language-R">contr.wec.weighted (x, omitted, weights)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>grouping variable of class factor
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omitted</code></td>
<td>

<p>Label of the factor label that should be taken as the omitted category
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>

<p>Numeric vector of non-negative weights
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a contrast matrix based on weighted effect coding.
</p>


<h3>Author(s)</h3>

<p>Sebastian Weirich, based upon the <code>contr.wec</code> function of the <code>wec</code> package
</p>


<h3>Examples</h3>

<pre><code class="language-R">### exemplary data according to wec paper
dat &lt;- data.frame ( group = as.factor(c(rep(1,3), rep(2,2))), wgt = c(2/3, 4/3, 2, 3/8, 5/8))
### default contrasts
contrasts(dat[,"group"])
### weighted effect coding for weighted data
contr.wec.weighted(x= dat[,"group"], omitted=1,weights=dat[,"wgt"])
### equal to weighted effect coding: wec::contr.wec(x= dat[,"group"], omitted=1)
contr.wec.weighted(x= dat[,"group"], omitted=1,weights=rep(1, nrow(dat)))
</code></pre>


</div>