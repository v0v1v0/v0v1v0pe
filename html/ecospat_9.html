<div class="container">

<table style="width: 100%;"><tr>
<td>ecospat.CCV.communityEvaluation.prob</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Evaluates community predictions directly on the probabilities (i.e., threshold independent)
</h2>

<h3>Description</h3>

<p>This function generates a number of community evaluation metrics directly based on the probability returned by the individual models. Instead of thresholding the predictions (<code>ecospat.CCV.communityEvaluation.bin</code> this function directly uses the probability and compares its outcome to null models or average expectations.)
</p>


<h3>Usage</h3>

<pre><code class="language-R">ecospat.CCV.communityEvaluation.prob(ccv.modeling.data,
    community.metrics=c('SR.deviation','community.AUC','Max.Sorensen',
                         'Max.Jaccard','probabilistic.Sorensen',
                         'probabilistic.Jaccard'),
    parallel = FALSE, 
    cpus = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ccv.modeling.data</code></td>
<td>
<p>a <code>'ccv.modeling.data'</code> object returned by <code>ecospat.CCV.modeling</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>community.metrics</code></td>
<td>
<p>a selection of community metrics to calculate (<code>'SR.deviation','community.AUC','Max.Sorensen','Max.Jaccard',
  'probabilistic.Sorensen','probabilistic.Jaccard')</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>should parallel computing be allowed (<code>TRUE/FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cpus</code></td>
<td>
<p>number of cpus to use in parallel computing</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>DataSplitTable</code></td>
<td>
<p>a matrix with <code>TRUE/FALSE</code> for each model run (<code>TRUE</code>=Calibration point, <code>FALSE</code>=Evaluation point)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CommunityEvaluationMetrics.CalibrationSites</code></td>
<td>
<p>a 3-dimensional array containing the community evaluation metrics for the calibartion sites of each run (<code>NA</code> means that the site was used for evaluation)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CommunityEvaluationMetrics.EvaluationSites</code></td>
<td>
<p>a 3-dimensional array containing the community evaluation metrics for the evaluation sites of each run (<code>NA</code> means that the site was used for calibaration)</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>If the community evaluation metric <code>'SR.deviation'</code> is selected the returned tables will have the following columns: 
</p>

<ul>
<li> <p><code>SR.obs</code> = observed species richness, 
</p>
</li>
<li> <p><code>SR.mean</code> = the predicted species richness (based on the probabilities assuming poission binomial distribution), 
</p>
</li>
<li> <p><code>SR.dev</code> = the deviation of observed and predicted species richness, 
</p>
</li>
<li> <p><code>SR.sd</code> = the standard deviation of the predicted species richness (based on the probabilities assuming poission binomial distribution), 
</p>
</li>
<li> <p><code>SR.prob</code> = the probability that the observed species richness falls within the predicted species richness (based on the probabilities assuming poission binomial distribution), 
</p>
</li>
<li> <p><code>SR.imp.05</code> = improvement of species richness prediction over null-model 0.5, 
</p>
</li>
<li> <p><code>SR.imp.average.SR</code> = improvement of species richness prediction over null-model average.SR and 
</p>
</li>
<li> <p><code>SR.imp.prevalence</code> = improvement of species richness prediction over null-model prevalence.
</p>
</li>
</ul>
<p>If the community evalation metric <code>community.AUC</code> is selected the returned tables will have the following colums: 
</p>

<ul><li> <p><code>Community.AUC</code> = The AUC of ROC of a given site (in this case the ROC plot is community sensitiviy [percentage species predicted corretly present] vs 1 - community specificity [percentage of species predicted correctly absent])
</p>
</li></ul>
<p>If the community evaluation metrics (<code>'Max.Sorensen', 'Max.Jaccard'</code>) is selected the returned tables will have the follwing colums:
</p>

<ul>
<li> <p><code>Max.Jaccard</code> = The maximum possible Jaccard similarity based on an optimal site specific threshold.
</p>
</li>
<li> <p><code>Max.Sorensen</code> = The maximum possible Sorensen similarity based on an optimal site specific threshold.
</p>
</li>
</ul>
<p>If the community evaluation metrics (<code>'probabilistic.Sorensen', 'probabilistic.Jaccard'</code>) is selected the returned tables will have the follwing colums:
</p>

<ul>
<li> <p><code>probabilistic.Jaccard</code> = The probabilistic Jaccard similarity index based on Scherrer et al. 2019, Methods in Ecology and Evolution
</p>
</li>
<li> <p><code>probabilistic.Sorensen</code> = The probabilistic Sorensen similarity index based on Scherrer et al. 2019, Methods in Ecology and Evolution
</p>
</li>
<li>
<p>composition.imp.05 = improvement of species compostion prediction over the null-model 0.5.
</p>
</li>
<li>
<p>composition.imp.average.SR = improvement of the species composition prediction over the null-model average.SR.
</p>
</li>
<li>
<p>composition.imp.prevalence = improvement of the species composition prediction over the null-model prevalence.
</p>
</li>
</ul>
<p>For detailed descriptions of the null models see Scherrer et al. 2019
</p>


<h3>Author(s)</h3>

<p>Daniel Scherrer &lt;daniel.j.a.scherrer@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code>ecospat.CCV.modeling</code>; <code>ecospat.CCV.createDataSplitTable</code>; <code>ecospat.CCV.communityEvaluation.bin</code>;
</p>


</div>