<div class="container">

<table style="width: 100%;"><tr>
<td>multiChar2fac</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transform one or multiple character variables to factor.</h2>

<h3>Description</h3>

<p>Convert one or multiple character variables to factors. If multiple variables are converted, a common set of value labels is created,
which is identical across variables. Existing value labels are preserved.
</p>


<h3>Usage</h3>

<pre><code class="language-R">multiChar2fac(
  GADSdat,
  vars,
  var_suffix = "_r",
  label_suffix = "(recoded)",
  convertCases = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>GADSdat</code></td>
<td>
<p>A <code>data.frame</code> or <code>GADSdat</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>A character vector with all variables that should be transformed to factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_suffix</code></td>
<td>
<p>Variable suffix for the newly created <code>GADSdat</code>. If an empty character, the existing variables are overwritten.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_suffix</code></td>
<td>
<p>Suffix added to variable label for the newly created variable in the <code>GADSdat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convertCases</code></td>
<td>
<p>Should cases be transformed for all variables? Default <code>NULL</code> leaves cases as they are.
Available options for converting cases are all lower case (<code>'lower'</code>), all upper case (<code>'upper'</code>),
or first letter upper case, everything else lower case (<code>'upperFirst'</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If a set of variables has the same possible values, it is desirable that these variables share the same
value labels, even if some of the values do not occur on the individual variables. This function allows
the transformation of multiple character variables to factors while assimilating the value labels.
The SPSS format of the newly created variables is set to <code>F10.0</code>.
</p>
<p>A current limitation of the function is that prior to the conversion, all variables specified in <code>vars</code> must have identical
meta data on value level (value labels and missing tags).
</p>
<p>If necessary, missing codes can be set after transformation via <code>checkMissings</code> for setting missing codes
depending on value labels for all variables or
<code>changeMissings</code> for setting missing codes for specific values in a specific variable.
</p>
<p>The argument <code>convertCases</code> uses the function <code>convertCase</code> internally. See the respective documentation for more details.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> containing the newly computed variable.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## create an example GADSdat
example_df &lt;- data.frame(ID = 1:4,
                        citizenship1 = c("German", "English", "missing by design", "Chinese"),
                        citizenship2 = c("missing", "German", "missing by design", "Polish"),
                        stringsAsFactors = FALSE)
gads &lt;- import_DF(example_df)

## transform one character variable
gads2 &lt;- multiChar2fac(gads, vars = "citizenship1")

## transform multiple character variables
gads2 &lt;- multiChar2fac(gads, vars = c("citizenship1", "citizenship2"))

## set values to missings
gads3 &lt;- checkMissings(gads2, missingLabel = "missing")

</code></pre>


</div>