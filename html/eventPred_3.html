<div class="container">

<table style="width: 100%;"><tr>
<td>fitDropout</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit time-to-dropout model</h2>

<h3>Description</h3>

<p>Fits a specified time-to-dropout model to the dropout data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fitDropout(
  df,
  dropout_model = "exponential",
  piecewiseDropoutTime = 0,
  k_dropout = 0,
  scale_dropout = "hazard",
  showplot = TRUE,
  by_treatment = FALSE,
  covariates = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>The subject-level dropout data, including <code>time</code> and
<code>dropout</code>. The data should also include <code>treatment</code>
coded as 1, 2, and so on, and <code>treatment_description</code>
for fitting the dropout model by treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dropout_model</code></td>
<td>
<p>The dropout model used to analyze the dropout data
which can be set to one of the following options:
"exponential", "Weibull", "log-logistic", "log-normal",
"piecewise exponential", "model averaging", or "spline".
The model averaging uses the <code>exp(-bic/2)</code> weighting and
combines Weibull and log-normal models. The spline model of
Royston and Parmar (2002) assumes that a transformation of
the survival function is modeled as a natural cubic spline
function of log time. By default, it is set to "exponential".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>piecewiseDropoutTime</code></td>
<td>
<p>A vector that specifies the time
intervals for the piecewise exponential dropout distribution.
Must start with 0, e.g., c(0, 60) breaks the time axis into 2
event intervals: [0, 60) and [60, Inf). By default, it is set to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_dropout</code></td>
<td>
<p>The number of inner knots of the spline. The default
<code>k_dropout=0</code> gives a Weibull, log-logistic or log-normal model,
if <code>scale_dropout</code> is "hazard", "odds", or "normal", respectively.
The knots are chosen as equally-spaced quantiles of the log
uncensored survival times. The boundary knots are chosen as the
minimum and maximum log uncensored survival times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale_dropout</code></td>
<td>
<p>If "hazard", the log cumulative hazard is modeled
as a spline function. If "odds", the log cumulative odds is
modeled as a spline function. If "normal", -qnorm(S(t)) is
modeled as a spline function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showplot</code></td>
<td>
<p>A Boolean variable to control whether or not to
show the fitted time-to-dropout survival curve. By default, it is
set to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_treatment</code></td>
<td>
<p>A Boolean variable to control whether or not to
fit the time-to-dropout data by treatment group. By default,
it is set to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>The names of baseline covariates from the input
data frame to include in the dropout model, e.g., c("age", "sex").
Factor variables need to be declared in the input data frame.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of results from the model fit including key information
such as the dropout model, <code>model</code>, the estimated model parameters,
<code>theta</code>, the covariance matrix, <code>vtheta</code>, as well as the
Akaike Information Criterion, <code>aic</code>, and
Bayesian Information Criterion, <code>bic</code>.
</p>
<p>If the piecewise exponential model is used, the location
of knots used in the model, <code>piecewiseDropoutTime</code>, will
be included in the list of results.
</p>
<p>If the model averaging option is chosen, the weight assigned
to the Weibull component is indicated by the <code>w1</code> variable.
</p>
<p>If the spline option is chosen, the <code>knots</code> and <code>scale</code>
will be included in the list of results.
</p>
<p>When fitting the dropout model by treatment, the outcome is presented
as a list of lists, where each list element corresponds to a
specific treatment group.
</p>
<p>The fitted time-to-dropout survival curve is also returned.
</p>


<h3>Author(s)</h3>

<p>Kaifeng Lu, <a href="mailto:kaifenglu@gmail.com">kaifenglu@gmail.com</a>
</p>


<h3>References</h3>

<p>Patrick Royston and Mahesh K. B. Parmar. Flexible parametric
proportional-hazards and proportional-odds models for censored
survival data, with application to prognostic modelling and
estimation of treatment effects. Stat in Med. 2002; 21:2175-2197.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
dropout_fit &lt;- fitDropout(df = interimData2,
                          dropout_model = "exponential")

</code></pre>


</div>