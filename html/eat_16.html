<div class="container">

<table style="width: 100%;"><tr>
<td>EAT</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Efficiency Analysis Trees</h2>

<h3>Description</h3>

<p>This function estimates a stepped production frontier through regression trees.
</p>


<h3>Usage</h3>

<pre><code class="language-R">EAT(
  data,
  x,
  y,
  numStop = 5,
  fold = 5,
  max.depth = NULL,
  max.leaves = NULL,
  na.rm = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code> or <code>matrix</code> containing the variables in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Column input indexes in data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Column output indexes in data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numStop</code></td>
<td>
<p>Minimum number of observations in a node for a split to be attempted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fold</code></td>
<td>
<p>Set of number of folds in which the dataset to apply cross-validation during the pruning is divided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.depth</code></td>
<td>
<p>Depth of the tree.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.leaves</code></td>
<td>
<p>Maximum number of leaf nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, <code>NA</code> rows are omitted.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The EAT function generates a regression tree model based on CART (Breiman et al. 1984) under a new approach that guarantees obtaining a stepped production frontier that fulfills the property of free disposability. This frontier shares the aforementioned aspects with the FDH frontier (Deprins and Simar 1984) but enhances some of its disadvantages such as the overfitting problem or the underestimation of technical inefficiency. More details in Esteve et al. (2020).
</p>


<h3>Value</h3>

<p>An <code>EAT</code> object containing:
</p>

<ul>
<li>
<p><code>data</code> </p>

<ul>
<li>
<p><code>df</code>: data frame containing the variables in the model.
</p>
</li>
<li>
<p><code>x</code>: input indexes in data.
</p>
</li>
<li>
<p><code>y</code>: output indexes in data.
</p>
</li>
<li>
<p><code>input_names</code>: input variable names.
</p>
</li>
<li>
<p><code>output_names</code>: output variable names.
</p>
</li>
<li>
<p><code>row_names</code>: rownames in data.</p>
</li>
</ul>
</li>
<li>
<p><code>control</code> </p>

<ul>
<li>
<p><code>fold</code>: fold hyperparameter value.
</p>
</li>
<li>
<p><code>numStop</code>: numStop hyperparameter value.
</p>
</li>
<li>
<p><code>max.leaves</code>: max.leaves hyperparameter value.
</p>
</li>
<li>
<p><code>max.depth</code>: max.depth hyperparameter value.
</p>
</li>
<li>
<p><code>na.rm</code>: na.rm hyperparameter value.</p>
</li>
</ul>
</li>
<li>
<p><code>tree</code>: list structure containing the EAT nodes.
</p>
</li>
<li>
<p><code>nodes_df</code>: data frame containing the following information for each node. </p>

<ul>
<li>
<p><code>id</code>: node index.  
</p>
</li>
<li>
<p><code>SL</code>: left child node index.
</p>
</li>
<li>
<p><code>N</code>: number of observations at the node. 
</p>
</li>
<li>
<p><code>Proportion</code>: proportion of observations at the node.
</p>
</li>
<li>
<p>the output predictions.
</p>
</li>
<li>
<p><code>R</code>: the error at the node.  
</p>
</li>
<li>
<p><code>index</code>: observation indexes at the node.</p>
</li>
</ul>
</li>
<li>
<p><code>model</code> </p>

<ul>
<li>
<p><code>nodes</code>: total number of nodes at the tree.  
</p>
</li>
<li>
<p><code>leaf_nodes</code>: number of leaf nodes at the tree.
</p>
</li>
<li>
<p><code>a</code>: lower bound of the nodes. 
</p>
</li>
<li>
<p><code>y</code>: output predictions.</p>
</li>
</ul>
</li>
</ul>
<h3>References</h3>

<p>Breiman L, Friedman J, Stone CJ, Olshen RA (1984).
<em>Classification and regression trees</em>.
CRC press. <br><br>
Deprins D, Simar L (1984).
“Measuring labor efficiency in post offices, The Performance of Public Enterprises: Concepts and Measurements, M. Marchand, P. Pestieau and H. Tulkens.” <br><br>
Esteve M, Aparicio J, Rabasa A, Rodriguez-Sala JJ (2020).
“Efficiency analysis trees: A new methodology for estimating production frontiers through decision trees.”
<em>Expert Systems with Applications</em>, <b>162</b>, 113783.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># ====================== #
# Single output scenario #
# ====================== #

simulated &lt;- Y1.sim(N = 50, nX = 3)
EAT(data = simulated, x = c(1, 2, 3), y = 4, numStop = 10, fold = 5, max.leaves = 6)

# ====================== #
#  Multi output scenario #
# ====================== #

simulated &lt;- X2Y2.sim(N = 50, border = 0.1)
EAT(data = simulated, x = c(1,2), y = c(3, 4), numStop = 10, fold = 7, max.depth = 7)

</code></pre>


</div>