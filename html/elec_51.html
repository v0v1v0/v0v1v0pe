<div class="container">

<table style="width: 100%;"><tr>
<td>tri.audit.sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>tri.audit.sim</h2>

<h3>Description</h3>

<p>This is a SIMULATION FUNCTION, and is not used for actual auditing of
elections.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tri.audit.sim(
  Z,
  n,
  p_d = 0.1,
  swing = 5,
  return.type = c("statistics", "taints", "precinct"),
  seed = NULL,
  PID = "PID",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>elec.data object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Sample size to draw.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_d</code></td>
<td>
<p>The probability of a precinct having an error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swing</code></td>
<td>
<p>The size of the error, in votes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.type</code></td>
<td>
<p>What kind of results to return: "statistics","taints", or
"precinct"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Random seed to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PID</code></td>
<td>
<p>Column name of column holding unique precinct IDs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments passed to tri.sample</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Given a matrix of votes, calculate the weights for all precincts and then
draw a sample (using tri.sample).  Then, assuming that p\_d percent of the
precincts (at random) have error, and the errors are due to vote miscounts
of size 'swing', conduct a simulated “audit”, returning the found
descrepancies.
</p>


<h3>Value</h3>

<p>List of taints found in such a circumstance OR precincts selected
with relevant attributes (including simulated errors, if asked) OR the
number of non-zero taints and the size of largest taint.
</p>


<h3>Author(s)</h3>

<p>Luke W. Miratrix
</p>


<h3>See Also</h3>

<p><code>elec.data</code> for the object that holds vote data.  See
<code>tri.calc.sample</code> for computing sample sizes for trinomial bound
audits.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

  data(santa.cruz)
  Z = elec.data(santa.cruz, C.names=c("leopold","danner"))
  Z$V$e.max = maximumMarginBound( Z )
  ## Sample from fake truth, see how many errors we get.
  tri.audit.sim( Z, 10,  p_d=0.25, swing=10, return.type="precinct" )

  ## what does distribution look like?
  res = replicate( 200, tri.audit.sim( Z, 10,  p_d=0.25, swing=10 ) )
  apply(res,1, summary) 
  hist( res[2,], main="Distribution of maximum size taint" )

</code></pre>


</div>