<div class="container">

<table style="width: 100%;"><tr>
<td>readCivEDICCS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Connect to ICCS and CivED Data</h2>

<h3>Description</h3>

<p>Opens a connection to an ICCS (2009, 2016) or CivEd (1999) data file and
returns an <code>edsurvey.data.frame</code> with
information about the file and data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">readCivEDICCS(
  path,
  countries,
  dataSet = c("student", "teacher"),
  gradeLvl = c("8", "9", "12"),
  forceReread = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>a character value of the full directory to the ICCS/CivED extracted SPSS (.sav) set of data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>countries</code></td>
<td>
<p>a character vector of the country/countries to include using
the three-digit International Organization for Standardization (ISO) country code.
A list of country codes can be found on Wikipedia at
<a href="https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes">https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes</a>
or other online sources. Consult the <em>ICCS/CivED User Guide</em> to help determine what countries
are included within a specific testing year of ICCS/CivED.
To select all countries, use a wildcard value of <strong><code>*</code></strong>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataSet</code></td>
<td>
<p>a character value of either <code>student</code> or <code>teacher</code> to indicate which set of data is returned.
The student-level and teacher-level datasets cannot both be returned at the same time, unlike other IEA datasets.
Note: The CivED 1999 study also included student-to-teacher data for Grade 8.  Specifying <code>dataSet="student"</code> and <code>gradeLvl=8</code>
will include both the <code>student</code> and <code>teacher</code> data in the resulting <code>edsurvey.data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gradeLvl</code></td>
<td>
<p>a character value of the grade level to return
</p>

<ul>
<li>
<p><strong>8</strong> = eighth grade (the default if not specified)
</p>
</li>
<li>
<p><strong>9</strong> = ninth grade
</p>
</li>
<li>
<p><strong>12</strong> = 12th grade (for CivED 1999 only)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forceReread</code></td>
<td>
<p>a logical value to force rereading of all processed data.
The default value of <code>FALSE</code> will speed up the <code>readCivEDICCS</code> function by using existing read-in data already processed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>a logical value to either print or suppress status message output.
The default value is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Reads in the unzipped files downloaded from the international database(s) using the <a href="https://www.iea.nl/data-tools/repository">IEA Study Data Repository</a>.
Data files require the SPSS data file (.sav) format using the default filenames.
</p>
<p>When using the <code>getData</code> function with a CivED or ICCS study <code>edsurvey.data.frame</code>,
the requested data variables are inspected, and it handles any necessary data merges automatically.
The <code>school</code> data always will be returned merged to the <code>student</code>
data, even if only <code>school</code> variables are requested.
If a 1999 CivED Grade 8 <code>edsurvey.data.frame</code> with <code>teacher</code> data variables is requested by the <code>getData</code> call,
it will cause <code>teacher</code> data to be merged.
Many <code>students</code> can be linked to many <code>teachers</code>, which varies widely between countries,
and not all countries contain <code>teacher</code> data.
</p>
<p>Calling the <code>dim</code> function for a CivED 1999 Grade 8 <code>edsurvey.data.frame</code> will result in the row count as if the <code>teacher</code> dataset was merged.
This row count will be considered the <code>full data N</code> of the <code>edsurvey.data.frame</code>, even if no <code>teacher</code> data were included in an analysis.
The column count returned by <code>dim</code> will be the count of unique column variables across all data levels.
</p>


<h3>Value</h3>

<p>an <code>edsurvey.data.frame</code> for a single specified country or an <code>edsurvey.data.frame.list</code> if multiple countries specified
</p>


<h3>Author(s)</h3>

<p>Tom Fink
</p>


<h3>See Also</h3>

<p><code>readNAEP</code>, <code>readTIMSS</code>, <code>getData</code>, and <code>downloadCivEDICCS</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
eng &lt;- readCivEDICCS("~/ICCS/2009/", countries = c("eng"),
                     gradeLvl = 8, dataSet = "student")
gg &lt;- getData(getData=eng, varnames=c("famstruc", "totwgts", "civ"))
head(gg)
edsurveyTable(formula=civ ~ famstruc, data=eng)

## End(Not run)
</code></pre>


</div>