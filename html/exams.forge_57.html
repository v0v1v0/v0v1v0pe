<div class="container">

<table style="width: 100%;"><tr>
<td>cor_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Correlation and Data Generation</h2>

<h3>Description</h3>

<p>Generates a data set based on <code>x</code> and <code>y</code> for a given target correlation <code>r</code> according to <code>stats::cor()</code>.
The algorithm modifies the order of the <code>y</code>'s, therefore is guaranteed that the (marginal) distribution of <code>x</code>
and <code>y</code> will not be modified. Please note that it is not guaranteed that the final correlation will be the desired correlation;
the algorithm interactively modifies the order. If you are unsatisfied with the result, it might help to increase <code>maxit</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cor_data(
  x,
  y,
  r,
  method = c("pearson", "kendall", "spearman"),
  ...,
  maxit = 1000
)

dcorr(x, y, r, method = c("pearson", "kendall", "spearman"), ..., maxit = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric: given <code>x</code> values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>numeric: given <code>y</code> values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>numeric: desired correlation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character: indicates which correlation coefficient is to be computed (default: '"pearson")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further parameters given to <code>stats::cor()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit</code></td>
<td>
<p>numeric: maximal number of iterations (default: <code>1000</code>)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix with two columns and an attribute <code>interim</code> for intermediate values as matrix.
The rows of the matrix contain:
</p>

<ul>
<li>
<p> if <code>method=="pearson"</code>: <code class="reqn">x_i</code>, <code class="reqn">y_i</code>,  <code class="reqn">x_i-bar{x}</code>, <code class="reqn">y_i-\bar{y}</code>,
<code class="reqn">(x_i-bar{x})^2</code>, <code class="reqn">(y_i-\bar{y})^2</code>, and <code class="reqn">(x_i-bar{x})((y_i-\bar{y})</code>.
</p>
</li>
<li>
<p> if <code>method=="kendall"</code>:
</p>

<ul>
<li> <p><code class="reqn">x_i</code>: The original x values.
</p>
</li>
<li> <p><code class="reqn">y_i</code>: The original y values.
</p>
</li>
<li> <p><code class="reqn">p_i</code>: The number of concordant pairs.
</p>
</li>
<li> <p><code class="reqn">q_i</code>: The number of discordant pairs.
</p>
</li>
</ul>
</li>
<li>
<p> if <code>method=="spearman"</code>: <code class="reqn">x_i</code>, <code class="reqn">y_i</code>, <code class="reqn">p_i</code> (concordant pairs), and <code class="reqn">q_i</code> (disconcordant pairs).
In a final step a vector with the row <code>sums</code> is appended as further column.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">x &lt;- runif(6)
y &lt;- runif(6)
xy &lt;- cor_data(x, y, r=0.6)
cbind(x, y, xy)
</code></pre>


</div>