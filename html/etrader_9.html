<div class="container">

<table style="width: 100%;"><tr>
<td>etrd_auth_login_url</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Auth Step 2: Generate ETRADE URL for log in</h2>

<h3>Description</h3>

<p>Step 2 of ETRADE authentication. Use the output from
<code>etrd_auth_credentials</code> to generate Request Tokens and a login
URL
</p>


<h3>Usage</h3>

<pre><code class="language-R">etrd_auth_login_url(etrade_cred = NULL, sandbox = FALSE, auto_open = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>etrade_cred</code></td>
<td>
<p>The output created from
<code>etrd_auth_credentials</code> when a valid ETRADE key and secret have
been passed. This entry is not required because the output is saved and
retrieved from R options automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sandbox</code></td>
<td>
<p>ETRADE offers a sandbox environment for validating API calls
and responses. If using the sandbox environment, this must be set to TRUE
in each function called throughout etrader. ETRADE states "Sandbox
responses use stored data that's intended to provide typical responses for
basic use cases. So the responses you receive will not contain current
data, and may not exactly match your requests in other ways." Essentially,
the responses will not match the requests entered but successful pull will
indicate whether the entry was valid or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto_open</code></td>
<td>
<p>indicate whether the browser should open automatically to
the login URL</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Authentication into the ETRADE environment requires a three step process: set
ETRADE credentials, generate request tokens to create a login URL, and use
the verification code to create access tokens. The output from
<code>etrd_auth_credentials</code> needs to be fed into this function to
create the URL.
</p>
<p>Once the URL is generated it will pop up automatically. Log into the page. If
the redirect is to a normal ETRADE landing page, re-paste the URL into the
browser. The page header should read: Indicate Terms Agreement. Press
"Accept" to generate a 5 digit alpha-numeric Verification Code. The
Verification Code will feed into <code>etrd_auth_access_token</code> to
generate Access Tokens and complete the authorization process.
</p>


<h3>Value</h3>

<p>a list of three items: a login URL valid for 5 minutes and two
request tokens, a key and secret
</p>


<h3>See Also</h3>

<p><code>etrd_auth_credentials</code> to set the key and secret into
an oauth app, <code>etrd_auth_login_url</code> to generate request tokens
and create a login URL, <code>etrd_auth_access_token</code> to use the
verification code to create access tokens,
<code>etrd_auth_manage_token</code> to renew or revoke access tokens
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# The etrade_cred has been stored into options so does not need to be passed
loginURL = etrd_auth_login_url()


## End(Not run)
</code></pre>


</div>