<div class="container">

<table style="width: 100%;"><tr>
<td>probsens</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Probabilistic sensitivity analysis.</h2>

<h3>Description</h3>

<p>Probabilistic sensitivity analysis to correct for exposure misclassification or
outcome misclassification and random error.
Non-differential misclassification is assumed when only the two bias parameters
<code>seca.parms</code> and <code>spca.parms</code> are provided. Adding the 2 parameters
<code>seexp.parms</code> and <code>spexp.parms</code> (i.e. providing the 4 bias parameters)
evaluates a differential misclassification.
</p>


<h3>Usage</h3>

<pre><code class="language-R">probsens(
  case,
  exposed,
  type = c("exposure", "outcome"),
  reps = 1000,
  seca.parms = list(dist = c("constant", "uniform", "triangular", "trapezoidal",
    "logit-logistic", "logit-normal", "beta"), parms = NULL),
  seexp.parms = NULL,
  spca.parms = list(dist = c("constant", "uniform", "triangular", "trapezoidal",
    "logit-logistic", "logit-normal", "beta"), parms = NULL),
  spexp.parms = NULL,
  corr.se = NULL,
  corr.sp = NULL,
  discard = TRUE,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>case</code></td>
<td>
<p>Outcome variable. If a variable, this variable is tabulated against.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposed</code></td>
<td>
<p>Exposure variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Choice of correction for exposure or outcome misclassification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>
<p>Number of replications to run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seca.parms</code></td>
<td>
<p>List defining:
</p>

<ol>
<li>
<p> The sensitivity of exposure classification among those with the outcome (when <code>type = "exposure"</code>), or
</p>
</li>
<li>
<p> The sensitivity of outcome classification among those with the exposure (when <code>type = "outcome"</code>).
</p>
</li>
</ol>
<p>The first argument provides the probability distribution function (constant, uniform, triangular, trapezoidal, logit-logistic, logit-normal, or beta) and the second its parameters as a vector. Logit-logistic and logit-normal distributions can be shifted by providing lower and upper bounds. Avoid providing these values if a non-shifted distribution is desired.
</p>

<ol>
<li>
<p> constant: constant value,
</p>
</li>
<li>
<p> uniform: min, max,
</p>
</li>
<li>
<p> triangular: lower limit, upper limit, mode,
</p>
</li>
<li>
<p> trapezoidal: min, lower mode, upper mode, max,
</p>
</li>
<li>
<p> logit-logistic: location, scale, lower bound shift, upper bound shift,
</p>
</li>
<li>
<p> logit-normal: location, scale, lower bound shift, upper bound shift.
</p>
</li>
<li>
<p> beta: alpha, beta.
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seexp.parms</code></td>
<td>
<p>List defining:
</p>

<ol>
<li>
<p> The sensitivity of exposure classification among those without the outcome (when <code>type = "exposure"</code>), or
</p>
</li>
<li>
<p> The sensitivity of outcome classification among those without the exposure (when <code>type = "outcome"</code>).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spca.parms</code></td>
<td>
<p>List as above for <code>seca.parms</code> but for specificity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spexp.parms</code></td>
<td>
<p>List as above for <code>seexp.parms</code> but for specificity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corr.se</code></td>
<td>
<p>Correlation between case and non-case sensitivities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corr.sp</code></td>
<td>
<p>Correlation between case and non-case specificities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discard</code></td>
<td>
<p>A logical scalar. In case of negative adjusted count, should the draws be discarded? If set to FALSE, negative counts are set to zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Significance level.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>obs.data</code></td>
<td>
<p>The analyzed 2 x 2 table from the observed data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs.measures</code></td>
<td>
<p>A table of observed relative risk and odds ratio with confidence intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj.measures</code></td>
<td>
<p>A table of corrected relative risks and odds ratios.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim.df</code></td>
<td>
<p>Data frame of random parameters and computed values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>
<p>Number of replications.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Lash, T.L., Fox, M.P, Fink, A.K., 2009 <em>Applying Quantitative
Bias Analysis to Epidemiologic Data</em>, pp.117â€“150, Springer.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># The data for this example come from:
# Greenland S., Salvan A., Wegman D.H., Hallock M.F., Smith T.J.
# A case-control study of cancer mortality at a transformer-assembly facility.
# Int Arch Occup Environ Health 1994; 66(1):49-54.
set.seed(123)
# Exposure misclassification, non-differential
probsens(matrix(c(45, 94, 257, 945),
dimnames = list(c("BC+", "BC-"), c("Smoke+", "Smoke-")), nrow = 2, byrow = TRUE),
type = "exposure",
reps = 20000,
seca.parms = list("trapezoidal", c(.75, .85, .95, 1)),
spca.parms = list("trapezoidal", c(.75, .85, .95, 1)))

# Exposure misclassification, differential
probsens(matrix(c(45, 94, 257, 945),
dimnames = list(c("BC+", "BC-"), c("Smoke+", "Smoke-")), nrow = 2, byrow = TRUE),
type = "exposure",
reps = 20000,
seca.parms = list("trapezoidal", c(.75, .85, .95, 1)),
seexp.parms = list("trapezoidal", c(.7, .8, .9, .95)),
spca.parms = list("trapezoidal", c(.75, .85, .95, 1)),
spexp.parms = list("trapezoidal", c(.7, .8, .9, .95)),
corr.se = .8,
corr.sp = .8)

probsens(matrix(c(45, 94, 257, 945),
dimnames = list(c("BC+", "BC-"), c("Smoke+", "Smoke-")), nrow = 2, byrow = TRUE),
type = "exposure",
reps = 20000,
seca.parms = list("beta", c(908, 16)),
seexp.parms = list("beta", c(156, 56)),
spca.parms = list("beta", c(153, 6)),
spexp.parms = list("beta", c(205, 18)),
corr.se = .8,
corr.sp = .8)

probsens(matrix(c(338, 490, 17984, 32024),
dimnames = list(c("BC+", "BC-"), c("Smoke+", "Smoke-")), nrow = 2, byrow = TRUE),
type = "exposure",
reps = 1000,
seca.parms = list("trapezoidal", c(.8, .9, .9, 1)),
spca.parms = list("trapezoidal", c(.8, .9, .9, 1)))

# Disease misclassification
probsens(matrix(c(173, 602, 134, 663),
dimnames = list(c("BC+", "BC-"), c("Smoke+", "Smoke-")), nrow = 2, byrow = TRUE),
type = "outcome",
reps = 20000,
seca.parms = list("uniform", c(.8, 1)),
spca.parms = list("uniform", c(.8, 1)))

probsens(matrix(c(338, 490, 17984, 32024),
dimnames = list(c("BC+", "BC-"), c("Smoke+", "Smoke-")), nrow = 2, byrow = TRUE),
type = "outcome",
reps = 20000,
seca.parms = list("uniform", c(.2, .6)),
seexp.parms = list("uniform", c(.1, .5)),
spca.parms = list("uniform", c(.99, 1)),
spexp.parms = list("uniform", c(.99, 1)),
corr.se = .8,
corr.sp = .8)

probsens(matrix(c(173, 602, 134, 663),
dimnames = list(c("BC+", "BC-"), c("Smoke+", "Smoke-")), nrow = 2, byrow = TRUE),
type = "outcome",
reps = 20000,
seca.parms = list("beta", c(100, 5)),
seexp.parms = list("beta", c(110, 10)),
spca.parms = list("beta", c(120, 15)),
spexp.parms = list("beta", c(130, 30)),
corr.se = .8,
corr.sp = .8)
</code></pre>


</div>