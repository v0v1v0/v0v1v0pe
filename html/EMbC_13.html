<div class="container">

<table style="width: 100%;"><tr>
<td>cnfm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Confusion matrix</h2>

<h3>Description</h3>

<p><code>cnfm</code> computes the confusion matrix of the clustering with
respect to an expert/reference labeling of the data. Also, it can be used
to compare the labelings of two different clusterings of the same
trajectory, (see details).
</p>


<h3>Usage</h3>

<pre><code class="language-R">cnfm(obj, ref, ...)

## S4 method for signature 'binClst,numeric'
cnfm(obj, ref, ret = FALSE, ...)

## S4 method for signature 'binClstPath,missing'
cnfm(obj, ref, ret = FALSE, ...)

## S4 method for signature 'binClstStck,missing'
cnfm(obj, ref, ret = FALSE, ...)

## S4 method for signature 'binClst,binClst'
cnfm(obj, ref, ret = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>A binClst_instance or <code>bnClstStck</code> instance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>A numeric vector with an expert/reference labeling of the data.
</p>
<p>A second binClst_instance (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Parameters <code>ref</code> and <code>ret</code> are optional.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ret</code></td>
<td>
<p>A boolean value (defaults to FALSE). If ret=TRUE the confusion
matrix is returned as a matrix object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The confusion matrix yields marginal counts and Recall for each row, and
marginal counts, Precision and class F-measure for each column. The 3x2
subset of cells at the bottom right show (in this order): the overall
Accuracy, the average Recall, the average Precision, NaN, NaN, and the
overall Macro-F-Measure. The number of classes (expert/reference labeling)
should match or, at least not be greater than the number of clusters. The
overall value of the Macro-F-Measure is an average of the class F-measure
values, hence it is underestimated if the number of classes is lower than the
number of clusters.
</p>
<p>If <code>obj</code> is a binClstPath_instance and there is a column "lbl" in
the obj@pth slot with an expert labeling, this labeling will be used by
default.
</p>
<p>If <code>obj</code> is a <code>binClstStck</code> instance and, for all paths in the
stack, there is a column "lbl" in the obj@pth slot of each, this labeling
will be used to compute the confusion matrix for the whole stack.
</p>
<p>If <code>obj</code> and <code>ref</code> are both a binClst_instance (e.g.
smoothed versus non-smoothed), the confusion matrix compares both labelings.
</p>


<h3>Value</h3>

<p>If ret=TRUE returns a matrix with the confusion matrix values.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># -- apply EMbC to the example path --
mybcp &lt;- stbc(expth,info=-1)
# -- compute the confusion matrix --
cnfm(mybcp,expth$lbl)
# -- as we have expth$lbl the following also works --
cnfm(mybcp,mybcp@pth$lbl)
# -- or simply --
cnfm(mybcp)
# -- numerical differences with respect to the smoothed clustering --
cnfm(mybcp,smth(mybcp))
</code></pre>


</div>