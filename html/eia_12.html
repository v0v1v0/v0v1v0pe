<div class="container">

<table style="width: 100%;"><tr>
<td>eia_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>EIA data</h2>

<h3>Description</h3>

<p>Obtain data from the EIA.
</p>


<h3>Usage</h3>

<pre><code class="language-R">eia_data(
  dir,
  data = NULL,
  facets = NULL,
  freq = NULL,
  start = NULL,
  end = NULL,
  sort = NULL,
  length = NULL,
  offset = NULL,
  tidy = TRUE,
  check_metadata = FALSE,
  cache = TRUE,
  key = eia_get_key()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>character, directory path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>character or <code>NULL</code>,
</p>

<ul>
<li>
<p> note: if <code>NULL</code>, <code>eia_data()</code> will only return column headings; must input a character value
as provided by <code>eia_metadata()</code> for data to be returned.
</p>
</li>
<li>
<p> see details.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facets</code></td>
<td>
<p>character list or <code>NULL</code>, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>character or <code>NULL</code>, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start, end</code></td>
<td>
<p>character or <code>NULL</code>, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>named list of two.
</p>

<ul>
<li> <p><code>cols</code>: list column names on which to sort.
</p>
</li>
<li> <p><code>order</code>: <code>"asc"</code> or <code>"desc"</code> for ascending or descending, respectively.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length</code></td>
<td>
<p>numeric or <code>NULL</code>, number of rows to return.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>numeric or <code>NULL</code>, number of rows to skip before return.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tidy</code></td>
<td>
<p>logical or <code>NULL</code>, return a tidier result. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_metadata</code></td>
<td>
<p>logical, if <code>TRUE</code> checks input values against metadata endpoint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>logical, cache result for duration of R session using memoization.
See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>API key: character if set explicitly; not needed if key is set
globally. See <code>eia_set_key()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, <code>data</code>, <code>facets</code>, and <code>freq</code> are set to <code>NULL</code>. To obtain valid
input values for each of these arguments, use the specific ID labels
as provided by <code>eia_metadata()</code>.
</p>
<p>The use of <code>start</code> and <code>end</code> require some input to <code>freq</code>.
By default (<code>check_metadata = FALSE</code>), the resulting data will match the
temporal resolution provided to <code>freq</code>, however, <code>check_metadata = TRUE</code> applies
further restrictions such that the format of values provided to <code>start</code>/<code>end</code> must match
that of <code>freq</code>. Furthermore, regardless of the input format provided to <code>start</code>/<code>end</code>,
the resulting data will always match the specification of <code>freq</code>. And lastly,
regardless of chosen format, <code>end</code> must be strictly greater than <code>start</code> to return data.
</p>
<p>By default, additional processing is done to return a list containing tibble data frames.
Set <code>tidy = FALSE</code> to return only the initial list result of <code>jsonlite::fromJSON</code>.
Set <code>tidy = NA</code> to return the original JSON as a character string.
</p>
<p>Set to <code>cache = FALSE</code> to force a new API call for updated data.
Using <code>FALSE</code> always makes a new API call and returns the result from the server.
<code>TRUE</code> uses memoization on a per R session basis, caching the result of the
function call in memory for the duration of the R session.
You can reset the entire cache by calling <code>eia_clear_cache()</code>.
</p>


<h3>Value</h3>

<p>data frame
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
eia_data(
  dir = "electricity/retail-sales",
  data = "price",
  facets = list(sectorid = c("COM", "RES"), stateid = "OH")
)

## End(Not run)
</code></pre>


</div>