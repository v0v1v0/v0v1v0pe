<div class="container">

<table style="width: 100%;"><tr>
<td>evimp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate variable importances in an earth object</h2>

<h3>Description</h3>

<p>Estimate variable importances in an <code>earth</code> object
</p>


<h3>Usage</h3>

<pre><code class="language-R">evimp(object, trim=TRUE, sqrt.=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>An <code>earth</code> object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>

<p>If <code>TRUE</code> (default), delete rows in the returned matrix for
variables that don't appear in any subsets.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sqrt.</code></td>
<td>

<p>Default is <code>TRUE</code>,
meaning take the <code>sqrt</code> of the GCV and RSS importances before
normalizing to 0 to 100.
Taking the square root gives a better indication of
relative importances because the raw importances are calculated using
a sum of squares.
Use <code>FALSE</code> to not take the square root.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function returns a matrix showing the relative importances of the
variables in the model.  There is a row for each variable.  The row
name is the variable name, but with <code>-unused</code> appended if the
variable does not appear in the final model.
</p>
<p>The columns of the matrix are (not all of these are printed by <code>print.evimp</code>):
</p>

<ul>
<li> <p><code>col</code>: Column index of the variable in the <code>x</code> argument to <code>earth</code>.
</p>
</li>
<li> <p><code>used</code>: 1 if the variable is used in the final model, else 0.
Equivalently, 0 if the row name has an <code>-unused</code> suffix.
</p>
</li>
<li> <p><code>nsubsets</code>: Variable importance using the "number of subsets" criterion.
Is the number of subsets that include the variable (see "Three Criteria" in the chapter
on <code>evimp</code> in the <code>earth</code> vignette
“<a href="../doc/earth-notes.pdf">Notes on the earth package</a>”).
</p>
</li>
<li> <p><code>gcv</code>: Variable importance using the GCV criterion (see "Three Criteria").
</p>
</li>
<li> <p><code>gcv.match</code>: 1, except is
0 where the rank using the <code>gcv</code> criterion differs from
that using the <code>nsubsets</code> criterion.
In other words, there is a 0 for values that increase as you go
down the <code>gcv</code> column.
</p>
</li>
<li> <p><code>rss</code>: Variable importance using the RSS criterion (see "Three Criteria").
</p>
</li>
<li> <p><code>rss.match</code>: Like <code>gcv.match</code> but for the <code>rss</code>.
</p>
</li>
</ul>
<p>The rows are sorted on the <code>nsubsets</code> criterion.
This means that values in the <code>nsubsets</code> column decrease as you go down the column
(more accurately, they are non-increasing).
The values in the <code>gcv</code> and <code>rss</code> columns
are also non-increasing, except where the
<code>gcv</code> or <code>rss</code> rank differs from the <code>nsubsets</code> ranking.
</p>


<h3>Note</h3>

<p>There is a chapter on <code>evimp</code> in the <code>earth</code> package vignette
“<a href="../doc/earth-notes.pdf">Notes on the earth package</a>”.
</p>
<p><b>Acknowledgment</b>
</p>
<p>Thanks to Max Kuhn for the original <code>evimp</code> code and for helpful discussions.
</p>


<h3>See Also</h3>

<p><code>earth</code>,
<code>plot.evimp</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(ozone1)
earth.mod &lt;- earth(O3 ~ ., data=ozone1, degree=2)
ev &lt;- evimp(earth.mod, trim=FALSE)
plot(ev)
print(ev)
</code></pre>


</div>