<div class="container">

<table style="width: 100%;"><tr>
<td>ezCor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute and plot an information-dense correlation matrix</h2>

<h3>Description</h3>

<p>This function provides simultaneous visualization of a correlation matrix, scatter-plot with linear fits, and univariate density plots for multiple variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ezCor(
    data
    , r_size_lims = c(10,30)
    , point_alpha = .5
    , density_height = 1
    , density_adjust = 1
    , density_colour = 'white'
    , label_size = 10
    , label_colour = 'black'
    , label_alpha = .5
    , lm_colour = 'red'
    , ci_colour = 'green'
    , ci_alpha = .5
    , test_alpha = .05
    , test_correction = 'none'
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>Data frame containing named columns of data only.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_size_lims</code></td>
<td>

<p>Minimum and maximum size of the text reporting the correlation coefficients. Minimum is mapped to coefficients of 0 and maximum is mapped to coefficients of 1, with the mapping proportional to r^2.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_alpha</code></td>
<td>

<p>Transparency of the data points (1 = opaque).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density_height</code></td>
<td>

<p>Proportion of the facet height taken up by the density plots.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density_adjust</code></td>
<td>

<p>Adjusts the bandwidth of the univariate density estimator. See <code>adjust</code> parameter in <code>density</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density_colour</code></td>
<td>

<p>Colour of the density plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_size</code></td>
<td>

<p>Size of the variable labels on the diagonal.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_colour</code></td>
<td>

<p>Colour of the variable labels on the diagonal.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_alpha</code></td>
<td>

<p>Transparency of the variable labels on the diagonal (1 = opaque).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lm_colour</code></td>
<td>

<p>Colour of the fitted line.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_colour</code></td>
<td>

<p>Colour of the confidence interval surrounding the fitted line.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_alpha</code></td>
<td>

<p>Transparency of the confidence interval surrounding the fitted line (1 = opaque).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_alpha</code></td>
<td>

<p>Type-I error rate requested for colouring of the “significant” correlation coefficients.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_correction</code></td>
<td>

<p>Character string specifying the type of correction for multiple comparisons applied to the value specified by <code>test_alpha</code>. Possible values are “none”, “bonferroni”, and “sidak”,
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A printable/modifiable ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Michael A. Lawrence <a href="mailto:mike.lwrnc@gmail.com">mike.lwrnc@gmail.com</a><br>
Visit the <code>ez</code> development site at <a href="http://github.com/mike-lawrence/ez">http://github.com/mike-lawrence/ez</a><br>
for the bug/issue tracker and the link to the mailing list.
</p>


<h3>Examples</h3>

<pre><code class="language-R">########
# Set up some fake data
########
library(MASS)
N=100

#first pair of variables
variance1=1
variance2=2
mean1=10
mean2=20
rho = .8
Sigma=matrix(
    c(
        variance1
        , sqrt(variance1*variance2)*rho
        , sqrt(variance1*variance2)*rho
        , variance2
    )
    , 2
    , 2
)
pair1=mvrnorm(N,c(mean1,mean2),Sigma,empirical=TRUE)

#second pair of variables
variance1=10
variance2=20
mean1=100
mean2=200
rho = -.4
Sigma=matrix(
    c(
        variance1
        , sqrt(variance1*variance2)*rho
        , sqrt(variance1*variance2)*rho
        , variance2
    )
    , 2
    , 2
)
pair2=mvrnorm(N,c(mean1,mean2),Sigma,empirical=TRUE)

my_data=data.frame(cbind(pair1,pair2))

########
# Now plot
########
p = ezCor(
    data = my_data
)
print(p)

#you can modify the default colours of the
##correlation coefficients as follows
library(ggplot2)
p = p + scale_colour_manual(values = c('red','blue'))
print(p)
#see the following for alternatives:
# http://had.co.nz/ggplot2/scale_manual.html
# http://had.co.nz/ggplot2/scale_hue.html
# http://had.co.nz/ggplot2/scale_brewer.html

</code></pre>


</div>