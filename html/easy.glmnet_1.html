<div class="container">

<table style="width: 100%;"><tr>
<td>assign.folds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Assign observations to folds in a balanced way</h2>

<h3>Description</h3>

<p>Function to assign observations to folds, ensuring a similar distribution across folds (and sites).</p>


<h3>Usage</h3>

<pre><code class="language-R">assign.folds(y, family = c("binomial", "cox", "gaussian"), site = NULL, nfolds = 10)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>response to be predicted. A binary vector for <code>"binomial"</code>, an object of class <code>"Surv"</code> for <code>"cox"</code>, or a numeric vector for <code>"gaussian"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>distribution of y: <code>"binomial"</code>, <code>"cox"</code>, or <code>"gaussian"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>site</code></td>
<td>
<p>vector with the sites' names, or NULL for studies conducted in a single site.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfolds</code></td>
<td>
<p>number of folds.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>family</code> is <code>"binomial"</code>, the function randomly assigns the folds separately for the two outcomes. If <code>family</code> is <code>"gaussian"</code>, the function randomly assigns the folds separately for ranges of the outcome. If <code>family</code> is <code>"gaussian"</code>, the function randomly assigns the folds separately for ranges of time and censorship. If <code>site</code> is not null, the function randomly assigns the folds separately for each site.</p>


<h3>Value</h3>

<p>A numeric vector with the fold assigned to each observation</p>


<h3>Author(s)</h3>

<p>Joaquim Radua and Aleix Solanes</p>


<h3>References</h3>

<p>Solanes, A., Mezquida, G., Janssen, J., Amoretti, S., Lobo, A., Gonzalez-Pinto, A., Arango, C., Vieta, E., Castro-Fornieles, J., Berge, D., Albacete, A., Gine, E., Parellada, M., Bernardo, M.; PEPs group (collaborators); Pomarol-Clotet, E., Radua, J. (2022)
Combining MRI and clinical data to detect high relapse risk after the first episode of psychosis.
<em>Schizophrenia</em>, <b>8</b>, 100, doi:10.1038/s41537-022-00309-w.
</p>


<h3>See Also</h3>

<p><code>cv</code> for conducting a cross-validation.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Create random y (numeric)
y = rnorm(200, sample(c(1, 10), 200, replace = TRUE))

# Assign folds
fold = assign.folds(y, "gaussian", nfolds = 4)

# Check that the distribution of y is similar across folds
oldpar = par(mfrow = c(2, 2))
for (i in 1:4) {
  hist(y[which(fold == i)], main = paste("Fold", i), xlab = "y")
}
par(oldpar)
</code></pre>


</div>