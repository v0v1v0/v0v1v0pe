<div class="container">

<table style="width: 100%;"><tr>
<td>as.week</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert dates object in 'disease week' for plotting epidemic curves</h2>

<h3>Description</h3>

<p>Convert dates into "disease week" with values of 1 to 53 for plotting
epidemic curves  
</p>


<h3>Usage</h3>

<pre><code class="language-R">as.week(x, format = "%Y-%m-%d", 
        min.date, max.date, before = 7, after = 7,
        origin = as.Date("1970-01-01"), sunday = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>character vector of dates
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>

<p>date format of <code>x</code>; default is of form "2004-08-10" 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.date</code></td>
<td>

<p>[optional] minimum calendar date for plotting x-axis of an epidemic
curve; should be of the form of "2004-08-10"; if no date is
specified, then several days are subtracted from the minimum date in
<code>x</code> as specified by the <code>before</code> option
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.date</code></td>
<td>

<p>[optional] maximum calendar date for plotting x-axis of an epidemic
curve plot; should be f the form of "2004-08-10"; if no date is
specified, then several days are added to the maximum date in
<code>x</code> as specified by the <code>after</code> option
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>before</code></td>
<td>

<p>if <code>min.date</code> is not specified, then these number of days are
subtracted from the minimum date in <code>x</code> for plotting minimum
calendar date for epidemic curve
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>after</code></td>
<td>

<p>if <code>max.date</code> is not specified, then these number of days are
added to the maximum date in <code>x</code> for plotting maximum calendar
date for epidemic curve 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>

<p>allows user to specify an alternative origin for Julian dates that
are generated by this function (default = "1970-01-01")
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sunday</code></td>
<td>

<p>First day of the week is Sunday (default = TRUE); setting to FALSE
makes Monday the first day of the week
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In public health, reportable diseases are often reported by 'disease
week' (either week of reporting or week of symptom onset). In R, weeks
are numbered from 0 to 53 in the same year. The first day of week 1
starts with either the first Sunday or Monday of the year. Days before
week 1 are numbered as 0s.
</p>
<p>In contrast to R, the <code>as.week</code> function generates weeks numbered
from 1 to 53. The week before week 1 takes on the value (52 or 53)
from the last week of the previous year. The <code>as.week</code> functions
facilitates working with multiple years and generating epidemic curves.
</p>


<h3>Value</h3>

<p>Returns a list of the following:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>$dates</code></td>
<td>

<p>input dates are converted to standard calendar date format
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$firstday</code></td>
<td>

<p>first day of the week is reported
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$week</code></td>
<td>

<p>week of the year (1-53); note that week 52 or 53 can represent both
last week of a year but also the first few days at the beginning of
the year
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$stratum</code></td>
<td>

<p>the Julian date for the mid-week day of the <code>$week</code> value
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$stratum2</code></td>
<td>

<p>the Julian date for the mid-week day of the <code>$week</code> value
converted to a factor with levels determined by the Julian dates
(<code>$cstratum</code>) used to plot the epidemic curve
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$stratum3</code></td>
<td>

<p>the mid-week day of the <code>$week</code> value converted to standard
calendar dates
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cweek</code></td>
<td>

<p>the week of the year used for plotting the x-axis of an epidemic
curve
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cstratum</code></td>
<td>

<p>the Julian date for the mid-week day of the <code>$cweek</code> value used
for plotting the x-axis of an epidemic curve
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cstratum2</code></td>
<td>

<p>the standard calendar date for the mid-week day of the <code>$cweek</code>
value used for plotting the x-axis of an epidemic curve
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cmday</code></td>
<td>

<p>the day of the mon (1-31) for the calendar dates used for plotting
the x-axis of an epidemic curve
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cmonth</code></td>
<td>

<p>the months (Jan, Feb, Mar, ...) for the calendar dates used for
plotting the x-axis of an epidemic curve
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cyear</code></td>
<td>

<p>the years (e.g., 1996, 2001, ...) for the calendar dates used for
plotting the x-axis of an epidemic curve
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Tomas Aragon, <a href="mailto:aragon@berkeley.edu">aragon@berkeley.edu</a>,
<a href="http://www.phdata.science">http://www.phdata.science</a></p>


<h3>References</h3>

<p>none</p>


<h3>See Also</h3>

<p>epitools: <code>as.month</code>, <code>epicurve.dates</code>
</p>
<p><code>as.Date</code>, <code>strptime</code>,
<code>DateTimeClasses</code></p>


<h3>Examples</h3>

<pre><code class="language-R">dates &lt;- c("1/1/04", "1/2/04", "1/3/04", "1/4/04", "1/5/04",
"1/6/04", "1/7/04", "1/8/04", "1/9/04", "1/10/04", NA, "1/12/04",
"1/14/04", "3/5/04", "5/5/04", "7/6/04", "8/18/04", "12/13/05",
"1/5/05", "4/6/05", "7/23/05", "10/3/05")
aw &lt;- as.week(dates, format = "%m/%d/%y")
aw

aw2 &lt;- as.week(dates, format = "%m/%d/%y", sunday= FALSE)
aw2

aw3 &lt;- as.week(dates, format = "%m/%d/%y", min.date="2003-01-01")
aw3

</code></pre>


</div>