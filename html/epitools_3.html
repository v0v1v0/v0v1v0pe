<div class="container">

<table style="width: 100%;"><tr>
<td>as.hour</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert date-time object into hour units</h2>

<h3>Description</h3>

<p>Convert date-time object into hour or half-hour units
</p>


<h3>Usage</h3>

<pre><code class="language-R">as.hour(x, mindt, maxdt, half.hour = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Date-time object in standard format: for example, "2004-12-23 08:27:00", "2004-12-23 08:27", "2004-12-23"
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mindt</code></td>
<td>

<p>[required] Date-time object in standard format that will form the lower
boundary of the hour or half-hour time categories. <code>mindt</code> must
less than or equal to the minimum value in <code>x</code>, and must be rounded
off to the nearst hour for hour categories (e.g., HH:00:00) or rounded
off to the nearest half-hour for half-hour categories (e.g., HH:30:00).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxdt</code></td>
<td>

<p>[required] Date-time object in standard format that will form the upper
boundary of the hour or half-hour time categories. <code>maxdt</code> must
greater than or equal to the minimum value in <code>x</code>, and must be rounded
off to the nearst hour for hour categories (e.g., HH:00:00) or rounded
off to the nearest half-hour for half-hour categories (e.g., HH:30:00).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>half.hour</code></td>
<td>

<p>Set to TRUE for half-hour categories.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function (1) converts standard date-time objects into 1-hour or
1/2-hour categories, and (2) generates levels for range of values that
that the new 1-hour or 1/2-hour categories can take. These levels are
use for converting x into a factor and for providing names for labeling
the x-axis in plot. This function is used by <code>epicurves.hours</code>.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>$ct</code></td>
<td>

<p>Date-time object that contains the number of seconds since the beginning
of 1970 as a numeric vector and produced by <code>as.POSIXct</code>. You
can use <code>as.POSIXlt</code> to convert this output in human legible
(already done by this function).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$sec</code></td>
<td>
<p>seconds</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$min</code></td>
<td>
<p>minutes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$hour</code></td>
<td>
<p>hours (0-23)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$hour12</code></td>
<td>
<p>hours (1-12)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$stratum</code></td>
<td>
<p>number of hours or 1/2 hours since beginning of 1970</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$stratum2</code></td>
<td>

<p>factor (categorical variable) with number of hours of 1/2 hours since
beginning of 1970 using <code>$cstratum</code> as the levels
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$stratum3</code></td>
<td>

<p>factor (categorical variable) in standard date-time format indicating
number of hours or 1/2 hours since beginning of 1970 using
<code>$cstratum2</code> as the levels 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cstratum</code></td>
<td>
<p>levels for creating <code>$stratum2</code> factor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cstratum2</code></td>
<td>
<p>levels for creating <code>$stratum3</code> factor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$csec</code></td>
<td>
<p>seconds from <code>$cstratum2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cmin</code></td>
<td>
<p>minutes from <code>$cstratum2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$chour</code></td>
<td>
<p>hours from <code>$cstratum2</code> in 24-hour format</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$chour12</code></td>
<td>
<p>hours from <code>$cstratum2</code> in 12-hour format</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$campm</code></td>
<td>
<p>corresponding 'AM' or 'PM' for <code>$chour12</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$campm2</code></td>
<td>
<p>corresponding 'am' or 'pm' for <code>$chour12</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cweekday</code></td>
<td>
<p>day of the week for <code>$cstratum2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cwkday</code></td>
<td>
<p>abbreviated day of the week for <code>$cstratum2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cmday</code></td>
<td>
<p>day of the month for <code>$cstratum2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cmonth</code></td>
<td>
<p>month for <code>$cstratum2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cmon</code></td>
<td>
<p>abbreviated month for <code>$cstratum2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$cyear</code></td>
<td>
<p>year for <code>$cstratum2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$half.hour</code></td>
<td>

<p>FALSE (default) for 1-hour categories; TRUE for
1/2-hour categories</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Tomas Aragon, <a href="mailto:aragon@berkeley.edu">aragon@berkeley.edu</a>,
<a href="http://www.phdata.science">http://www.phdata.science</a></p>


<h3>References</h3>

<p>none</p>


<h3>See Also</h3>

<p>epitools: <code>as.month</code>, <code>epicurve.dates</code>
</p>
<p><code>as.Date</code>, <code>strptime</code>,
<code>DateTimeClasses</code></p>


<h3>Examples</h3>

<pre><code class="language-R">
dates &lt;- c("1/1/04", "1/2/04", "1/3/04", "1/4/04", "1/5/04",
"1/6/04", "1/7/04", "1/8/04", "1/9/04", "1/10/04", NA, "1/12/04",
"1/14/04", "3/5/04", "5/5/04", "7/6/04", "8/18/04", "12/13/05",
"1/5/05", "4/6/05", "7/23/05", "10/3/05")
aw &lt;- as.week(dates, format = "%m/%d/%y")
aw

aw2 &lt;- as.week(dates, format = "%m/%d/%y", sunday= FALSE)
aw2

aw3 &lt;- as.week(dates, format = "%m/%d/%y", min.date="2003-01-01")
aw3

</code></pre>


</div>