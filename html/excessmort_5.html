<div class="container">

<table style="width: 100%;"><tr>
<td>compute_counts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute counts</h2>

<h3>Description</h3>

<p>Compute counts for groups from individual records
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_counts(
  dat,
  by = NULL,
  demo = NULL,
  date = "date",
  age = "age",
  agegroup = "agegroup",
  breaks = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>The data frame with the individual records</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>A character vector with the column names the define the groups for which we will compute counts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>demo</code></td>
<td>
<p>A data frame with population sizes for each time point for each of the groups for which we will compute counts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date</code></td>
<td>
<p>The column name of the column that contains dates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age</code></td>
<td>
<p>The column name of the column that contains age</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agegroup</code></td>
<td>
<p>The column name of the column that contains agegroup</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>The ages that define the agegroups</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is helper function that helps convert individual records data, in which each death is a row, 
to a count data frame where each row is a date. It is particulalry helpful for defining agegroups. If you
provide the 'breaks' argument it will automaticall divided the data and provide the counts for each age strata. 
You can also select variables to group by using the 'by' argument. 
One can provide a data frame with demogrpahic inform through the 'demo' argument. This tabe must have the 
population size for each group for each data.
</p>


<h3>Value</h3>

<p>A data frame with counts for each group for each date with population sizes, if demo was provided.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(lubridate)
data("cook_records")
the_breaks &lt;- c(0, 20, 40, 60, 75, Inf)

## take subset for example
cook_records_subset &lt;- cook_records[year(cook_records$date)==2021, ]
cook_demographics_subset &lt;- cook_demographics[year(cook_demographics$date)==2021, ]

cook_counts &lt;- compute_counts(cook_records_subset, 
                       demo = cook_demographics_subset, 
                       by = c("agegroup", "race", "sex"), 
                       breaks = the_breaks)
</code></pre>


</div>