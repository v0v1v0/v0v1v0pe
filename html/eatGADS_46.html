<div class="container">

<table style="width: 100%;"><tr>
<td>extractData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract Data</h2>

<h3>Description</h3>

<p>Extract <code>data.frame</code> from a <code>GADSdat</code> object for analyses in <code>R</code>. Value labels can be
selectively applied via defining <code>convertLabels</code> and <code>covertVariables</code>.
For extracting meta data see <code>extractMeta</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extractData(
  GADSdat,
  convertMiss = TRUE,
  convertLabels = c("character", "factor", "numeric"),
  convertVariables = NULL,
  dropPartialLabels = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convertMiss</code></td>
<td>
<p>Should values tagged as missing values be recoded to <code>NA</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convertLabels</code></td>
<td>
<p>If <code>"numeric"</code>, values remain as numerics. If <code>"factor"</code> or
<code>"character"</code>, values are recoded to their labels. Corresponding variable type is applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convertVariables</code></td>
<td>
<p>Character vector of variables names, which labels should be applied to.
All other variables remain as numeric variables in the data.
If not specified [default], value labels are applied to all variables for which labels are available.
Variable names not in the actual <code>GADS</code> are silently dropped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dropPartialLabels</code></td>
<td>
<p>Should value labels for partially labeled variables be dropped?
If <code>TRUE</code>, the partial labels will be dropped. If <code>FALSE</code>, the variable will be converted
to the class specified in <code>convertLabels</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A <code>GADSdat</code> object includes actual data (<code>GADSdat$dat</code>) and the corresponding meta data information
(<code>GADSdat$labels</code>). <code>extractData</code> extracts the data and applies relevant meta data on value level (missing conversion, value labels),
so the data can be used for analyses in <code>R</code>. Variable labels are retained as <code>label</code> attributes on column level.
</p>
<p>If <code>factor</code> are extracted via <code>convertLabels == "factor"</code>, an attempt is made to preserve the underlying integers.
If this is not possible, a warning is issued.
As <code>SPSS</code> has almost no limitations regarding the underlying values of labeled
integers and <code>R</code>'s <code>factor</code> format is very strict (no <code>0</code>, only integers increasing by <code>+ 1</code>),
this procedure can lead to frequent problems.
</p>


<h3>Value</h3>

<p>Returns a data frame.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Extract Data for Analysis
dat &lt;- extractData(pisa)

# convert labeled variables to factors
dat &lt;- extractData(pisa, convertLabels = "factor")

# convert only some variables to factor, all others remain numeric
dat &lt;- extractData(pisa, convertLabels = "factor", convertVariables = c("schtype", "ganztag"))

# convert only some variables to character, all others remain numeric
dat &lt;- extractData(pisa, convertLabels = "factor", convertVariables = c("schtype", "ganztag"))
# schtype is now character
table(dat$schtype)
# schtype remains numeric
table(dat$gender)

</code></pre>


</div>