<div class="container">

<table style="width: 100%;"><tr>
<td>oddsratio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Odds ratio estimation and confidence intervals</h2>

<h3>Description</h3>

<p>Calculates odds ratio by median-unbiased estimation (mid-p),
conditional maximum likelihood estimation (Fisher), unconditional
maximum likelihood estimation (Wald), and small sample adjustment
(small). Confidence intervals are calculated using exact methods
(mid-p and Fisher), normal approximation (Wald), and normal
approximation with small sample adjustment (small).  
</p>


<h3>Usage</h3>

<pre><code class="language-R">oddsratio(x, y = NULL,
          method = c("midp", "fisher", "wald", "small"),
          conf.level = 0.95,
          rev = c("neither", "rows", "columns", "both"),
          correction = FALSE,
          verbose = FALSE)
oddsratio.midp(x, y = NULL,
               conf.level = 0.95,
               rev = c("neither", "rows", "columns", "both"),
               correction = FALSE,
               verbose = FALSE,
               interval =  c(0, 1000))
oddsratio.fisher(x, y = NULL,
                 conf.level = 0.95,
                 rev = c("neither", "rows", "columns", "both"),
                 correction = FALSE,
                 verbose = FALSE)
oddsratio.wald(x, y = NULL,
               conf.level = 0.95,
               rev = c("neither", "rows", "columns", "both"),
               correction = FALSE,
               verbose = FALSE)
oddsratio.small(x, y = NULL,
                conf.level = 0.95,
                rev = c("neither", "rows", "columns", "both"),
                correction = FALSE,
                verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>input data can be one of the following: r x 2 table, vector
of numbers from a contigency table (will be transformed into r x 2
table in row-wise order), or single factor or character vector that
will be combined with <code>y</code> into a table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>single factor or character vector that will be combined with
<code>x</code> into a table (default is NULL)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>method for calculating odds ratio and confidence interval
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>confidence level (default is 0.95)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rev</code></td>
<td>

<p>reverse order of "rows", "colums", "both", or "neither" (default)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction</code></td>
<td>

<p>set to TRUE for Yate's continuity correction (default is FALSE)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>set to TRUE to return more detailed results (default is
FALSE)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>

<p>interval for the <code>uniroot</code> that finds the
odds ratio median-unbiased estimate and mid-p exact confidence
interval for <code>oddsratio.midp</code>
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Calculates odds ratio by median-unbiased estimation (mid-p),
conditional maximum likelihood estimation (Fisher), unconditional
maximum likelihood estimation (Wald), and small sample adjustment
(small). Confidence intervals are calculated using 
exact methods (mid-p and Fisher), normal approximation (Wald), and
normal approximation with small sample adjustment (small). 
</p>
<p>This function expects the following table struture:
</p>
<pre>
                    disease=0   disease=1
    exposed=0 (ref)    n00         n01
    exposed=1          n10         n11	
    exposed=2          n20         n21
    exposed=3          n30         n31
  </pre>
<p>The reason for this is because each level of exposure is compared to
the reference level.
</p>
<p>If you are providing a 2x2 table the following table is preferred:
</p>
<pre>
                    disease=0   disease=1
    exposed=0 (ref)    n00         n01
    exposed=1          n10         n11	
  </pre>
<p>however, for odds ratios from 2x2 tables, the following table is
equivalent:
</p>
<pre>
                    disease=1   disease=0
    exposed=1          n11         n10
    exposed=0          n01         n00	
  </pre>
<p>If the table you want to provide to this function is not in the
preferred form, just use the <code>rev</code> option to "reverse" the rows,
columns, or both. If you are providing categorical variables (factors
or character vectors), the first level of the "exposure" variable is
treated as the reference. However, you can set the reference of a
factor using the <code>relevel</code> function.
</p>
<p>Likewise, each row of the rx2 table is compared to the exposure
reference level and test of independence two-sided p values are
calculated using mid-p exact, Fisher's Exact, Monte Carlo simulation,
and the chi-square test. 
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>table that was used in analysis (verbose = TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>same table as <code>x</code> but with marginal totals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.exposed</code></td>
<td>
<p>proportions exposed (verbose = TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.outcome</code></td>
<td>
<p>proportions experienced outcome (verbose = TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>risk ratio and confidence interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>confidence level used (verbose = TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>p value for test of independence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replicates</code></td>
<td>
<p>number of replicates used in Monte Carlo simulation
p value (verbose = TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction</code></td>
<td>
<p>logical specifying if continuity correction was used</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Tomas Aragon, <a href="mailto:aragon@berkeley.edu">aragon@berkeley.edu</a>,
<a href="http://www.phdata.science">http://www.phdata.science</a></p>


<h3>References</h3>

<p>Kenneth J. Rothman and Sander Greenland (1998), Modern Epidemiology,
Lippincott-Raven Publishers
</p>
<p>Kenneth J. Rothman (2002), Epidemiology: An Introduction, Oxford
University Press
</p>
<p>Nicolas P. Jewell (2004), Statistics for Epidemiology, 1st Edition,
2004, Chapman &amp; Hall, pp. 73-81 
</p>


<h3>See Also</h3>

<p><code>tab2by2.test</code>, <code>riskratio</code>,
<code>rateratio</code>, <code>ormidp.test</code>,
<code>epitab</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
##Case-control study assessing whether exposure to tap water
##is associated with cryptosporidiosis among AIDS patients

tapw &lt;- c("Lowest", "Intermediate", "Highest")
outc &lt;- c("Case", "Control")	
dat &lt;- matrix(c(2, 29, 35, 64, 12, 6),3,2,byrow=TRUE)
dimnames(dat) &lt;- list("Tap water exposure" = tapw, "Outcome" = outc)
oddsratio(dat, rev="c")
oddsratio.midp(dat, rev="c")
oddsratio.fisher(dat, rev="c")
oddsratio.wald(dat, rev="c")
oddsratio.small(dat, rev="c")

</code></pre>


</div>