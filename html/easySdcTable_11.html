<div class="container">

<table style="width: 100%;"><tr>
<td>PTxyz</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ProtectTable with output ready for SuppressDec in package RegSDC</h2>

<h3>Description</h3>

<p>Assuming correct suppression, suppressed values become decimal numbers (not whole numbers) instead of missing.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PTxyz(data, dimVar, freqVar, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimVar</code></td>
<td>
<p>The main dimensional variables and additional aggregating variables (name or number).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freqVar</code></td>
<td>
<p>Variable(s) holding counts (name or number).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further parameters sent to <code>ProtectTable</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Within this r package this function will be used for testing
</p>


<h3>Value</h3>

<p>List of three matrices ready as input to <code>SuppressDec</code>
</p>
<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Sparse dummy matrix where the dimensions match z and y.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>Frequencies to be published with suppressed as NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Inner cell frequencies.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Ã˜yvind Langsrud
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Same examples as in ProtectTable 
a1 &lt;- PTxyz(EasyData("z1"), c("region","hovedint") ,"ant")
a2 &lt;- PTxyz(EasyData("z2"), c(1,3,4),5) 
 
if (require(RegSDC)) { # RegSDCdata and SuppressDec
  # Same data as in RegSDCdata examples (and in paper)
  data7 &lt;- RegSDCdata("sec7data")
  data7 &lt;- data7[!is.na(data7$y), 1:3]
  data7

  # Generate x, y, z similar to xAll, y, zAllSupp in RegSDCdata examples 
  # But different suppressed cells and z ordered differently
  a &lt;- PTxyz(data7, 1:2, 3, maxN = 3, method = "HITAS")
  a

  # Suppressed inner cells as decimal numbers
  yDec &lt;- SuppressDec(a$x, a$z, a$y, rmse = 1)
  yDec

  # All cells as decimal numbers
  cbind(a$z, t(a$x) %*% cbind(a$y, yDec))

  # As ProtectTable example
  z1 &lt;- EasyData("z1")
  a &lt;- PTxyz(z1, c("region", "hovedint"), "ant")

  # Inner cells as decimal numbers. 3 replicates.
  yDec &lt;- SuppressDec(a$x, a$z, a$y, nRep = 3)
  yDec

  # All cells with 3 replicates.
  cbind(a$z, t(a$x) %*% cbind(a$y, yDec))
}

if (require(RegSDC)) {
  # An example involving two linked tables.  
  # It is demonstrated that the SIMPLEHEURISTIC approach to suppression is not safe.  
  # That is, perfect fit (whole numbers) for some suppressed cells.
  a &lt;- PTxyz(EasyData("z3"), 1:5, 7, method = "SIMPLEHEURISTIC", protectZeros= FALSE)
  cbind(a$z, t(a$x) %*% cbind(a$y, SuppressDec(a$x, a$z, rmse=pi/3, nRep=3)))[which(is.na(a$z)), ]
}
## End(Not run)
</code></pre>


</div>