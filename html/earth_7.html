<div class="container">

<table style="width: 100%;"><tr>
<td>plot.earth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot an earth object</h2>

<h3>Description</h3>

<p>Plot an <code>earth</code> object.
By default the plot shows model selection, cumulative distribution
of the residuals, residuals versus fitted values, and the residual QQ plot.
</p>
<p>This function calls <code>plotres</code> internally.
The first arguments are identical to <code>plotres</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'earth'
plot(x = stop("no 'x' argument"),

  # the following are identical to plotres arguments

  which = 1:4, info = FALSE, versus = 1, standardize = FALSE, delever = FALSE,
  level = 0, id.n = 3, labels.id = NULL, smooth.col = 2, grid.col = 0,
  jitter = 0, do.par = NULL, caption = NULL,
  trace = 0, npoints = 3000, center = TRUE, type = NULL, nresponse = NA,

  # the following are earth specific

  col.cv = "lightblue", col.grsq = 1, col.rsq = 2, col.infold.rsq = 0,
  col.mean.infold.rsq = 0, col.mean.oof.rsq = "palevioletred",
  col.npreds = if(is.null(object$cv.oof.rsq.tab)) 1 else 0, col.oof.labs = 0,
  col.oof.rsq = "mistyrose2", col.oof.vline = col.mean.oof.rsq,
  col.pch.cv.rsq = 0, col.pch.max.oof.rsq = 0, col.vline = col.grsq,
  col.vseg = 0, lty.grsq = 1, lty.npreds = 2, lty.rsq = 5, lty.vline = "12",
  legend.pos = NULL, ...)

earth_plotmodsel( # for internal use by plotres
  x, col.rsq = 2, col.grsq = 1, col.infold.rsq = 0,
  col.mean.infold.rsq = 0, col.mean.oof.rsq = "palevioletred",
  col.npreds = NULL, col.oof.labs = 0, col.oof.rsq = "mistyrose2",
  col.oof.vline = col.mean.oof.rsq, col.pch.cv.rsq = 0,
  col.pch.max.oof.rsq = 0, col.vline = col.grsq, col.vseg = 0,
  lty.grsq = 1, lty.npreds = 2, lty.rsq = 5, lty.vline = "12",
  legend.pos=NULL, add = FALSE, jitter = 0,
  max.nterms = length(object$rss.per.subset),
  max.npreds=max(1,get.nused.preds.per.subset(object$dirs,object$prune.terms)),
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>An <code>earth</code> object.
This is the only required argument.
(It is called "x" for consistency with the generic <code>plot</code>.)
<br><br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which,info,versus</code></td>
<td>
<p>These arguments are identical to <code>plotres</code>.
Please see the help page for <code>plotres</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize,delever,level</code></td>
<td>
<p>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.n,labels.id,smooth.col</code></td>
<td>
<p>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.col,jitter</code></td>
<td>
<p>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.par,caption,trace</code></td>
<td>
<p>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>npoints,center</code></td>
<td>
<p>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type,nresponse</code></td>
<td>
<p>.<br><br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.cv</code></td>
<td>
<p>Default <code>"lightblue"</code>.
Color of cross validation line in the residuals plot.
This is the residual of the mean out-fold-predicted value.
<br><br><b>The following arguments are for the model selection plot.</b>
<br><br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.grsq</code></td>
<td>
<p>Default <code>1</code>.
Color of GRSq line in the Model Selection plot.
Use <code>0</code> for no GRSq line.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.rsq</code></td>
<td>
<p>Default <code>2</code>.
Color of the RSq line in the Model Selection plot.
Use <code>0</code> for no RSq line.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.infold.rsq</code></td>
<td>

<p>Color of in-fold RSq lines for each fold in the Model Selection plot.
Applies only if <code>nfold</code> and <code>keepxy</code> were used
in the original call to <code>earth</code>.
Default is <code>0</code>, lines not plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.mean.infold.rsq</code></td>
<td>

<p>Color of mean in-fold RSq for each number of terms in the Model Selection plot.
Default is <code>0</code>, line not plotted.
Applies only if <code>nfold</code> and <code>keepxy</code> were used
in the original call to <code>earth</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.mean.oof.rsq</code></td>
<td>
<p>Default <code>"palevioletred"</code>.
Color of mean out-of-fold RSq for each number of terms in the Model Selection plot.
Applies only if <code>nfold</code> and <code>keepxy</code> were used
in the original call to <code>earth</code>.
Use <code>0</code> to not plot this line.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.npreds</code></td>
<td>
<p>Color
of the "number of predictors" plot in the Model Selection plot.
The default displays the number of predictors unless the <code>oof.rsq</code>'s are displayed.
Use <code>0</code> for no "number of predictors" plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.oof.labs</code></td>
<td>

<p>Color of fold number labels on the <code>oof.rsq</code> lines.
Default is <code>0</code>, no labels.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.oof.rsq</code></td>
<td>

<p>Color of out-of-fold RSq lines for each fold in the Model Selection plot.
Applies only if <code>nfold</code> and <code>keepxy</code> were used
in the original call to <code>earth</code>.
Default is <code>"mistyrose2"</code>, a pale pink.
Use <code>0</code> to not plot these lines.
May be a vector of colors, which will be recycled if necessary.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.oof.vline</code></td>
<td>

<p>Color of vertical line at the maximum <code>oof.rsq</code> in the Model Selection plot.
Default is <code>col.mean.oof.rsq</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.pch.cv.rsq</code></td>
<td>

<p>Color of point plotted on the <code>oof.rsq</code> line to indicate the <code>cv.rsq</code>.
for that fold
(i.e., it is plotted at the number of terms selected by the in-fold GCV).
Default is <code>0</code>, point not plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.pch.max.oof.rsq</code></td>
<td>

<p>Color of point plotted on the <code>oof.rsq</code> line to indicate the
maximum <code>oof.rsq</code> for that fold.
Default is <code>0</code>, point not plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.vline</code></td>
<td>

<p>Color of the vertical line at selected model in the Model Selection plot.
Default is <code>col.grsq</code>.
This will be at the maximum GRSq unless <code>pmethod="none"</code>.
Use <code>0</code> for no vertical line.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.vseg</code></td>
<td>

<p>Default is <code>0</code>.
Color of triangular marker at top of vertical line for best GRSq.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.grsq</code></td>
<td>

<p>Line type of GRSq line in the Model Selection plot.
Default is <code>1</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.npreds</code></td>
<td>

<p>Line type of the "number of predictors" plot in the Model Selection plot.
Default is <code>2</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.rsq</code></td>
<td>

<p>Line type of RSq line in the Model Selection plot.
Default is <code>5</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.vline</code></td>
<td>

<p>Line type of vertical line at selected model in the Model Selection plot.
Default is <code>"12"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.pos</code></td>
<td>

<p>Position of the legend in the Model Selection plot.
Default is <code>NULL</code> meaning automatic.
Use <code>legend.pos=NA</code> or <code>0</code> for no legend.
Can be something like <code>legend.pos="topleft"</code> or <code>legend.pos=c(6, .75)</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add, max.nterms, max.npreds</code></td>
<td>

<p><code>earth_plotmodsel</code> arguments for internal use by
<code>plotres</code>.
<br><br><br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Please see <code>plotres</code> for the details
on the dots arguments.
</p>
<p>The <code>ylim</code> argument is treated specially in the model selection plot:
<code>ymin</code> equal to <code>-1</code> means use
the smallest GRSq or RSq value, excluding the intercept,
and <code>ymax</code> equal <code>-1</code> means use
the largest GRSq or RSq value.
</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>For details on interpreting the graphs,
please see the <code>earth</code> package vignettes
“<a href="../doc/earth-notes.pdf">Notes on the earth package</a>”
and
“<a href="../doc/earth-varmod.pdf">Variance models in earth</a>”.
</p>
<p>Note that cross-validation data will not be displayed unless
both <code>nfold</code> and <code>keepxy</code> were used in the original call to
<code>earth</code>.
</p>
<p>To remove the <code>Number of used predictors</code> from the Model Selection
graph (to reduce clutter), use <code>col.npreds=0</code>.
</p>
<p><code>earth_plotmodsel</code> is provided for use by <code>plotres</code>.
</p>
<p><b>Acknowledgment</b>
</p>
<p>This function incorporates the function <code>spread.labs</code> from the orphaned
package <code>TeachingDemos</code> written by Greg Snow.
</p>


<h3>See Also</h3>

<p><code>earth</code>,
<code>plot.earth.models</code>,
<code>plotd</code>,
<code>plotmo</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(ozone1)
earth.mod &lt;- earth(O3 ~ ., data = ozone1, degree = 2)
plot(earth.mod)
</code></pre>


</div>