<div class="container">

<table style="width: 100%;"><tr>
<td>Ping</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
ping a Uniform resource locator (URL)
</h2>

<h3>Description</h3>

<p>***NOTE:  THIS IS A PRELIMINARY VERSION OF 
THIS FUNCTION;
***NOTE:  IT MAY BE CHANGED OR REMOVED IN 
A FUTURE RELEASE.
</p>
<p>ping a Uniform resource locator (URL) or 
Internet Protocol (IP) address.
</p>
<p>NOTE:  Some Internet Service Providers (ISPs) 
play games with "ping".  That makes the results 
of <code>Ping</code> unreliable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Ping(url, pingArgs='', warn=NA,
     show.output.on.console=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>

<p>a character string of a URL or IP address to
ping.  If <code>url</code> is a vector of length
greater than 1, only the first component is
used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pingArgs</code></td>
<td>

<p>arguments to pass to the <code>ping</code> command 
of typical operating systems via
</p>
<p><code>pingResult &lt;- system(paste('ping',
        pingArgs, url), intern=TRUE, ...)</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>

<p>value for <code>options('warn')</code> during the 
call to <code>system</code>.  <code>NA</code> to 
not change <code>options('warn')</code> during 
this call.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.output.on.console</code></td>
<td>

<p>argument for <code>system</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>1.  <code>urlSplit0 &lt;- strsplit(url, '://')[[1]]</code>
</p>
<p>2.  <code>urlS0 &lt;- urlSplit0[min(2, 
  length(urlSplit0))]</code>
</p>
<p>3.  <code>host &lt;- strsplit(urlS0, '/')[[1]][1]</code>
</p>
<p>4.  <code>pingCmd &lt;- paste('ping', pingArgs, 
  host)</code>
</p>
<p>5.  <code>system(pingCmd, intern=TRUE, ...)</code>
</p>


<h3>Value</h3>

<p>list with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>rawResults</code></td>
<td>

<p>character vector of the raw results from 
the ping command
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rawNumbers</code></td>
<td>

<p>numeric vector of the times measured
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counts</code></td>
<td>

<p>numeric vector of numbers of packets 
sent, received, and lost
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.lost</code></td>
<td>

<p>proportion lost = lost / sent
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stats</code></td>
<td>

<p>numeric vector of <code>min, avg (mean), max,
    and mdev</code> (standard deviation) of the 
measured round trip times
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code>system</code>, <code>options</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## Some ISPs play games with ping.
## Therefore, the results are not reliable.
##
## Not run: 
##
## good
##
(google &lt;- Ping('https://google.com/ping works on host not pages'))

\dontshow{stopifnot(}
with(google, (counts[1]&gt;0) &amp;&amp; (counts[3]&lt;1))
\dontshow{)}

##
## ping oops &lt;&lt;-- at one time, this failed.
##      However, with some ISPs, it works, so don't test it.
##

##
(couldnotfindhost &lt;- Ping('oops'))

\dontshow{stopifnot(}
with(couldnotfindhost,
     length(grep('could not find host', rawResults))&gt;0)
\dontshow{)}

##
## impossible, but not so obvious
##
(requesttimedout &lt;- Ping('requesttimedout.com'))

\dontshow{stopifnot(}
with(requesttimedout, (counts[1]&gt;0) &amp;&amp; (counts[2]&lt;1) &amp;&amp;
         (counts[3]&gt;0))
\dontshow{)}

## End(Not run)
</code></pre>


</div>