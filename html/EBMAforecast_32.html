<div class="container">

<table style="width: 100%;"><tr>
<td>SummaryForecastData-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summarize and Plot Ensemble models</h2>

<h3>Description</h3>

<p>These functions summarize and plot Ensemble models that have been fit previously by the user.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'FDatFitLogit'
summary(
  object,
  period = "calibration",
  fitStatistics = c("brier", "auc", "perCorrect", "pre"),
  threshold = 0.5,
  baseModel = 0,
  showCoefs = TRUE,
  ...
)

## S4 method for signature 'FDatFitNormal'
summary(
  object,
  period = "calibration",
  fitStatistics = c("rmse", "mae"),
  threshold = 0.5,
  baseModel = 0,
  showCoefs = TRUE,
  ...
)

## S4 method for signature 'FDatFitLogit'
plot(
  x,
  period = "calibration",
  subset = 1,
  mainLabel = "",
  xLab = "",
  yLab = "",
  cols = 1,
  ...
)

## S4 method for signature 'FDatFitNormal'
plot(
  x,
  period = "calibration",
  subset = 1,
  mainLabel = paste("Observation", subset),
  xLab = "Outcome",
  yLab = "Posterior Probability",
  cols = 2:(length(x@modelNames) + 1),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of the subclass "FDatFitLogit" or "FDatFitNormal".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>
<p>The period for which the summary should be provided or plot produced, either "calibration" or "test". The default is "calibration".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitStatistics</code></td>
<td>
<p>A vector naming statistics that should be calculated.  Possible values for objects in the "FDatFitLogit" subclass include "auc", "brier", "percCorrect", "pre". Possible values for objects in the "FDatFitNormal" subclass include "rmse" and "mae." The default is for all statistics to be calculated. Additional metrics will be made available in a future release of this package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>The threshold used to calculate when a "positive" prediction is made for a model.  The default is 0.5. Not used for objects of the "FDatFitNormal" subclass.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseModel</code></td>
<td>
<p>A vector containing predictions used to calculate proportional reduction of error ("pre"). The default is 0. Not used for objects of the "FDatFitNormal" subclass.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showCoefs</code></td>
<td>
<p>A logical indicating whether model coefficients from the ensemble should be shown. The default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not implemented</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class "FDatFitLogit" or "FDatFitNormal"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>The row names or numbers for the observations the user wishes to plot. The default is the first row.  Only implemented for the subclass "FDatFitNormal".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mainLabel</code></td>
<td>
<p>A vector strings to appear at the top of each predictive posterior plot.  Only implemented for the subclass "FDatFitNormal"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xLab</code></td>
<td>
<p>The label for the x-axis. Only implemented for the subclass "FDatFitNormal"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yLab</code></td>
<td>
<p>The label for the y-axis.  Only implemented for the subclass "FDatFitNormal"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>A vector containing the color for plotting the predictive PDF of each component model forecast. The default is a unique color for each PDF. Only implemented for the subclass "FDatFitNormal"</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Either a plot or a data object of the class 'SummaryForecastData'. The data object has the following slots:
</p>
<table><tr style="vertical-align: top;">
<td><code>summaryData</code></td>
<td>
<p>Under the default, the function produces a matrix containing one row for each model plus one row for the EBMA forecast.  The first column is always the model weights assigned to the component models.  The second and third columns display the model parameters for the transformation of the component models.  The remaining columns are the requested fit statistics for all models, as calculated by the <code>copareModels</code> function.  If <code>showCoefs=FALSE</code>, then the model parameters will not be shown.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Michael D. Ward &lt;<a href="mailto:michael.d.ward@duke.edu">michael.d.ward@duke.edu</a>&gt; and Jacob M. Montgomery &lt;<a href="mailto:jacob.montgomery@wustl.edu">jacob.montgomery@wustl.edu</a>&gt; and Florian M. Hollenbach &lt;<a href="mailto:florian.hollenbach@tamu.edu">florian.hollenbach@tamu.edu</a>&gt;
</p>


<h3>References</h3>

<p>Raftery, A. E., T. Gneiting, F. Balabdaoui and M. Polakowski. (2005). Using Bayesian Model Averaging to calibrate forecast ensembles. <em>Monthly Weather Review</em>. <b>133</b>:1155–1174.
</p>
<p>Greenhill, B., M.D. Ward, A. Sacks. (2011). The Separation Plot: A New Visual Method For Evaluating the Fit of Binary Data. <em>American Journal of Political Science</em>.<b>55</b>: 991–1002.
</p>
<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2012). Improving Predictions Using Ensemble Bayesian Model Averaging. <em>Political Analysis</em>. <b>20</b>: 271-291.
</p>
<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2015). Calibrating ensemble forecasting models with sparse data in the social sciences. <em>International Journal of Forecasting</em>. <b>31</b>:930–942.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run:  data(calibrationSample)
data(testSample) 

this.ForecastData &lt;- makeForecastData(.predCalibration=calibrationSample[,c("LMER", "SAE", "GLM")],
.outcomeCalibration=calibrationSample[,"Insurgency"],.predTest=testSample[,c("LMER", "SAE", "GLM")],
.outcomeTest=testSample[,"Insurgency"], .modelNames=c("LMER", "SAE", "GLM"))

this.ensemble &lt;- calibrateEnsemble(this.ForecastData, model="logit", tol=0.001,exp=3)

summary(this.ensemble, period="calibration") 

summary(this.ensemble, period="test",showCoefs=FALSE)

## End(Not run)

</code></pre>


</div>