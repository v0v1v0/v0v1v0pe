<div class="container">

<table style="width: 100%;"><tr>
<td>esr_backtest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expected Shortfall Regression Backtest</h2>

<h3>Description</h3>

<p>This function implements multiple expected shortfall regression (esreg)
based backtests.
Using the <code>version</code> argument, the following backtests are available:
</p>

<ol>
<li>
<p> ("Strict ESR") Regresses the returns on the expected shortfall forecasts
and tests the ES coefficients for (0, 1).
</p>
</li>
<li>
<p> ("Auxiliary ESR") Regresses the returns on the quantile and the expected shortfall forecasts
and tests the ES coefficients for (0, 1).
</p>
</li>
<li>
<p> ("Strict Intercept") Tests whether the expected shortfall of the forecast error r - e is zero.
</p>
</li>
</ol>
<h3>Usage</h3>

<pre><code class="language-R">esr_backtest(
  r,
  q,
  e,
  alpha,
  version,
  B = 0,
  cov_config = list(sparsity = "nid", sigma_est = "scl_sp", misspec = TRUE)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>A vector of returns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>A vector of Value-at-Risk forecasts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e</code></td>
<td>
<p>A vector of Expected Shortfall forecasts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Scalar probability level in (0, 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>version</code></td>
<td>
<p>Version of the backtest to be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Number of bootstrap samples. Set to 0 to disable bootstrapping.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov_config</code></td>
<td>
<p>a list with three components: sparsity, sigma_est, and misspec, see vcovA</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a list with the following components:
</p>

<ul>
<li>
<p> pvalue_two_sided_asymptotic
</p>
</li>
<li>
<p> pvalue_one_sided_asymptotic (for version 3)
</p>
</li>
<li>
<p> pvalue_two_sided_bootstrap
</p>
</li>
<li>
<p> pvalue_one_sided_bootstrap (for version 3)
</p>
</li>
</ul>
<h3>References</h3>

<p>Bayer &amp; Dimitriadis (2020) <a href="https://doi.org/10.1093/jjfinec/nbaa013">doi:10.1093/jjfinec/nbaa013</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(risk_forecasts)
r &lt;- risk_forecasts$r
q &lt;- risk_forecasts$q
e &lt;- risk_forecasts$e
esr_backtest(r = r, q = q, e = e, alpha = 0.025, version = 1)
</code></pre>


</div>