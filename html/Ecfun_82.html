<div class="container">

<table style="width: 100%;"><tr>
<td>strsplit1</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Split the first field 
</h2>

<h3>Description</h3>

<p>Split the first field from <code>x</code>, 
identified as all the characters 
preceding the first unquoted occurrence 
of <code>split</code>.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">strsplit1(x, split=',', Quote='"', ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>a character vector to be split 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split</code></td>
<td>

<p>the split character 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Quote</code></td>
<td>

<p>a quote character:  Occurrences of 
<code>split</code> between pairs of <code>Quote</code> 
are ignored.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>optional arguments for grep  
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function was written to help parse 
data from the US Department of Health and 
Human Services on 
<a href="https://ocrportal.hhs.gov/ocr/breach/breach_report.jsf">
cyber-security breaches affecting 500 or 
more individuals</a>.  As of 2014-06-03 the 
<code>csv</code> version of these data included 
commas in quotes that are not <code>sep</code> 
characters.  This function was written to 
split the fields one at a time to allow 
manual processing to make it easier to 
correct parsing errors.  
</p>
<p>Algorithm:  
</p>
<p>1.  <code>spl1 &lt;- regexpr(split, x, ...)</code>
</p>
<p>2.  <code>Qt1 &lt;- regexpr(Quote, x, ...)</code>
</p>
<p>3.  For any <code>(Qt1&lt;spl1)</code>, look for 
<code>Qt2 &lt;- regexpr(Quote, substring(x, Qt1+1))</code>,
then look for 
<code>spl1 &lt;- regexpr(split, substring(x, 
  Qt1+Qt2+1))</code>
</p>
<p>4.  <code>out &lt;- list(substr(x, 1, spl1-1), 
  substr(x, spl1+1))</code>
</p>


<h3>Value</h3>

<p>A list of length 2:  The first component of 
the list contains the character strings found
before the first unquoted occurrence of 
<code>split</code>.  The second component contains 
the character strings remaining after the 
characters up to the identified <code>split</code> 
are removed.   
</p>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code>strsplit</code>
<code>substring</code>
<code>grep</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">chars2split &lt;- c(qs00='abcdefg', qs01='abc,def', 
   qs10a='"abcdefg', qs10b='abc"defg', 
   qs1.1='"abc,def', qs20='"abc" def', 
   qs2.1='"ab,c" def', qs21='"abc", def', qs22.1='"a,b",c')    

split &lt;- strsplit1(chars2split)

# answer
split. &lt;- list(c(qs00='abcdefg', qs01='abc', qs10a='"abcdefg', 
   qs10b='abc"defg', qs1.1='"abc,def', qs20='"abc" def', 
   qs2.1='"ab,c" def', qs21='"abc"', qs22.1='"a,b"'), 
               c(qs00='', qs01='def', qs10a='', 
   qs10b='', qs1.1='', qs20='', qs2.1='', 
   qs21=' def', qs22.1='c') )

all.equal(split, split.)

</code></pre>


</div>