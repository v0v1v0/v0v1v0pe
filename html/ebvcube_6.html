<div class="container">

<table style="width: 100%;"><tr>
<td>ebv_create</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an EBV netCDF</h2>

<h3>Description</h3>

<p>Create the core structure of the EBV netCDF based on the json
from the <a href="https://portal.geobon.org">EBV Data Portal</a>. Data will be
added afterwards using <code>ebv_add_data()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ebv_create(
  jsonpath,
  outputpath,
  entities,
  epsg = 4326,
  extent = c(-180, 180, -90, 90),
  resolution = c(1, 1),
  timesteps = NULL,
  fillvalue = NULL,
  prec = "double",
  sep = ",",
  force_4D = TRUE,
  overwrite = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>jsonpath</code></td>
<td>
<p>Character. Path to the json file downloaded from the EBV Data
Portal. Login to the page and click on 'Uploads' and 'New Upload' to start
the process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputpath</code></td>
<td>
<p>Character. Set path where the netCDF file should be
created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>entities</code></td>
<td>
<p>Character string or vector of character strings. In case of
single character string: Path to the csv table holding the entity names.
Default: comma-separated delimiter, else change the <code>sep</code> argument
accordingly. Should have only one column, each row is the name of one
entity. In case of vector of character strings: Vector holding the entity
names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsg</code></td>
<td>
<p>Integer. Default: 4326 (WGS84). Defines the coordinate reference
system via the corresponding epsg code.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extent</code></td>
<td>
<p>Numeric. Default: c(-180,180,-90,90). Defines the extent of the
data: c(xmin, xmax, ymin, ymax).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>Numerical. Vector of two numerical values defining the
longitudinal and latitudinal resolution of the pixel: c(lon,lat).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timesteps</code></td>
<td>
<p>Character. Vector of the timesteps in the dataset. Default:
NULL - in this case the time will be calculated from the start-, endpoint
and temporal resolution given in the metadata file (json). Else, the dates
must be given in in ISO format 'YYYY-MM-DD' or shortened 'YYYY' in case of
yearly timesteps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillvalue</code></td>
<td>
<p>Numeric. Value of the missing data in the array. Not
mandatory but should be defined!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prec</code></td>
<td>
<p>Character. Default: 'double'. Precision of the data set. Valid
options: 'short' 'integer' 'float' 'double' 'char' 'byte'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>Character. Default: ','. If the delimiter of the csv specifying
the entity-names differs from the default, indicate here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_4D</code></td>
<td>
<p>Logical. Default is TRUE. If the argument is TRUE, there will
be 4D cubes (lon, lat, time, entity) per metric. If this argument is
changed to FALSE, there will be 3D cubes (lon, lat, time) per entity (per
metric). So the latter yields a higher amount of cubes and does not bundle
all information per metric. In the future the standard will be restricted
to the 4D version. Recommendation: go with the 4D cubes!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical. Default: FALSE. Set to TRUE to overwrite the output
file defined by 'outputpath'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. Default: TRUE. Turn off additional prints by setting
it to FALSE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Creates the netCDF file at the 'outputpath' location.
</p>


<h3>Note</h3>

<p>To check out the results take a look at your netCDF file with
<a href="https://www.giss.nasa.gov/tools/panoply/">Panoply</a> provided by the
NASA.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#set path to JSON file
json &lt;- system.file(file.path("extdata","metadata.json"), package="ebvcube")
#set output path of the new EBV netCDF
out &lt;- file.path(system.file(package='ebvcube'),"extdata","sCAR_new.nc")
#set path to the csv holding the entity names
entities &lt;- file.path(system.file(package='ebvcube'),"extdata","entities.csv")

#create new EBV netCDF
## Not run: 
ebv_create(jsonpath = json, outputpath = out, entities = entities,
           fillvalue=-3.4E38)

## End(Not run)
</code></pre>


</div>