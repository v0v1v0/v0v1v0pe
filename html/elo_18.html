<div class="container">

<table style="width: 100%;"><tr>
<td>elo.colley</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute a Colley matrix model for a matchup.</h2>

<h3>Description</h3>

<p>Compute a Colley matrix model for a matchup.
</p>


<h3>Usage</h3>

<pre><code class="language-R">elo.colley(
  formula,
  data,
  family = "binomial",
  weights,
  na.action,
  subset,
  k = 1,
  ...,
  running = FALSE,
  skip = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula. See the help page for formulas for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A <code>data.frame</code> in which to look for objects in <code>formula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>Argument passed to <code>glm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>A vector of weights. Note that these weights are used in the Colley matrix creation,
but not the regression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>A function which indicates what should happen when the data contain NAs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>An optional vector specifying a subset of observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>The fraction of a win to be assigned to the winning team. See "details".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Argument passed to <code>glm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>running</code></td>
<td>
<p>Logical, denoting whether to calculate "running" projected probabilities. If true, a model is fit for
group 1 on its own to predict group 2, then groups 1 and 2 to predict 3, then groups 1 through 3 to predict 4, etc.
Groups are determined in <code>formula</code>. Omitting a group term re-runs a glm model to predict each
observation (a potentially time-consuming operation!)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip</code></td>
<td>
<p>Integer, denoting how many groups to skip before fitting the running models. This is helpful if
groups are small, where glm would have trouble converging for the first few groups. The predicted values are then
set to 0.5 for the skipped groups.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See the vignette for details on this method.
The differences in assigned scores (from the coefficients of the Colley matrix regression) are fed into a logistic
regression model to predict wins or (usually) a linear model to predict margin of victory.
In this setting, 'k' indicates the fraction of a win to be assigned to the winning team
(and the fraction of a loss to be assigned to the losing team); setting <code>k = 1</code> (the default)
emits the "Bias Free" ranking method presented by Colley.
It is also possible to adjust the regression by setting the second argument of
<code>adjust()</code>. As in <code>elo.glm</code>,
the intercept represents the home-field advantage. Neutral fields can be indicated
using the <code>neutral()</code> function, which sets the intercept to 0.
</p>


<h3>References</h3>

<p>Colley W.N. Colley's Bias Free College Football Ranking Method: The Colley Matrix Explained. 2002.
</p>


<h3>See Also</h3>

<p><code>glm</code>, <code>summary.elo.colley</code>, <code>score</code>,
<code>mov</code>, <code>elo.model.frame</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">elo.colley(score(points.Home, points.Visitor) ~ team.Home + team.Visitor, data = tournament,
  subset = points.Home != points.Visitor)
</code></pre>


</div>