<div class="container">

<table style="width: 100%;"><tr>
<td>evalues.IC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute an E-value for unmeasured confounding for an additive interaction contrast</h2>

<h3>Description</h3>

<p>Computes the E-value for an additive interaction contrast, representing the difference between stratum Z=1 and stratum Z=0
in the causal risk differences for a binary treatment X.
</p>


<h3>Usage</h3>

<pre><code class="language-R">evalues.IC(
  stat,
  true = 0,
  unidirBias = FALSE,
  unidirBiasDirection = NA,
  p1_1,
  p1_0,
  n1_1,
  n1_0,
  f1,
  p0_1,
  p0_0,
  n0_1,
  n0_0,
  f0,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>The statistic for which to compute the E-value ("est" for the interaction
contrast point estimate or "CI" for its lower confidence interval limit)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true</code></td>
<td>
<p>The true (unconfounded) value to which to shift the specified statistic (point estimate or confidence interval limit). Should be smaller than the confounded statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unidirBias</code></td>
<td>
<p>Whether the direction of confounding bias is assumed to be the same
in both strata of Z (TRUE or FALSE); see Details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unidirBiasDirection</code></td>
<td>
<p>If bias is assumed to be unidirectional, its assumed direction ("positive", "negative", or "unknown"; see Details). If bias is not assumed to be unidirectional, this argument should be NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1_1</code></td>
<td>
<p>The probability of the outcome in stratum Z=1 with treatment X=1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1_0</code></td>
<td>
<p>The probability of the outcome in stratum Z=1 with treatment X=0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1_1</code></td>
<td>
<p>The sample size in stratum Z=1 with treatment X=1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1_0</code></td>
<td>
<p>The sample size in stratum Z=1 with treatment X=0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f1</code></td>
<td>
<p>The probability in stratum Z=1 of having treatment X=1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0_1</code></td>
<td>
<p>The probability of the outcome in stratum Z=0 with treatment X=1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0_0</code></td>
<td>
<p>The probability of the outcome in stratum Z=0 with treatment X=0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n0_1</code></td>
<td>
<p>The sample size in stratum Z=0 with treatment X=1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n0_0</code></td>
<td>
<p>The sample size in stratum Z=0 with treatment X=0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f0</code></td>
<td>
<p>The probability in stratum Z=0 of treatment X=1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The alpha-level to be used for p-values and confidence intervals</p>
</td>
</tr>
</table>
<h3>Details</h3>



<h4>E-values for additive effect modification</h4>

<p>The interaction contrast is a measure of additive effect modification that represents the difference between stratum Z=1 versus stratum Z=0 of the causal risk differences relating a treatment X to an outcome Y. The estimated interaction contrast is given by:
</p>
<p><code>(p1_1 - p1_0) - (p0_1 - p0_0)</code>
</p>
<p>To use this function, the strata (Z) should be coded such that the confounded interaction contrast is positive rather than negative.
</p>
<p>If, in one or both strata of Z, there are unmeasured confounders of the treatment-outcome association, then the interaction contrast may be biased as well (Mathur et al., 2021). The E-value for the interaction contrast represents the minimum strength of association, on the risk ratio scale, that unmeasured confounder(s) would need to have with both the treatment (X) and the outcome (Y) in both strata of Z to fully explain away the observed interaction contrast, conditional on the measured covariates. This bound is attained when the strata have confounding bias in opposite directions ("potentially multidirectional bias"). Alternatively, if one assumes that the direction of confounding is the same in each stratum of Z ("unidirectional bias"), then the E-value for the interaction contrast is defined as the minimum strength of association, on the risk ratio scale, that unmeasured confounder(s) would need to have with both the treatment (X) and the outcome (Y) in <em>at least one</em> stratum of Z to fully explain away the observed interaction contrast, conditional on the measured covariates. This bound under unidirectional confounding arises when one stratum is unbiased. See Mathur et al. (2021) for details.
</p>
<p>As for the standard E-value for main effects (Ding &amp; VanderWeele, 2016; VanderWeele &amp; Ding, 2017), the E-value for the interaction contrast can be computed for both the point estimate and the lower confidence interval limit, and it can be also be calculated for shifting the estimate or confidence interval to a non-null value via the argument <code>true</code>.
</p>



<h4>Specifying the bias direction</h4>

<p>The argument <code>unidirBias</code> indicates whether you are assuming unidirectional bias (<code>unidirBias = TRUE</code>) or not (<code>unidirBias = FALSE</code>). The latter is the default because it is more conservative and requires the fewest assumptions. When setting <code>unidirBias = FALSE</code>, there is no need to specify the direction of bias via <code>unidirBiasDir</code>. However, when setting <code>unidirBias = TRUE</code>, the direction of bias does need to be specified via <code>unidirBiasDir</code>, whose options are:
</p>

<ul>
<li> <p><code>unidirBiasDir = "positive"</code>: Assumes that the risk differences in both strata of Z are positively biased.
</p>
</li>
<li> <p><code>unidirBiasDir = "negative"</code>: Assumes that the risk differences in both strata of Z are negatively biased.
</p>
</li>
<li> <p><code>unidirBiasDir = "unknown"</code>: Assumes that the risk differences in both strata of Z are biased in the same direction, but that the direction could be either positive or negative.
</p>
</li>
</ul>
<h4>Adjusted interaction contrasts</h4>

<p>If your estimated interaction contrast has been adjusted for covariates, then you can use covariate-adjusted probabilities for <code>p1_1</code>, <code>p1_0</code>, <code>p0_1</code>, and <code>p0_0</code>. For example, these could be fitted probabilities from a covariate-adjusted regression model.
</p>



<h4>Multiplicative effect modification</h4>

<p>For multiplicative measures of effect modification (e.g., the ratio of risk ratios between the two strata of Z), you can simply use the function <code>evalue</code>. To allow the bias to be potentially multidirectional, you would pass the square-root of your multiplicative effect modification estimate on the risk ratio scale to <code>evalue</code> rather than the estimate itself. To assume unidirectional bias, regardless of direction, you would pass the multiplicative effect modification estimate itself to <code>evalue</code>. See Mathur et al. (2021) for details.
</p>



<h3>Value</h3>

<p>Returns a list containing two dataframes (<code>evalues</code> and <code>RDt</code>). The E-value itself can be accessed as <code>evalues$evalue</code>.
</p>
<p>The dataframe <code>evalues</code> contains the E-value, the corresponding bias factor, the bound on the interaction contrast if confounding were to attain that bias factor (this bound will be close to <code>true</code>, by construction), and the direction of bias when the bias factor is attained. If you specify that the bias is potentially multidirectional, is unidirectional and positive, or is unidirectional and negative, the returned direction of bias will simply be what you requested. If you specify unidirectional bias of unknown direction, the bias direction will be either positive or negative depending on which direction produces the maximum bias.
</p>
<p>The dataframe <code>RDt</code> contains, for each stratum and for the interaction contrast, bias-corrected estimates (risk differences for the strata and the interaction contrast for <code>stratum = effectMod</code>), their standard errors, their confidence intervals, and their p-values. These estimates are bias-corrected for the worst-case bias that could arise for confounder(s) whose strength of association are no more severe than the requested E-value for either the estimate or the confidence interval (i.e., the bias factor indicated by <code>evalues$biasFactor</code>). The bias-corrected risk differences for the two strata (<code>stratum = "1"</code> and <code>stratum = "0"</code>) are corrected in the direction(s) indicated by <code>evalues$biasDir</code>.
</p>
<p>If you specify unidirectional bias of unknown direction, the E-value is calculated by taking the minimum of the E-value under positive unidirectional bias and the E-value under negative unidirectional bias. With this specification, a third dataframe (<code>candidates</code>) will be returned. This is similar to <code>evalues</code>, but contains the results for positive unidirectional bias and negative unidirectional bias (the two "candidate" E-values that were considered).
</p>


<h3>References</h3>


<ol>
<li>
<p> Mathur MB, Smith LH, Yoshida K, Ding P, VanderWeele TJ (2021). E-values for effect modification and approximations for causal interaction. Under review.
</p>
</li>
<li>
<p> Ding P &amp; VanderWeele TJ (2016). Sensitivity analysis without assumptions. <em>Epidemiology.</em> 27(3), 368.
</p>
</li>
<li>
<p> VanderWeele TJ &amp; Ding P (2017). Sensitivity analysis in observational research: Introducing the E-value. <em>Annals of Internal Medicine.</em> 27(3), 368.
</p>
</li>
</ol>
<h3>Examples</h3>

<pre><code class="language-R">### Letenneur et al. (2000) example data
# this is the example given in Mathur et al. (2021)
# Z: sex (w = women, m = male; males are the reference category)
# Y: dementia (1 = developed dementia, 0 = did not develop dementia )
# X: low education (1 = up to 7 years, 0 = at least 12 years)
# n: sample size

# data for women
nw_1 = 2988
nw_0 = 364
dw = data.frame(  Y = c(1, 1, 0, 0),
                  X = c(1, 0, 1, 0),
                  n = c( 158, 6, nw_1-158, nw_0-6 ) )

# data for men
nm_1 = 1790
nm_0 = 605
dm = data.frame(  Y = c(1, 1, 0, 0),
                  X = c(1, 0, 1, 0),
                  n = c( 64, 17, nm_1-64, nm_0-17 ) )

# P(Y = 1 | X = 1) and P(Y = 1 | X = 0) for women and for men
( pw_1 = dw$n[ dw$X == 1 &amp; dw$Y == 1 ] / sum(dw$n[ dw$X == 1 ]) )
( pw_0 = dw$n[ dw$X == 0 &amp; dw$Y == 1 ] / sum(dw$n[ dw$X == 0 ]) )
( pm_1 = dm$n[ dm$X == 1 &amp; dm$Y == 1 ] / sum(dm$n[ dm$X == 1 ]) )
( pm_0 = dm$n[ dm$X == 0 &amp; dm$Y == 1 ] / sum(dm$n[ dm$X == 0 ]) )

# prevalence of low education among women and among men
fw = nw_1 / (nw_1 + nw_0)
fm = nm_1 / (nm_1 + nm_0)

# confounded interaction contrast estimate
( pw_1 - pw_0 ) - ( pm_1 - pm_0 )

### E-values without making assumptions on direction of confounding bias
# for interaction contrast point estimate
evalues.IC( stat = "est",
       
            p1_1 = pw_1,
            p1_0 = pw_0,
            n1_1 = nw_1,
            n1_0 = nw_0,
            f1 = fw,
            
            p0_1 = pm_1,
            p0_0 = pm_0,
            n0_1 = nm_1,
            n0_0 = nm_0,
            f0 = fm )

# and for its lower CI limit
evalues.IC( stat = "CI",
            
            p1_1 = pw_1,
            p1_0 = pw_0,
            n1_1 = nw_1,
            n1_0 = nw_0,
            f1 = fw,
            
            p0_1 = pm_1,
            p0_0 = pm_0,
            n0_1 = nm_1,
            n0_0 = nm_0,
            f0 = fm )

### E-values assuming unidirectonal confounding of unknown direction
# for interaction contrast point estimate
evalues.IC( stat = "est",
            unidirBias = TRUE,
            unidirBiasDirection = "unknown",
            
            p1_1 = pw_1,
            p1_0 = pw_0,
            n1_1 = nw_1,
            n1_0 = nw_0,
            f1 = fw,
            
            p0_1 = pm_1,
            p0_0 = pm_0,
            n0_1 = nm_1,
            n0_0 = nm_0,
            f0 = fm )

# and for its lower CI limit
evalues.IC( stat = "CI",
            unidirBias = TRUE,
            unidirBiasDirection = "unknown",
            
            p1_1 = pw_1,
            p1_0 = pw_0,
            n1_1 = nw_1,
            n1_0 = nw_0,
            f1 = fw,
            
            p0_1 = pm_1,
            p0_0 = pm_0,
            n0_1 = nm_1,
            n0_0 = nm_0,
            f0 = fm )
</code></pre>


</div>