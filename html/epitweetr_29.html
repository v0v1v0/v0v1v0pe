<div class="container">

<table style="width: 100%;"><tr>
<td>setup_config</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Load epitweetr application settings</h2>

<h3>Description</h3>

<p>Load epitweetr application settings from the designated data directory
</p>


<h3>Usage</h3>

<pre><code class="language-R">setup_config(
  data_dir = if (exists("data_dir", where = conf)) conf$data_dir else if
    (Sys.getenv("EPI_HOME") != "") Sys.getenv("EPI_HOME") else file.path(getwd(),
    "epitweetr"),
  ignore_keyring = FALSE,
  ignore_properties = FALSE,
  ignore_topics = FALSE,
  save_first = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_dir</code></td>
<td>
<p>Path to the directory containing the application settings (it must exist). 
If not provided it takes the value of the latest call to setup_config in the current session, or the value of the EPI_HOME environment variable or epitweetr subdirectory in the working directory, 
default: if (exists("data_dir", where = conf)) conf$data_dir else if (Sys.getenv("EPI_HOME") !=
"") Sys.getenv("EPI_HOME") else file.path(getwd(), "epitweetr")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_keyring</code></td>
<td>
<p>Whether to skip loading settings from the keyring (Twitter and SMTP credentials), default: FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_properties</code></td>
<td>
<p>Whether to skip loading settings managed by the Shiny app in properties.json file, Default: FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_topics</code></td>
<td>
<p>Whether to skip loading settings defined in the topics.xlsx file and download plans from topics.json file, default: FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_first</code></td>
<td>
<p>Whether to save current settings before loading new ones from disk, default: list()</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>epitweetr relies on settings and data stored in a system folder, so before loading the dashboard, collecting tweets or detecting alerts the user has to designate this folder.
When a user wants to use epitweetr from the R console they will need to call this function for initialisation.
The 'data_folder' can also be given as a parameter for program launch functions <code>epitweetr_app</code>, <code>search_loop</code> or <code>detect_loop</code>, which will internally call this function.
</p>
<p>This call will fill (or refresh) a package scoped environment 'conf' that will store the settings. Settings stored in conf are:
</p>

<ul>
<li>
<p>General properties of the Shiny app (stored in properties.json)
</p>
</li>
<li>
<p>Download plans from the Twitter collection process (stored in topics.json merged with data from the topics.xlsx file
</p>
</li>
<li>
<p>Credentials for Twitter API and SMTP stored in the defined keyring
</p>
</li>
</ul>
<p>When calling this function and the keyring is locked, a password will be prompted to unlock the keyring.
This behaviour can be changed by setting the environment variable 'ecdc_twitter_tool_kr_password' with the password.
</p>
<p>Changes made to conf can be stored permanently (except for 'data_dir') using:
</p>

<ul>
<li>
<p><code>save_config</code>, or
</p>
</li>
<li>
<p><code>set_twitter_app_auth</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>Nothing
</p>


<h3>See Also</h3>

<p><code>save_config</code>
<code>set_twitter_app_auth</code>
<code>epitweetr_app</code>
<code>search_loop</code>
<code>detect_loop</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(FALSE){
   library(epitweetr)
   #loading system settings
   message('Please choose the epitweetr data directory')
   setup_config(file.choose())
}
</code></pre>


</div>