<div class="container">

<table style="width: 100%;"><tr>
<td>betadiv_disparity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Map change in morphological disparity</h2>

<h3>Description</h3>

<p>Change in morphological disparity is calculating across a
moving window of neighboring grid cells. To implement a custom function,
see <code>customBetaDiv</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">betadiv_disparity(x, radius, slow = FALSE, nThreads = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object of class <code>epmGrid</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radius</code></td>
<td>
<p>Radius of the moving window in map units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slow</code></td>
<td>
<p>if TRUE, use an alternate implementation that has a smaller
memory footprint but that is likely to be much slower. Most useful for
high spatial resolution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nThreads</code></td>
<td>
<p>number of threads for parallelization</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For each gridcell neighborhood (defined by the radius), we
calculate the proportion of the full disparity contained in those grid
cells, and then take the standard deviation of those proportions across the
gridcell neighborhood. This way, the returned values reflect how much
disparity (relative to the overall total disparity) changes across a moving
window.
</p>
<p>If the R package spdep is installed, this function should run more quickly.
</p>


<h3>Value</h3>

<p>Returns a sf polygons object (if hex grid) or a SpatRaster object
(if square grid).
</p>


<h3>Author(s)</h3>

<p>Pascal Title
</p>


<h3>References</h3>

<p>Foote M. 1993. Contributions of individual taxa to overall morphological
disparity. Paleobiology. 19:403â€“419.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
tamiasEPM

tamiasEPM &lt;- addTraits(tamiasEPM, tamiasTraits)

z &lt;- betadiv_disparity(tamiasEPM, radius = 150000)

plot(z)

# using square grid epmGrid
tamiasEPM2 &lt;- createEPMgrid(tamiasPolyList, resolution = 50000,
	cellType = 'square', method = 'centroid')
tamiasEPM2 &lt;- addTraits(tamiasEPM2, tamiasTraits)
z2 &lt;- betadiv_disparity(tamiasEPM2, radius = 150000)

terra::plot(z2, col = sf::sf.colors(100))


</code></pre>


</div>