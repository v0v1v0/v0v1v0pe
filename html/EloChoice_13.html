<div class="container">

<table style="width: 100%;"><tr>
<td>triplets</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>calculate ratings from sequence of rating events, allowing for more than two stimuli</h2>

<h3>Description</h3>

<p>calculate ratings from sequence of rating events, allowing for more than two stimuli
</p>


<h3>Usage</h3>

<pre><code class="language-R">triplets(xdata, winner, runs = 2, startvalue = 0, k = 100,
  progressbar = TRUE, mode = "avg")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xdata</code></td>
<td>
<p>data.frame or matrix with stimulus IDs, each row representing one trial, needs to contain at least two columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>winner</code></td>
<td>
<p>numeric vector of the same length as <code>nrow(xdata)</code>, indicating which column in <code>xdata</code> is the winner/preferred stimulus</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>runs</code></td>
<td>
<p>numeric, the number of times the data set should be randomized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startvalue</code></td>
<td>
<p>numeric, initial value of ratings, by default <code>0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>numeric, value of <em>k</em>-constant</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progressbar</code></td>
<td>
<p>logical, by default <code>TRUE</code>. Should a progress bar be displayed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>character, either <code>"avg"</code> (default) or <code>"seq"</code>, see Details section</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>mode="avg"</code> option considers the losers of the trial as one individual/stimulus, whose rating is averaged. This reflects one rating step for each trial (as for <code>elochoice()</code>).
</p>
<p>The <code>mode="seq"</code> option runs a sequence of interactions <em>within</em> a trial, i.e. one rating step for each of the loosing stimuli. E.g. if you have three stimuli, that would be two rating steps. With four stimuli, we would have three steps, etc.
</p>
<p>Because of the larger number of rating events with <code>mode="seq"</code>, the range of Elo-ratings will be larger as compared to <code>mode="avg"</code>. The average values will be the same for both though (start value). See examples...
</p>
<p>Also note that this is an experimental function that has not yet been tested thoroughly! In addition, this function calculates winning probabilities in a slightly different way as compared to <code>elochoice</code>, i.e. based on normal probabilities (see <code>elochoice</code>).
</p>


<h3>Value</h3>

<p>a matrix with ratings
</p>


<h3>Author(s)</h3>

<p>Christof Neumann
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(physical)
y &lt;- round(triplets(physical[, 2:3], winner = rep(1,nrow(physical)), runs = 1))
x &lt;- ratings(elochoice(physical$Winner, physical$Loser, runs = 1), show = "all", drawplot = FALSE)
x &lt;- x[order(names(x))]
plot(x, y)

xdata &lt;- as.matrix(t(sapply(1:500, function(x)sample(letters[1:8], 3))))
xdata &lt;- t(apply(xdata, 1, sort))
winner &lt;- sample(1:3, nrow(xdata), TRUE, prob = c(4, 0.8, 0.1))

x &lt;- triplets(xdata, winner, runs=20, mode="avg")
y &lt;- triplets(xdata, winner, runs=20, mode="seq")

# note different ranges along the axes
plot(colMeans(x), colMeans(y))
range(colMeans(x))
range(colMeans(y))
</code></pre>


</div>