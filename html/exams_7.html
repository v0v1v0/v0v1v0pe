<div class="container">

<table style="width: 100%;"><tr>
<td>exams2arsnova</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generation of Exam/Quiz Sessions in ARSnova Format</h2>

<h3>Description</h3>

<p>Interface for generating interactive sessions in the JSON format of the
audience response system ARSnova (not actively developed anymore).
</p>


<h3>Usage</h3>

<pre><code class="language-R">exams2arsnova(file, n = 1L, dir = ".",
  name = "R/exams", sname = NULL, qname = NULL,
  quiet = TRUE, resolution = 100, width = 4, height = 4, svg = FALSE,
  encoding = "UTF-8", envir = NULL, engine = NULL,
  url = "https://arsnova.eu/api", sessionkey = NULL, jsessionid = NULL,
  active = TRUE, votingdisabled = FALSE, showstatistic = FALSE, showanswer = FALSE,
  abstention = TRUE, variant = "lecture", ssl.verifypeer = TRUE,
  fix_choice = TRUE, ...)

make_exams_write_arsnova(url = "https://arsnova.eu/api", sessionkey = NULL,
  jsessionid = NULL, name = "R/exams", sname = NULL, qname = NULL,
  active = TRUE, votingdisabled = FALSE, showstatistic = FALSE, showanswer = FALSE,
  abstention = TRUE, variant = "lecture", ssl.verifypeer = TRUE, fix_choice = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character. A specification of a (list of) exercise files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>integer. The number of copies to be compiled from <code>file</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>character. The default is either display on the screen or
the current working directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>character. A name prefix for resulting exercises and RDS file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sname</code></td>
<td>
<p>character. A vector of length 2 with the session name (maximum of 50
characters) and its abbreviation (maximum of 8 characters). Ignored if the <code>sessionkey</code>
of an existing session is supplied and otherwise copied by default from <code>name</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qname</code></td>
<td>
<p>character. A vector of names for each question/exercise in <code>file</code>.
By default, the <code>name</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>logical. Should output be suppressed when calling
<code>xweave</code> and <code>texi2dvi</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution, width, height</code></td>
<td>
<p>numeric, passed to <code>xweave</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svg</code></td>
<td>
<p>logical. Should graphics be rendered in SVG or PNG (default)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>character, ignored. The encoding is always assumed to be UTF-8.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>argument passed to <code>xweave</code> (which passes
it to <code>knit</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>engine</code></td>
<td>
<p>argument passed to <code>xweave</code> indicating whether
<code>"Sweave"</code> (default) or <code>"knitr"</code> should be used for rendering Rnw exercises.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url,sessionkey,jsessionid</code></td>
<td>
<p>character specifying (1) the base URL of the ARSnova API,
(2) the 8-digit ARSnova session key, (3) the JSESSIONID cookie of an active ARSnova session.
If all are provided all questions are imported directly into the existing ARSnova session.
Otherwise, a JSON import file is generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>active</code></td>
<td>
<p>logical. Should the question be active (i.e., released for students)
or locked?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>votingdisabled</code></td>
<td>
<p>logical. Should voting be disabled?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showstatistic</code></td>
<td>
<p>logical. Should statistics be shown?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showanswer</code></td>
<td>
<p>logical. Should answers be shown?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abstention</code></td>
<td>
<p>logical. Are abstentions allowed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variant</code></td>
<td>
<p>character. Should the question be a <code>"lecture"</code> or
a <code>"preparation"</code> questions?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ssl.verifypeer</code></td>
<td>
<p>logical. Should SSL certificates be validated when
connecting via https?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix_choice</code></td>
<td>
<p>logical. Should math markup be removed in single and multiple
choice lists? (This may be needed for older ARSnova versions where math
markup is rendered in the question itself but not the choice list.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed on to <code>xexams</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>exams2arsnova</code> generates exams in the JSON format for ARSnova
using <code>xexams</code>. It proceeds by (1) calling <code>xweave</code>
on each exercise, (2) reading the resulting Markdown or LaTeX text, (3) transforming
the text to Markdown, and (4) embedding the Markdown text into the
JSON format for ARSnova (and optionally imports it into a running
ARSnova session).
</p>
<p>Since 2020 the development of ARSnova has been shifted to a new tool
called Particify and hence the arsnova.eu server is not
hosted anymore. For an export function to Particify see
<code>exams2particify</code>.
</p>
<p>For steps (1) and (2) the standard drivers in <code>xexams</code> are used.  
For step (3) a suitable transformation function is set up on the fly
using <code>make_exercise_transform_pandoc</code>.
For step (4) a simple writer function is set up on the fly that
embeds the transformed Markdown code into a hard-coded JSON template
using <code>toJSON</code> and either writes a single JSON
file for each exam or imports these directly into an ARSnova session.
</p>
<p>When <code>url</code>, <code>sessionkey</code>, and <code>jsessionid</code> are all supplied,
<code>curlPerform</code> is used to import tall questions directly into
the existing ARSnova session. Otherwise, a file is written to the disk and
then needs to be imported manually into an ARSnova server. This file
is either a JSON file for a whole new session (if <code>sessionkey</code> is
<code>NULL</code>, the default) or a CSV file with the questions only.
</p>


<h3>Value</h3>

<p>A list of exams as generated by <code>xexams</code> is
returned invisibly.
</p>


<h3>See Also</h3>

<p><code>exams2particify</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## load package and enforce par(ask = FALSE)
library("exams")
options(device.ask.default = FALSE)

## Not run: 
## exams2arsnova can either create text files with JSON data
exams2arsnova("tstat2")

## or directly post this to an active ARSnova session (for which the
## server URL, the 8-digit session key, and the JSESSIONID cookie are needed)
exams2arsnova("tstat2", url = "https://arsnova.eu/api",
  sessionkey = "49061284", jsessionid = "A5BEFDA4141816BB425F2204A602E4B3")

## End(Not run)
</code></pre>


</div>