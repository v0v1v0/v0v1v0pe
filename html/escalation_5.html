<div class="container">

<table style="width: 100%;"><tr>
<td>calculate_probabilities</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate dose-path probabilities</h2>

<h3>Description</h3>

<p>Crystallise a set of <code>dose_paths</code> with probabilities to calculate
how likely each path is. Once probabilised in this way, the probabilities of
the terminal nodes in this set of paths will sum to 1. This allows users to
calculate operating characteristics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calculate_probabilities(dose_paths, true_prob_tox, true_prob_eff = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dose_paths</code></td>
<td>
<p>Object of type <code>dose_paths</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_prob_tox</code></td>
<td>
<p>Numeric vector, true probability of toxicity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_prob_eff</code></td>
<td>
<p>vector of true efficacy probabilities, optionally NULL
if efficacy not analysed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra parameters</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>dose_paths</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Phase 1 example.
# Calculate dose paths for the first three cohorts in a 3+3 trial of 5 doses:
paths &lt;- get_three_plus_three(num_doses = 5) %&gt;%
  get_dose_paths(cohort_sizes = c(3, 3, 3))

# Set the true probabilities of toxicity
true_prob_tox &lt;- c(0.12, 0.27, 0.44, 0.53, 0.57)
# And calculate exact operating performance
x &lt;- paths %&gt;% calculate_probabilities(true_prob_tox)
prob_recommend(x)

# Phase 1/2 example.
prob_select = c(0.1, 0.3, 0.5, 0.07, 0.03)
selector_factory &lt;- get_random_selector(prob_select = prob_select,
                                        supports_efficacy = TRUE)
paths &lt;- selector_factory %&gt;% get_dose_paths(cohort_sizes = c(2, 2))
true_prob_eff &lt;- c(0.27, 0.35, 0.41, 0.44, 0.45)
x &lt;- paths %&gt;% calculate_probabilities(true_prob_tox = true_prob_tox,
                                       true_prob_eff = true_prob_eff)
prob_recommend(x)
</code></pre>


</div>