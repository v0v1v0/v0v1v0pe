<div class="container">

<table style="width: 100%;"><tr>
<td>etrd_auth_access_token</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Auth Step 3: Create Access Tokens to use etrader</h2>

<h3>Description</h3>

<p>Step 3 of ETRADE authentication. Pass the verification code generated after a
successful log into the URL created from <code>etrd_auth_login_url</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">etrd_auth_access_token(verif_code, etrade_cred = NULL, sandbox = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>verif_code</code></td>
<td>
<p>a 5 digit alpha numeric code created after successfully
logging into the ETRADE URL generated from
<code>etrd_auth_login_url</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>etrade_cred</code></td>
<td>
<p>The output created from
<code>etrd_auth_credentials</code> when a valid ETRADE key and secret have
been passed. This entry is not required because the output is saved and
retrieved from R options automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sandbox</code></td>
<td>
<p>ETRADE offers a sandbox environment for validating API calls
and responses. If using the sandbox environment, this must be set to TRUE
in each function called throughout etrader. ETRADE states "Sandbox
responses use stored data that's intended to provide typical responses for
basic use cases. So the responses you receive will not contain current
data, and may not exactly match your requests in other ways." Essentially,
the responses will not match the requests entered but successful pull will
indicate whether the entry was valid or not.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Authentication into the ETRADE environment requires a three step process: set
ETRADE credentials, generate request tokens to create a login URL, and use
the verification code to create access tokens. The verification code is
generated after successfully logging into the URL that comes from
<code>etrd_auth_login_url</code>.
</p>
<p>The access tokens expire each day at midnight Eastern Time. The next day Auth
step 1-3 will be required to get new access tokens. If two hours have elapsed
between API calls during a trading day, the access token is inactivated. Use
<code>etrd_auth_manage_token</code> to refresh an inactivated access token.
</p>


<h3>Value</h3>

<p>a key and secret oauth access token
</p>


<h3>See Also</h3>

<p><code>etrd_auth_credentials</code> to set the key and secret into
an oauth app, <code>etrd_auth_login_url</code> to generate request tokens
and create a login URL, <code>etrd_auth_access_token</code> to use the
verification code to create access tokens,
<code>etrd_auth_manage_token</code> to renew or revoke access tokens
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# The etrade_cred has been stored into options so does not need to be passed
# After a successful log in, paste the verification code as shown
access_tok = etrd_auth_access_token(verif_code = 'XX123')


## End(Not run)
</code></pre>


</div>