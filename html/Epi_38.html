<div class="container">

<table style="width: 100%;"><tr>
<td>ci.pd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compute confidence limits for a difference of two independent proportions.
</h2>

<h3>Description</h3>

<p>The usual formula for the c.i. of at difference of proportions is
inaccurate. Newcombe has compared 11 methods and method 10 in his
paper looks like a winner. It is implemented here.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ci.pd(aa, bb=NULL, cc=NULL, dd=NULL,
     method = "Nc",
      alpha = 0.05, conf.level=0.95,
     digits = 3,
      print = TRUE,
detail.labs = FALSE )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>aa</code></td>
<td>
<p>Numeric vector of successes in sample 1. Can also be a
matrix or array (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bb</code></td>
<td>
<p>Successes in sample 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cc</code></td>
<td>
<p>Failures in sample 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dd</code></td>
<td>
<p>Failures in sample 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Method to use for calculation of confidence interval, see
"Details".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Significance level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Confidence level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>Should an account of the two by two table be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>How many digits should the result be rounded to if printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detail.labs</code></td>
<td>
<p>Should the computing of probability differences be
reported in the labels.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Implements method 10 from Newcombe(1998) (method="Nc") or from
Agresti &amp; Caffo(2000) (method="AC").
</p>
<p><code>aa</code>, <code>bb</code>, <code>cc</code> and <code>dd</code> can be vectors.
If <code>aa</code> is a matrix, the elements <code>[1:2,1:2]</code> are used, with
successes <code>aa[,1:2]</code>. If <code>aa</code> is a three-way table or array,
the elements <code>aa[1:2,1:2,]</code> are used.
</p>


<h3>Value</h3>

<p>A matrix with three columns: probability difference, lower and upper
limit. The number of rows equals the length of the vectors  <code>aa</code>,
<code>bb</code>, <code>cc</code> and <code>dd</code> or, if <code>aa</code> is a 3-way matrix,
<code>dim(aa)[3]</code>.   
</p>


<h3>Author(s)</h3>

<p>Bendix Carstensen, Esa Laara.
<a href="http://bendixcarstensen.com">http://bendixcarstensen.com</a>
</p>


<h3>References</h3>

<p>RG Newcombe: Interval estimation for the difference between
independent proportions. Comparison of eleven methods. Statistics in
Medicine, 17, pp. 873-890, 1998.
</p>
<p>A Agresti &amp; B Caffo: Simple and effective confidence intervals for
proportions and differences of proportions result from adding two
successes and two failures. The American Statistician,
54(4), pp. 280-288, 2000.
</p>


<h3>See Also</h3>

<p><code>twoby2</code>, <code>binom.test</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">( a &lt;- matrix( sample( 10:40, 4 ), 2, 2 ) )
ci.pd( a )
twoby2( t(a) )
prop.test( t(a) )
( A &lt;- array( sample( 10:40, 20 ), dim=c(2,2,5) ) )
ci.pd( A )
ci.pd( A, detail.labs=TRUE, digits=3 )
</code></pre>


</div>