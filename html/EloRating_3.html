<div class="container">

<table style="width: 100%;"><tr>
<td>.elo.seq_old</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>calculate Elo ratings</h2>

<h3>Description</h3>

<p>calculate Elo ratings from a sequence of dominance interactions
</p>


<h3>Usage</h3>

<pre><code class="language-R">.elo.seq_old(
  winner,
  loser,
  Date,
  draw = NULL,
  presence = NULL,
  startvalue = 1000,
  k = 100,
  normprob = TRUE,
  init = "average",
  iterate = 0,
  runcheck = TRUE,
  progressbar = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>winner</code></td>
<td>
<p>either a factor or character vector with winner IDs of dyadic dominance interactions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loser</code></td>
<td>
<p>either a factor or character vector with loser IDs of dyadic dominance interactions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Date</code></td>
<td>
<p>character vector of form "YYYY-MM-DD" with the date of the respective interaction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>logical, which interactions ended undecided (i.e. drawn or tied)? By default all <code>FALSE</code>, i.e. no undecided interactions occurred. Note that in this case, <code>winner</code>/<code>loser</code> values can be interchanged</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>presence</code></td>
<td>
<p>optional data.frame, to supply data about presence and absence of individuals for part of the time the data collection covered. see details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startvalue</code></td>
<td>
<p>the value of Elo ratings of the two individuals that are involved in the first interaction of the overall sequence prior to this interaction. By default set to 1000. See also <code>init</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>factor <em>k</em> that determines the maximum change in ratings. By default <code>k=100</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normprob</code></td>
<td>
<p>logical (by default <code>TRUE</code>). Should a normal curve be assumed for calculating the winning/losing probablities, or a logistic curve. See <code>winprob</code> for details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>
<p>character, what Elo rating does an individual have prior to its first interaction. Three options are available:
<code>average</code>: individuals always start with the value specified in <code>startvalue</code>. Given stable composition of the group, this also reflects the average Elo rating on each day in that group, <br><code>bottom</code>: subjects entering at the current lowest Elo value if the lowest value getting lower its getting lower for all subjects which had this lowest values before, it is reflecting that in some species new subjects entering a group at the bottom level "bottom entry"<br><code>bottom_low</code>: same as <code>bottom</code> but additionally the start values getting after the first interaction lower for all non-interacting subjects and, reflecting that we have at start no knowledge about the subjects this option offers for "bottom entry" species the possibility to consider that in a way that those subjects which are not interacting getting lower from start on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterate</code></td>
<td>
<p>not yet implemented</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>runcheck</code></td>
<td>
<p>logical, should several checks regarding data integrety be performed, by default <code>TRUE</code>. See <code>seqcheck</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progressbar</code></td>
<td>
<p>logical, should progress bars be displayed, by default <code>progressbar=TRUE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>the presence 'matrix' is actually an object of class <code>data.frame</code> containing information about wether an individual was present on a given day or not. The first column represents the dates, running at least from the date of the earliest interaction until at least the date of the last interaction with one line per day (regardless of whether there were actually interactions observed on each day). Further, each individual is represented as a column in which "1" indicates an individual was present on the row-date and a "0" indicates the individuals absence on this date. <code>NA</code>s are not allowed. See <code>advpres</code> for an example.
</p>


<h3>Value</h3>

<p>An object of class <code>elo</code>, which is list with 10 items that serves as basis to extract relevant information:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>
<p>a date by ID-<code>matrix</code> with raw Elo ratings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lmat</code></td>
<td>
<p>a date by ID-<code>matrix</code> with raw Elo ratings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cmat</code></td>
<td>
<p>a date by ID-<code>matrix</code> with raw Elo ratings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pmat</code></td>
<td>
<p>a date by ID-<code>matrix</code> with with presence data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nmat</code></td>
<td>
<p>a date by ID-<code>matrix</code> containing the number of interactions a given ID was involved in on a given day</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logtable</code></td>
<td>
<p>details on each single interaction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stability</code></td>
<td>
<p>a <code>data.frame</code> containing information about stability (see <code>stab_elo</code>) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>truedates</code></td>
<td>
<p>vector of class <code>Date</code> covering the ranges of dates in the dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>misc</code></td>
<td>
<p>various</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allids</code></td>
<td>
<p>a (sorted) character vector with all IDs that occur in the dataset</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Christof Neumann and Lars Kulik
</p>


<h3>References</h3>

<p>Elo AE (1978).
<em>The rating of chess players, past and present</em>.
Arco, New York.
</p>
<p>Albers PCH, de Vries H (2001).
“Elo-rating as a tool in the sequential estimation of dominance strengths.”
<em>Animal Behaviour</em>, <b>61</b>, 489-495.
<a href="https://doi.org/10.1006/anbe.2000.1571">doi:10.1006/anbe.2000.1571</a>.
</p>
<p>Neumann C, Duboscq J, Dubuc C, Ginting A, Irwan AM, Agil M, Widdig A, Engelhardt A (2011).
“Assessing dominance hierarchies: validation and advantages of progressive evaluation with elo-rating.”
<em>Animal Behaviour</em>, <b>82</b>, 911-921.
<a href="https://doi.org/10.1016/j.anbehav.2011.07.016">doi:10.1016/j.anbehav.2011.07.016</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(adv)
SEQ &lt;- EloRating:::.elo.seq_old(winner=adv$winner, loser=adv$loser, Date=adv$Date)
summary(SEQ)

</code></pre>


</div>