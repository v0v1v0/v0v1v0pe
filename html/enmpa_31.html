<div class="container">

<table style="width: 100%;"><tr>
<td>predict_selected</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predictions for the models selected after calibration</h2>

<h3>Description</h3>

<p>Wrapper function that facilitates the prediction of those models
selected as the most robust. In addition, it allows the calculation of
consensus models, when more than one model are selected.
</p>


<h3>Usage</h3>

<pre><code class="language-R">predict_selected(fitted, newdata, extrapolation_type = "E",
                 restricted_vars = NULL, type = "response", consensus = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fitted</code></td>
<td>
<p>an enmpa-class<code style="white-space: pre;">⁠fitted models⁠</code> object obtained using the
functions <code>fit_selected</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>a <code>SpatRaster</code>, data.frame, or matrix with the new data on
which to predict.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extrapolation_type</code></td>
<td>
<p>(character) to indicate extrapolation type of model.
Models can be transferred with three options: free extrapolation ('E'),
extrapolation with clamping ('EC'), and no extrapolation ('NE').
Default = 'E'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>restricted_vars</code></td>
<td>
<p>(character) a vector containing the names of the
variables that will undergo clamping or no extrapolation. For clamping,
these variables are set to minimum and maximum values established for the
max and min values within calibration values. For no extrapolation, the
variables outside calibration limits became NA. If no specific names are
provided, the value is set to NULL by default, indicating that clamping (EC)
or no extrapolation (NE) will be applied to all variables. Ignore if
extrapolation_type = 'E'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>(character) the type of prediction required. For a default
binomial model the default predictions are of log-odds (probabilities on
logit scale). The default, "response", returns predicted probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>consensus</code></td>
<td>
<p>(logical) valid if <code>newdata</code> is a <code>SpatRaster</code>, whether to
produce consensus results obtained by combining the predictions from the
collection of selected models. By default consensuses are calculated using
the mean, median, variance, and weighted average using the AIC weights.
Default = TRUE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with predictions of selected models on the <code>newdata</code> and fitted
selected model(s). Consensus predictions are added if multiple selected
models exits and if <code>newdata</code> is a <code>SpatRaster</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load a fitted selected model
data(sel_fit, package = "enmpa")

# Load raster layers to be projected
env_vars &lt;- terra::rast(system.file("extdata", "vars.tif", package = "enmpa"))

# Predictions (only one selected mode, no consensus required)
preds &lt;- predict_selected(sel_fit, newdata = env_vars, consensus = FALSE)

# Plot prediction
terra::plot(preds$predictions)
</code></pre>


</div>