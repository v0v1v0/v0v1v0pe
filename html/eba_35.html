<div class="container">

<table style="width: 100%;"><tr>
<td>circular</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Circular Triads (Intransitive Cycles)</h2>

<h3>Description</h3>

<p>Number of circular triads and coefficient of consistency.
</p>


<h3>Usage</h3>

<pre><code class="language-R">circular(mat, alternative = c("two.sided", "less", "greater"),
         exact = NULL, correct = TRUE, simulate.p.value = FALSE,
         nsim = 2000)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>
<p>a square matrix or a data frame consisting of (individual)
binary choice data; row stimuli are chosen over column stimuli</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis,
must be one of <code>"two.sided"</code> (default), <code>"less"</code> or
<code>"greater"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact</code></td>
<td>
<p>a logical indicating whether an exact p-value should be
computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct</code></td>
<td>
<p>a logical indicating whether to apply continuity correction
in the chi-square approximation for the p-value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simulate.p.value</code></td>
<td>
<p>a logical indicating whether to compute p-values by
Monte Carlo simulation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>an integer specifying the number of replicates used in the Monte
Carlo test</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Kendall's coefficient of consistency,
</p>
<p style="text-align: center;"><code class="reqn">zeta = 1 - T/T_{max},</code>
</p>

<p>lies between one (perfect consistency) and zero,
where <code>T</code> is the observed number of circular triads,
and the maximum possible number of circular triads is
<code class="reqn">T_{max} = n(n^2 - 4)/24</code>, if <code class="reqn">n</code> is even, and
<code class="reqn">T_{max} = n(n^2 - 1)/24</code> else, and <code class="reqn">n</code> is the
number of stimuli or objects being judged. For details see Kendall and
Babington Smith (1940) and David (1988).
</p>
<p>Kendall (1962) discusses a test of the hypothesis that the number of
circular triads <code>T</code> is different (smaller or greater) than expected
when choosing randomly. For small <code class="reqn">n</code>, an exact p-value is computed,
based on the exact distributions listed in Alway (1962) and in Kendall
(1962).  Otherwise, an approximate chi-square test is computed.  In this
test, the sampling distribution is measured from lower to higher values of
<code>T</code>, so that the probability that <code>T</code> will be exceeded is the
complement of the probability for <code>chi2</code>.  The chi-square approximation
may be incorrect if <code class="reqn">n &lt; 8</code> and is only available for <code class="reqn">n &gt; 4</code>.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>number of circular triads</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.max</code></td>
<td>
<p>maximum possible number of circular triads</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.exp</code></td>
<td>
<p>expected number of circular triads <code class="reqn">E(T)</code> when choices are
totally random</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeta</code></td>
<td>
<p>Kendall's coefficient of consistency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chi2, df, correct</code></td>
<td>
<p>the chi-square statistic and degrees of freedom for
the approximate test, and whether continuity correction has been applied</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>the p-value for the test (see Details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simulate.p.value, nsim</code></td>
<td>
<p>whether the p-value is based on simulations,
number of simulation runs</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Alway, G.G. (1962).
The distribution of the number of circular triads in paired comparisons.
<em>Biometrika</em>, <b>49</b>, 265–269.
doi: <a href="https://doi.org/10.1093/biomet/49.1-2.265">10.1093/biomet/49.1-2.265</a>
</p>
<p>David, H. (1988).
<em>The method of paired comparisons</em>. 
London: Griffin.
</p>
<p>Kendall, M.G. (1962).
<em>Rank correlation methods</em>.
London: Griffin.
</p>
<p>Kendall, M.G., &amp; Babington Smith, B. (1940).
On the method of paired comparisons. 
<em>Biometrika</em>, <b>31</b>, 324–345.
doi: <a href="https://doi.org/10.1093/biomet/31.3-4.324">10.1093/biomet/31.3-4.324</a>
</p>


<h3>See Also</h3>

<p><code>eba</code>, <code>strans</code>, <code>kendall.u</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A dog's preferences for six samples of food
# (Kendall and Babington Smith, 1940, p. 326)
dog &lt;- matrix(c(0, 1, 1, 0, 1, 1,
                0, 0, 0, 1, 1, 0,
                0, 1, 0, 1, 1, 1,
                1, 0, 0, 0, 0, 0,
                0, 0, 0, 1, 0, 1,
                0, 1, 0, 1, 0, 0), 6, 6, byrow=TRUE)
dimnames(dog) &lt;- setNames(rep(list(c("meat", "biscuit", "chocolate",
                                     "apple", "pear", "cheese")), 2),
                          c("&gt;", "&lt;"))
circular(dog, alternative="less")  # moderate consistency
subset(strans(dog)$violdf, !wst)   # list circular triads
</code></pre>


</div>