<div class="container">

<table style="width: 100%;"><tr>
<td>exams2learnr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>R/exams Interface for learnr Tutorials</h2>

<h3>Description</h3>

<p>The <code>exams2learnr</code> interface can be used within <span class="pkg">learnr</span>
tutorials (in R/Markdown format) to dynamically insert individual questions
or entire quizzes based on R/exams exercise templates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">exams2learnr(file, output = NULL,
  show_solution = TRUE, allow_retry = FALSE, random_answer_order = FALSE, 
  correct = "Correct!", incorrect = "Incorrect", try_again = incorrect, caption = "Quiz",
  n = 1L, nsamp = NULL, dir = ".", edir = NULL, tdir = NULL, sdir = NULL, verbose = FALSE,
  quiet = TRUE, resolution = 100, width = 4, height = 4, svg = FALSE,
  converter = "pandoc-mathjax", base64 = TRUE, label = NULL,
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character. A specification of a (list of) exercise files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>character specifying the output. Can either be a single learnr
<code>"question"</code>, a learnr <code>"quiz"</code> containing one or more questions,
or a standard <code>"list"</code> of lists of learnr questions. Details are provided
below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_solution</code></td>
<td>
<p>logical. Should solution texts (if any) be shown
after an attempt in a question (via <code>post_message</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_retry</code></td>
<td>
<p>logical. Should users be allowed to retry a question after
answering it incorrectly?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random_answer_order</code></td>
<td>
<p>logical. Should answer options be shuffled randomly
by learnr when running the quiz?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct</code></td>
<td>
<p>character. Text to print for a correct answer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incorrect</code></td>
<td>
<p>character. Text to print for an incorrect answer (when
<code>allow_retry</code> is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>try_again</code></td>
<td>
<p>character. Text to print for an incorrect answer (when
<code>allow_retry</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>character. Text to display at the start of the quiz
(provided <code>output = "quiz"</code> is used).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>integer. The number of copies to be taken from <code>file</code>.
Typically this is <code>n = 1</code> because learnr questions and quizzes
do not support question banks with multiple variations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsamp</code></td>
<td>
<p>integer. The number(s) of exercise files sampled from each
list element of <code>file</code>. Sampling without replacement is used
if possible. (Only if some element of <code>nsamp</code> is larger than
the length of the corresponding element in <code>file</code>, sampling
with replacement is used.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>character. Standard argument for exams interfaces and hence
included in the argument - but actually not used because <code>exams2learnr</code>
does not write output files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edir</code></td>
<td>
<p>character specifying the path of the directory (along with its
sub-directories) in which the files in <code>file</code> are stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tdir</code></td>
<td>
<p>character specifying a temporary directory, by default
this is chosen via <code>tempfile</code>. Note that this
is cleaned up (i.e., existing files are deleted) and only certain
temporary files are preserved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdir</code></td>
<td>
<p>character specifying a directory for storing supplements, by
default this is chosen via <code>tempfile</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical. Should information on progress of exam generation
be reported?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>logical. Should output be suppressed when calling
<code>xweave</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution, width, height</code></td>
<td>
<p>numeric. Options for rendering PNG (or SVG)
graphics passed to <code>xweave</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svg</code></td>
<td>
<p>logical. Should graphics be rendered in SVG or PNG (default)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>converter, base64</code></td>
<td>
<p>arguments passed on to <code>make_exercise_transform_html</code>.
Usually neither of the defaults should be modified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>character. Label to be used internally as the (prefix for the)
question ID(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed on to <code>question</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>exams2learnr</code> provides an interface for including exercises from
R/exams (<a href="https://www.R-exams.org/">https://www.R-exams.org/</a>) in <span class="pkg">learnr</span> tutorials.
This is done by rendering the exercises (either in .Rnw or .Rmd format)
into HTML and embedding that into learnr <code>question</code>
objects. These can then be rendered by learnr shiny apps.
</p>
<p>Currently, <code>num</code>, <code>schoice</code> (single-choice), <code>mchoice</code>
(multiple-choice), and <code>string</code> exercises from R/exams are supported.
But <code>cloze</code> questions that combine several of these question types
in a single exercise are not supported yet.
</p>
<p>The output format of <code>exams2learnr</code> is chosen automatically, by default.
</p>
<p>If it is applied just to a single <code>file</code> (and with just a single random
replication) a single learnr <code>question</code> is produced. This is useful
if the learnr tutorial should include other text elements or different questions
with different control options.
</p>
<p>If <code>exams2learnr</code> is applied to a vector or list of files (with just
a single random replication), then an entire learnr <code>quiz</code>
is produced. This is useful when multiple questions should be set up with the
same control options in one go.
</p>
<p>If more than <code>n = 1</code> random replications are produced then a standard list
is returned - because learnr currently does not provide a compound object that can
capture a question bank with multiple replications. The list has one element per
random replication, each of which is a list of learnr <code>question</code> objects.
</p>
<p>The format of the return value can also be controlled by the <code>output</code>
argument if the desired format is not selected automatically.
</p>
<p>The function <code>exams2learnr</code> is intended to be used within the code of
learnr .Rmd tutorials. Additionally, the function <code>run_quiz</code>
can set up a suitable .Rmd file and directly run it. This is intended mostly
for quick interactive testing when authoring R/exams exercises.
</p>


<h3>Value</h3>

<p>Depending on its arguments, <code>exams2learnr</code> either returns a single learnr
<code>question</code>, an entire learnr <code>quiz</code>, or
a list of learnr question lists. See above for more details and some illustrations
in the examples below.
</p>


<h3>See Also</h3>

<p><code>question</code>, <code>quiz</code>,
<code>xexams</code>, <code>xweave</code>,
<code>run_quiz</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Default outputs:
## - a single exercise yields a learnr tutorial_question
## - several exercises yields a learnr tutorial_quiz

## Example R/exams exercise:
## - function: "string" question, represented as "learnr_text"
qn &lt;- exams2learnr("function.Rmd")
class(qn)
print(qn)

## Example R/exams exercises:
## - swisscapital: "schoice" question, represented as "learnr_radio"
## - switzerland: "mchoice" question, represented as "learnr_checkbox"
qz &lt;- exams2learnr(c("swisscapital.Rmd", "switzerland.Rmd"))
class(qz)
print(qz)

## Usually exams2learnr() is used within learnr .Rmd tutorials,
## two example files are shipped within the package.
## - learnr_questions.Rmd: all questions set up indvidually
## - learnr_quiz.Rmd: an entire quiz set up in one go
lr &lt;- system.file("learnr", package = "exams2learnr")
dir(lr)

## The quiz .Rmd file is rather short and straightforward.
rmd &lt;- file.path(lr, "learnr_quiz.Rmd")
writeLines(readLines(rmd))

## Not run: 
## Either .Rmd file can be loaded in RStudio and run from there or
## using the command line, e.g.,
rmarkdown::run(rmd)

## End(Not run)
</code></pre>


</div>