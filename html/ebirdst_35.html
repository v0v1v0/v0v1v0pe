<div class="container">

<table style="width: 100%;"><tr>
<td>load_ppm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Load predictive performance metric (PPM) rasters</h2>

<h3>Description</h3>

<p>eBird Status models are evaluated against a test set of eBird data not used
during model training and a suite of predictive performance metrics (PPMs)
are calculated. The PPMs for each base model are summarized to a 27 km
resolution raster grid, where the cell values are the average across all
models in the ensemble contributing to that cell. These data are available in
raster format provided <code>download_ppms = TRUE</code> was used when calling
<code>ebirdst_download_status()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">load_ppm(
  species,
  ppm = c("binary_f1", "binary_pr_auc", "occ_bernoulli_dev", "count_spearman",
    "log_count_pearson", "abd_poisson_dev", "abd_spearman", "log_abd_pearson"),
  path = ebirdst_data_dir()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>character; the species to load data for, given as a scientific
name, common name or six-letter species code (e.g. "woothr"). The full list
of valid species is in the ebirdst_runs data frame included in this
package. To download the example dataset, use <code>"yebsap-example"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppm</code></td>
<td>
<p>character; the name of a single metric to load data for. See
Details for definitions of each metric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>character; directory to download the data to. All downloaded
files will be placed in a sub-directory of this directory named for the
data version year, e.g. "2020" for the 2020 Status Data Products. Each
species' data package will then appear in a directory named with the eBird
species code. Defaults to a persistent data directory, which can be found
by calling <code>ebirdst_data_dir()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Eight predictive performance metrics are provided:
</p>

<ul>
<li> <p><code>binary_f1</code>: F1-score comparing the model predictions converted to binary
with the observed detection/non-detection for the test checklists.
</p>
</li>
<li> <p><code>binary_pr_auc</code>: the area on the precision-recall curve generated by
comparing the model predictions converted to binary with the observed
detection/non-detection for the test checklists.
</p>
</li>
<li> <p><code>occ_bernoulli_dev</code>: Bernoulli deviance comparing the predicted occurrence
with the observed detection/non-detection for the test checklists.
</p>
</li>
<li> <p><code>count_spearman</code>: Spearman's rank correlation coefficient comparing the
predicted count with the observed count for the subset of test checklists
on which the species was detected.
</p>
</li>
<li> <p><code>log_count_pearson</code>: Pearson correlation coefficient comparing the
logarithm of the predicted count with the logarithm of the observed count
for the subset of test checklists on which the species was detected.
</p>
</li>
<li> <p><code>abd_poisson_dev</code>: Poisson deviance comparing the predicted relative
abundance with the observed count for the full set of test checklists.
</p>
</li>
<li> <p><code>abd_spearman</code>: Spearman's rank  correlation coefficient comparing the
predicted relative abundance with the observed count for the full set of
test checklists.
</p>
</li>
<li> <p><code>log_abd_pearson</code>: Pearson correlation coefficient comparing the logarithm
of the predicted relative abundance with the logarithm of the observed
count for the full set of test checklists.
</p>
</li>
</ul>
<h3>Value</h3>

<p>A SpatRaster object with the PPM data. For
migrants, rasters are weekly with  52 layers, where the layer names are the
dates (<code>MM-DD</code> format) of the midpoint of each week. For residents, a
single year round layer is returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# download example data if hasn't already been downloaded
ebirdst_download_status("yebsap-example", download_ppms = TRUE)

# load area under the precision-recall curve PPM raster
load_ppm("yebsap-example", ppm = "binary_pr_auc")

## End(Not run)
</code></pre>


</div>