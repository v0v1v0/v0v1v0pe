<div class="container">

<table style="width: 100%;"><tr>
<td>fmt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Auxiliary Formatting Functions</h2>

<h3>Description</h3>

<p>Auxiliary functions for displaying numeric elements in exercises.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fmt(x, digits = 2L, zeros = digits &lt; 4L, ...)

round2(x, digits = 0) 

char_with_braces(x)

num_to_tol(x, reltol = 0.0002, min = 0.01, digits = 2)

## S3 method for class 'matrix'
toLatex(object, skip = FALSE, fix = getOption("olat_fix"),
  escape = TRUE, ...)

## S3 method for class 'data.frame'
toLatex(object, rotate = FALSE, pad = " ~ ", align = NULL, row.names = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>integer. Digits that should be used for rounding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeros</code></td>
<td>
<p>logical. Should trailing zeros be added?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reltol</code></td>
<td>
<p>numeric. Relative tolerance (relative to correct
solution <code>x</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p>numeric. Minimum absolute tolerance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>matrix or data frame, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip</code></td>
<td>
<p>logical. Should an additional skip be added between rows?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix</code></td>
<td>
<p>logical. Should an additional empty column be added between
all columns? This is a workaround for OLAT that collapses spaces
between columns in MathML.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>escape</code></td>
<td>
<p>logical. Should LaTeX commands be escaped (as appropriate
for <code>Sweave</code>) or not (as appropriate for
<code>knit</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed to <code>format</code> for <code>fmt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotate</code></td>
<td>
<p>logical. Should the table be transposed/rotated by 90 degrees?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pad</code></td>
<td>
<p>character for padding columns of the resulting table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>align</code></td>
<td>
<p>character indicating the alignment of the columns. Can either
be a single string like <code>"|l|rrr|"</code> or a vector of characters per column.
By default numeric columns are right-aligned and character columns are
left-aligned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.names</code></td>
<td>
<p>logical. Should a column (or row, if <code>rotate = TRUE</code>)
with the row names be included?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Various functions that help displaying numerical results in exercises:
</p>
<p>The function <code>fmt</code> rounds and adds trailing zeros (by default if <code>digits</code> is
lower than 4).
</p>
<p>The function <code>round2</code> does what is known in German as kaufmaennisches Runden
(rounding away from zero for trailing 5s).
</p>
<p>The function <code>char_with_braces</code> adds parentheses for negative elements
(in order to facilitate their display in equations).
</p>
<p>The function <code>num_to_tol</code> (or equivalently <code>num2tol</code>)
computes the absolute tolerance based on a
numeric solution <code>x</code> and a relative tolerance <code>reltol</code>.
</p>
<p>The <code>toLatex</code> method sets up a matrix array with parentheses.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## emulate how students round
## (rather than using the round-to-even strategy R employs)
round2(c(0.005, 0.015), digits = 2)
round(c(0.005, 0.015), digits = 2)

## this is also employed internally in the fmt() formatting function
fmt(c(0.005, 0.015))

## the main purpose of fmt() is that some numeric result can be displayed
## both at high accuracy and then at the rounding that students should do
## (e.g., with 2 or 3 digits)
sol &lt;- runif(1)
fmt(sol, 6)
fmt(sol, 2)

## but fmt() also assures showing a very high numer of significant digits
## (up to 12)
sol &lt;- 123456 + sol
sol
fmt(sol, 6)
fmt(sol, 2)

## and fmt() also takes care of adding trailing zeros (if digits &lt; 4)
fmt(1)
fmt(1, digits = 3)
fmt(1, digits = 6)

## char_with_braces() is for adding parentheses, e.g., before constructing a sum
paste(char_with_braces(-2:2), collapse = " + ")

## for including a matrix in a LaTeX formula
x &lt;- matrix(1:4, ncol = 2)
toLatex(x)
toLatex(x, skip = TRUE)

## for including a data frame as a plain LaTeX tabular (without caption etc.)
d &lt;- data.frame(Label = c("Foo first", "Bar second"), Value = c(12.3, 1234))
toLatex(d, big.mark = ",", nsmall = 2)

## compute absolute tolerances:
## minimum is 0.01
num_to_tol(1)
## but can be larger for larger solutions
num_to_tol(100)
</code></pre>


</div>