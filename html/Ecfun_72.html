<div class="container">

<table style="width: 100%;"><tr>
<td>readNIPA</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Read a National Income and Product Accounts 
data table
</h2>

<h3>Description</h3>

<p>Read multiple files with data in rows using
<code>read.transpose</code> and combine the 
initial columns.
</p>


<h3>Usage</h3>

<pre><code class="language-R">readNIPA(files, sep.footnote='/', ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>

<p>A character vector of names of files 
from which the data are to be read using 
<code>read.transpose</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep.footnote</code></td>
<td>

<p>a single character to identify footnote 
references in the variable names in some 
but not all of <code>files</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>optional arguments for 
<code>read.transpose</code>
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is written first and foremost to 
facilitate updating 
<code>USFinanceIndustry</code> from 
Table 6.16:  Income and employment by industry 
in the National Income and Product Account
tables published by the Bureau of Economic 
Analysis of the United States Department of 
Commerce.  As of February 2013, this table can 
be obtained from <a href="https://www.bea.gov">https://www.bea.gov</a>:  
Under "U.S. Economic Accounts", first select 
"Corporate Profits" under "National".  Then
next to "Interactive Tables", select, "National 
Income and Product Accounts Tables".  From 
there, select "Begin using the data...".
Under "Section 6 - income and employment by 
industry", select each of the tables starting 
"Table 6.16".  As of February 2013, there were 
4 such tables available:  Table 6.16A, 6.16B, 
6.16C and 6.16D.  Each of the last three are 
available in annual and quarterly summaries.  
The <code>USFinanceIndustry</code> 
data combined the first 4 rows of the 4 annual 
summary tables.
</p>
<p>This is available in 4 separate files, which 
must be downloaded and combined using 
<code>readNIPA</code>.  The first three of these are
historical data and are rarely revised.  For 
convenience and for testing, they are provided 
in the <code>demoFiles</code> subdirectory of this 
<code>Ecdat</code> package.
</p>
<p>It has not been tested on other data but should 
work for annual data with a sufficiently similar 
structure.
</p>
<p>The algorithm proceeds as follows:
</p>
<p>1.  <code>Data &lt;- lapply(files, read.transpose)</code>
</p>
<p>2.  Is <code>Data</code> a list of numeric 
matrices?  If no, print an error.
</p>
<p>3.  <code>cbind</code> common initial 
variables, averaging overlapping years,
reporting percent difference
</p>
<p>4.  attributes:  stats from files and 
overlap.  Stats include the first and 
last year and the last revision date for 
each file, plus the number of years overlap 
with the previous file and the relative change
in the common files kept between those two 
files.
</p>


<h3>Value</h3>

<p>a <code>matrix</code> of the common variables
</p>


<h3>Author(s)</h3>

<p>Spencer Graves</p>


<h3>References</h3>

<p><a href="https://www.bea.gov">United States Department of Commerce Bureau
of Economic Analysis National Income and Product Account tables</a>
</p>


<h3>See Also</h3>

<p><code>read.table</code>
<code>readLines</code>
<code>strsplit</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#  Find demoFiles/*.csv
demoDir &lt;- system.file('demoFiles', package='Ecdat')
(demoCsv &lt;- dir(demoDir, pattern='csv$', full.names=TRUE))

nipa6.16 &lt;- readNIPA(demoCsv)
str(nipa6.16)
</code></pre>


</div>