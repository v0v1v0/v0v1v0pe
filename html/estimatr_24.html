<div class="container">

<table style="width: 100%;"><tr>
<td>lm_robust_fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Internal method that creates linear fits</h2>

<h3>Description</h3>

<p>Internal method that creates linear fits
</p>


<h3>Usage</h3>

<pre><code class="language-R">lm_robust_fit(
  y,
  X,
  yoriginal = NULL,
  Xoriginal = NULL,
  weights,
  cluster,
  fixed_effects = NULL,
  ci = TRUE,
  se_type,
  has_int,
  alpha = 0.05,
  return_vcov = TRUE,
  return_fit = TRUE,
  try_cholesky = FALSE,
  iv_stage = list(0)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>numeric outcome vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>numeric design matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yoriginal</code></td>
<td>
<p>numeric outcome vector, unprojected if there are fixed effects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xoriginal</code></td>
<td>
<p>numeric design matrix, unprojected if there are fixed effects. Any column named <code>"(Intercept)" will be dropped</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>numeric weights vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>numeric cluster vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed_effects</code></td>
<td>
<p>character matrix of fixed effect groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>boolean that when T returns confidence intervals and p-values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se_type</code></td>
<td>
<p>character denoting which kind of SEs to return</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_int</code></td>
<td>
<p>logical, whether the model has an intercept, used for <code class="reqn">R^2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>numeric denoting the test size for confidence intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_vcov</code></td>
<td>
<p>logical, whether to return the vcov matrix for later usage</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_fit</code></td>
<td>
<p>logical, whether to return fitted values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>try_cholesky</code></td>
<td>
<p>logical, whether to try using a cholesky decomposition to solve LS instead of a QR decomposition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iv_stage</code></td>
<td>
<p>list of length two, the first element denotes the stage of 2SLS IV estimation, where 0 is used for OLS. The second element is only used for the second stage of 2SLS and has the first stage design matrix. For OLS, the default, <code>list(0)</code>, for the first stage of 2SLS <code>list(1)</code>, for second stage of 2SLS <code>list(2, first_stage_design_mat)</code>.</p>
</td>
</tr>
</table>
</div>