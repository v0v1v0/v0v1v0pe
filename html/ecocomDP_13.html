<div class="container">

<table style="width: 100%;"><tr>
<td>create_observation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create the observation table</h2>

<h3>Description</h3>

<p>Create the observation table
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_observation(
  L0_flat,
  observation_id,
  event_id = NULL,
  package_id,
  location_id,
  datetime,
  taxon_id,
  variable_name,
  value,
  unit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>L0_flat</code></td>
<td>
<p>(tbl_df, tbl, data.frame) The fully joined source L0 dataset, in "flat" format (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observation_id</code></td>
<td>
<p>(character) Column in <code>L0_flat</code> containing the identifier assigned to each unique observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event_id</code></td>
<td>
<p>(character) An optional column in <code>L0_flat</code> containing the identifier assigned to each unique sampling event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>package_id</code></td>
<td>
<p>(character) Column in <code>L0_flat</code> containing the identifier of the derived L1 dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>location_id</code></td>
<td>
<p>(character) Column in <code>L0_flat</code> containing the identifier assigned to each unique location at the observation level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datetime</code></td>
<td>
<p>(character) Column in <code>L0_flat</code> containing the date, and if applicable time, of the observation following the ISO-8601 standard format (e.g. YYYY-MM-DD hh:mm:ss).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taxon_id</code></td>
<td>
<p>(character) Column in <code>L0_flat</code> containing the identifier assigned to each unique organism at the observation level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable_name</code></td>
<td>
<p>(character) Column in <code>L0_flat</code> containing the names of variables measured.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>(character) Column in <code>L0_flat</code> containing the values of <code>variable_name</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>(character) An optional column in <code>L0_flat</code> containing the units of <code>variable_name</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function collects specified columns from <code>L0_flat</code> and returns distinct rows.
</p>
<p>"flat" format refers to the fully joined source L0 dataset in "wide" form with the exception of the core observation variables, which are in "long" form (i.e. using the variable_name, value, unit columns of the observation table). This "flat" format is the "widest" an L1 ecocomDP dataset can be consistently spread due to the frequent occurrence of L0 source datasets with &gt; 1 core observation variable.
</p>


<h3>Value</h3>

<p>(tbl_df, tbl, data.frame) The observation table.
</p>


<h3>Examples</h3>

<pre><code class="language-R">flat &lt;- ants_L0_flat

observation &lt;- create_observation(
  L0_flat = flat, 
  observation_id = "observation_id", 
  event_id = "event_id", 
  package_id = "package_id",
  location_id = "location_id", 
  datetime = "datetime", 
  taxon_id = "taxon_id", 
  variable_name = "variable_name",
  value = "value",
  unit = "unit")

observation

</code></pre>


</div>