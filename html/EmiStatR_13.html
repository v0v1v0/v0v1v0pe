<div class="container">

<table style="width: 100%;"><tr>
<td>input-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class <code>"input"</code>
</h2>

<h3>Description</h3>

<p>The class provides a container for inputs required to invoke <code>EmiStatR</code> method.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>input()</code> or <code>new("input")</code>.
</p>


<h3>Slots</h3>


<dl>
<dt>
<code>spatial</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code>, 0 (default ) for non-spatial 
input, 1 for spatial input (not implemented).</p>
</dd>
<dt>
<code>zero</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code>, aproximation to zero value. 
Default 1E-5.</p>
</dd>
</dl>
<dl>
<dt>
<code>folder</code>:</dt>
<dd>
<p>Object of class <code>"character"</code>, path for the output.    
Default <code>getwd()</code></p>
</dd> 
</dl>
<dl>
<dt>
<code>cores</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code>, number of CPU cores 
to be used in parallel computing. If cores = 0 no parallel computation is  
done. Default 1.</p>
</dd>
<dt>
<code>ww</code>:</dt>
<dd>
<p>Object of class <code>"list"</code>. This list contains three 
numeric elements for the wastewater characteristics. First element
<code>qs</code>, individual water consumption of households [l/(PE d)]. Second
element <code>CODs</code>, sewage pollution - COD concentration [g/(PE d)]. Third
element <code>NH4s</code>, sewage pollution - NH4 concentration [g/(PE d)].</p>
</dd>
<dt>
<code>inf</code>:</dt>
<dd>
<p>Object of class <code>"list"</code>. This list contains three 
numeric elements for infiltration water characteristics. First 
element <code>qf</code>, infiltration water inflow [l/(s ha)]. Second element
<code>CODf</code>, infiltration water pollution - COD concentration [g/(PE d)].
Third element <code>NH4f</code>, infiltration water pollution - NH4 concentration 
[g/(PE d)].</p>
</dd>
<dt>
<code>rw</code>:</dt>
<dd>
<p>Object of class <code>"list"</code>. This list contains three 
elements for rainwater characteristics. First 
element <code>CODr</code> (numeric), rainwater pollution - COD concentration [mg/l].
Second element <code>NH4r</code> (numeric), rainwater pollution - NH4 concentration 
[mg/l]. Third element <code>stat</code> (character), name of the rain measurement 
station.</p>
</dd>
<dt>
<code>P1</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> with two columns named 
1. "time" for specifying the date and time in format YYYY-m-d HH:MM:SS, 
2. "P [mm]" for specifying the depth values of the rainfall time series in millimeters. 
Optionally, instead of rainfall depth values can be provided values of direct runoff 
in cubic meters entering in the system. 
If runoff values are provided then the second column containing these values
should be named as "Runoff_Volume" or "runoff_volume", 
otherwise this column is treated as rainfall depth.</p>
</dd>
<dt>
<code>st</code>:</dt>
<dd>
<p>Object of class 
<code>"list"</code>. This object contains n lists, 
where n is the number of structures to simulate. Every list should contain 18
elements: 
<code>id</code>, numeric, identification number [-]; 
<code>ns</code>, character, name of the structure [-];
<code>nm</code>, character, name of the municipality [-]; 
<code>nc</code>, character, name of the catchment [-];
<code>numc</code>, numeric, number of the catchment [-]; 
<code>use</code>, character, use of the soil [-]; 
<code>Atotal</code>, numeric, total area [ha]; 
<code>Aimp</code>, numeric, impervious area [ha];
<code>tfS</code>, numeric, time flow structure [time step]; 
<code>pe</code>, numeric, population equivalent [PE];
<code>V</code>, numeric, volume [m3]; 
<code>lev2vol</code>, list of 2, lev and vol, defining the curve lev (level [m]) 
to vol (volume [m3]);
<code>Qd</code>, numeric, maximum throttled outflow [l/s]; 
<code>Dd</code>, numeric, orifice diameter [m];
<code>Cd</code>, numeric, orifice coefficient [-];  
<code>Cimp</code>, numeric, coefficient for impervious area [-]; and 
<code>Cper</code>, numeric, coefficient for pervious area [-].</p>
</dd>
<dt>
<code>pe.ts.file</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> with the path and file 
name of the comma separated value (csv) file that contains the montly (seasonal) 
factors for population equivalent (<code>pe</code>). The first 
column of this file should be "time" in format "Y-m-d H:M:S" and should span for the
entire length of the desired time series. 
The second column should contain the population equivalent as numeric class for the 
specified time, i.e. the desired <code>pe</code> time series with daily, weekly and monthly factors
already applied.
Default empty string (""). 
If not empty string is defined then <code>pe.daily.file</code>, <code>pe.weekly</code>, <code>pe.seasonal</code>
are omitted.</p>
</dd>
<dt>
<code>pe.daily.file</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> that contains the daily factors for population
equivalent. The first 
column should be the time in format "H:M:S" and should span for 24 hours. 
The second column should contain the factors as numeric class for the specified time.     These factors must average to 1.</p>
</dd>
<dt>
<code>pe.weekly</code>:</dt>
<dd>
<p>Object of class <code>"list"</code> that contains the factors for population
equivalent per day of the week with 7 elements called "mon" for Monday, "tue" for Tuesday, 
"wed" for Wednesday, "thu" for Thursday, "fri" for Friday, "sat" for Saturday, and "sun" for Sunday. 
These factors must average to 1.</p>
</dd>
<dt>
<code>pe.seasonal</code>:</dt>
<dd>
<p>Object of class <code>"list"</code> that contains the factors for population
equivalent per month of the year with 12 elements called with the three first lower case letters 
of the month from "jan" for January to "dec" for December. These factors must average to 1.</p>
</dd>
<dt>
<code>qs.ts.file</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> with the path and file 
name of the comma separated value (csv) file that contains the monthly (seasonal) 
factors for water consumption (<code>qs</code>). The first 
column of this file should be "time" in format "Y-m-d H:M:S" and should span for the
entire length of the desired time series. 
The second column should contain the population equivalent as numeric class for the 
specified time, i.e. the desired <code>qs</code> time series with daily, weekly and monthly factors
already applied.
Default empty string (""). 
If not empty string is defined then <code>pe.daily.file</code>, <code>pe.weekly</code>, <code>pe.seasonal</code>
are omitted.</p>
</dd>
<dt>
<code>qs.daily.file</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> with the path and file 
name of the comma separated value (csv) file that contains the daily factors for water
consumption. The first 
column of this file should be the time in format "H:M:S" and should span for 24 hours. 
The second column should contain the factors as numeric class for the specified time. 
These factors must average to 1.</p>
</dd>
<dt>
<code>qs.weekly</code>:</dt>
<dd>
<p>Object of class <code>"list"</code> that contains the factors for water 
consumption per day of the week with 7 elements called "mon" for Monday, "tue" for Tuesday, 
"wed" for Wednesday, "thu" for Thursday, "fri" for Friday, "sat" for Saturday, and "sun" for Sunday. 
These factors must average to 1.</p>
</dd>
<dt>
<code>qs.seasonal</code>:</dt>
<dd>
<p>Object of class <code>"list"</code> that contains the factors for water 
consumption per month of the year with 12 elements called with the three first lower case letters 
of the month from "jan" for January to "dec" for December. These factors must average to 1.</p>
</dd>
<dt>
<code>export</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code>. If 1 (default) then the 
results are saved in <code>folderOutput</code>. Set to 0 for not writing in 
output files.</p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt>EmiStatR</dt>
<dd>
<p><code>signature(x = "input")</code>: execute EmiStatR function </p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>J.A. Torres-Matallana
</p>


<h3>Examples</h3>

<pre><code class="language-R">## loading EmiStatR
library("EmiStatR")
showClass("input")

## running EmiStatR with user defined input
data("Esch_Sure2010")
P1 &lt;- Esch_Sure2010[1:1000,]  # selecting just the first 1,000 rows
station &lt;- "Esch-sur-Sure"

# defining estructures E1
E1 &lt;- list(id = 1, ns = "FBH Goesdorf", nm = "Goesdorf", nc = "Obersauer", numc = 1, 
           use = "R/I", Atotal = 36, Aimp = 25.2, Cimp = 0.80, Cper = 0.30,
           tfS = 1, pe = 650, Qd = 5, 
           Dd = 0.15, Cd = 0.18, V = 190, lev.ini = 0.10,
           lev2vol = list(lev = c(.06, 1.10, 1.30, 3.30), 
                          vol = c(0.5, 31, 45, 190))
           )

# defining Input objet
input.user &lt;- input(spatial = 0, zero = 1e-5, folder = getwd(),
                    cores = 1,
                    ww = list(qs = 150, CODs = 104, NH4s = 4.7), 
                    inf = list(qf= 0.04, CODf = 0, NH4f =0),
                    rw = list(CODr = 0, NH4r = 0, stat = station), 
                    P1 = P1, st = list(E1=E1), export = 0)

str(input.user)

# invoking EmiStatR
sim &lt;- EmiStatR(input.user)

## a visualisation example 
dev.new()
par(mfrow=c(2,2), oma = c(0,0,2,0))
plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[3]], typ="l", col="blue", 
     xlab = "time", ylab = colnames(sim[[1]][[1]])[3], main = "Precipitation")
plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[10]], typ="l", col="blue", 
     xlab = "time", ylab = colnames(sim[[1]][[1]])[10], main = "CSO, volume")
plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[13]], typ="l", col="blue", 
     xlab = "time", ylab = colnames(sim[[1]][[1]])[13], main = "CSO, COD concentration")
plot(x=sim[[1]][[1]][[2]], y=sim[[1]][[1]][[14]], typ="l", col="blue", 
     xlab = "time", ylab = colnames(sim[[1]][[1]])[14], main = "CSO, NH4 concentration")
mtext(paste("Structure", sim[[1]][[3]][[1]]), outer=TRUE, cex = 1.5)
</code></pre>


</div>