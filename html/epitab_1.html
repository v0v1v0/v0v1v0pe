<div class="container">

<table style="width: 100%;"><tr>
<td>contingency_table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Builds a contingency table</h2>

<h3>Description</h3>

<p>A contingency table provides cross-tabulated frequencies between an outcome
of interest and one or more independent variables. This function extends
contingency tables to include summary statistics formed both column-wise
and row-wise, looking at outcomes and covariates respectively in isolation.
This allows for a large amount of flexibility and tables can be drawn for
a variety of situations. By default, the <code>print</code> method fits these
tables to standard R console output, but publication quality tables
can be produced using the <code>neat_table</code> function. See the vignette
for further guidance.
</p>


<h3>Usage</h3>

<pre><code class="language-R">contingency_table(independents, data, outcomes = NULL,
  crosstab_funcs = NULL, row_funcs = NULL, col_funcs = NULL,
  marginal = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>independents</code></td>
<td>
<p>A named list of independent variables, which will
be distributed down the table's rows. The variables must be specified
by strings, with the item name used as the column header.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data set that contains the columns specified in
<code>cat_vars</code> and <code>outcome</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcomes</code></td>
<td>
<p>The variables to cross-tabulate by. These will be
distributed across the table's columns. Specified as a named list of strings.
Must correspond to factor or character variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crosstab_funcs</code></td>
<td>
<p>A list of functions that are applied to every cross-tabulation
permutation of <code>independents</code> and <code>outcomes</code>. The most common
function, the frequency, is provided with the package in function <code>freq</code>.
See the vignette for further guidance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row_funcs</code></td>
<td>
<p>A list of functions that are applied row-wise to the table,
one independent variable at a time, providing a value for each level of
the factors specified in <code>independents</code>.
Two functions: <code>odds_ratio</code> and <code>hazard_ratio</code> come
provided with the package.
See the vignette for further guidance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_funcs</code></td>
<td>
<p>A list of functions that are applied column-wise to the table,
to every outcome separate from the independent variables.
Examples provided with the package included <code>summary_mean</code> and
<code>summary_median</code>, which calculate the mean and median value of a
specified continuous variable for each level of the outcome.
See the vignette for further guidance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginal</code></td>
<td>
<p>Whether to include the counts of each level of <code>cat_vars</code>, the marginal frequency.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An S3 object of class <code>contintab</code>, that provides the cell contents
as a matrix of strings.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# This example uses a dummy data set of whether an individual was treated or not
treat &lt;- data.frame(age=abs(rnorm(100, 60, 20)),
                    sex=factor(sample(c("M", "F"), 100, replace=TRUE)),
                    variant=factor(sample(c("A", "B"), 100, replace=TRUE)),
                    treated=factor(sample(c("Yes", "No"), 100, replace=TRUE),
                                   levels=c("Yes", "No")))
treat$agebin &lt;- cut(treat$age, breaks=c(0, 40, 60, 80, 9999),
                    labels=c("0-40", "41-60", "61-80", "80+"))

# Displays a standard contingency table
contingency_table(list("Age"='agebin', "Sex"='sex'),
                  outcomes=list('Treated'='treated'),
                  crosstab_funcs=list(freq()),
                  data=treat)

# Continuous variables can be summarised with respect to the outcome
# by using col_funcs
contingency_table(list("Age"='agebin', "Sex"='sex'),
                  outcomes=list('Treated'='treated'),
                  crosstab_funcs=list(freq()),
                  col_funcs=list("Mean age"=summary_mean('age')),
                  data=treat)

# Regression coefficients can be added using row_funcs
contingency_table(list("Age"='agebin', "Sex"='sex'),
                   treat,
                   outcomes=list('Treated'='treated'),
                   crosstab_funcs=list(freq()),
                   row_funcs=list("Odds ratio"=odds_ratio('treated'),
                                  "Adjusted odds ratio"=odds_ratio('treated', adjusted=TRUE)))

</code></pre>


</div>