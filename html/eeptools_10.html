<div class="container">

<table style="width: 100%;"><tr>
<td>gelmansim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate prediction intervals for model functions</h2>

<h3>Description</h3>

<p>Generate prediction intervals from R models following Gelman and Hill
</p>


<h3>Usage</h3>

<pre><code class="language-R">gelmansim(mod, newdata, n.sims, na.omit = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>Name of a model object such as <code>lm</code>, <code>glm</code>, or <code>merMod</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>Sets of new data to generate predictions for</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.sims</code></td>
<td>
<p>Number of simulations per case</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.omit</code></td>
<td>
<p>Logical indicating whether to remove NAs from <code>newdata</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Currently gelmansim does not work for <code>lm</code> objects because of the way <code>sim</code> in the 
<code>arm</code> package handles variable names for these objects. It is recommended users use <code>glm</code> in these cases.
</p>


<h3>Value</h3>

<p>A dataframe with newdata and prediction intervals
</p>


<h3>References</h3>

<p>Modified from Gelman and Hill 2006. Data Analysis Using Regression and Multilevel/Hierarchical Models. Cambridge University Press.
</p>


<h3>Examples</h3>

<pre><code class="language-R"> #Examples of "sim" 
set.seed (1)
J &lt;- 15
n &lt;- J*(J+1)/2
group &lt;- rep (1:J, 1:J)
mu.a &lt;- 5
sigma.a &lt;- 2
a &lt;- rnorm (J, mu.a, sigma.a)
b &lt;- -3
x &lt;- rnorm (n, 2, 1)
sigma.y &lt;- 6
y &lt;- rnorm (n, a[group] + b*x, sigma.y)
u &lt;- runif (J, 0, 3)
y123.dat &lt;- cbind (y, x, group)
# Linear regression 
x1 &lt;- y123.dat[,2]
y1 &lt;- y123.dat[,1]
M1 &lt;- glm (y1 ~ x1)

cases &lt;- data.frame(x1 = seq(-2, 2, by=0.1))
sim.results &lt;- gelmansim(M1, newdata=cases, n.sims=200, na.omit=TRUE)
## Not run: 

dat &lt;- as.data.frame(y123.dat)
M2 &lt;- glm (y1 ~ x1 + group, data=dat)

cases &lt;- expand.grid(x1 = seq(-2, 2, by=0.1), 
                     group=seq(1, 14, by=2))

sim.results &lt;- gelmansim(M2, newdata=cases, n.sims=200, na.omit=TRUE)
 

## End(Not run)
</code></pre>


</div>