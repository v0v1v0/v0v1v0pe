<div class="container">

<table style="width: 100%;"><tr>
<td>predict.earth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predict with an earth model</h2>

<h3>Description</h3>

<p>Predict with an <code>earth</code> model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'earth'
predict(object = stop("no 'object' argument"), newdata = NULL,
        type = c("link", "response", "earth", "class", "terms"),
        interval = "none", level = .95,
        thresh = .5, trace = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>An <code>earth</code> object.
This is the only required argument.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>

<p>Make predictions using <code>newdata</code>, which
can be a data frame, a matrix, or a vector with length equal to a
multiple of the number of columns
of the original input matrix <code>x</code>.<br>
Default is NULL, meaning return values predicted from the training set.<br>
NAs are allowed in <code>newdata</code> (and the predicted value will be NA
unless the NAs are in variables that are unused in the earth model).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>Type of prediction.
One of <code>"link"</code> (default), <code>"response"</code>, <code>"earth"</code>, <code>"class"</code>, or <code>"terms"</code>.
See the <b>Note</b> below.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>

<p>Return prediction or confidence levels.
Default is <code>"none"</code>.
Use <code>interval="pint"</code> to get prediction intervals on new data.
<br>
Requires that the earth model was built with <code>varmod.method</code>.
<br>
This argument gets passed on as the <code>type</code> argument to <code>predict.varmod</code>.
See its help page for details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>

<p>Confidence level for the <code>interval</code> argument.
Default is <code>0.95</code>, meaning construct 95% confidence bands
(estimate the 2.5% and 97.5% levels).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresh</code></td>
<td>

<p>Threshold, a value between 0 and 1 when predicting a probability.
Only applies when <code>type="class"</code>.
Default is 0.5.
See the <b>Note</b> below.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>

<p>Default <code>FALSE</code>. Set to <code>TRUE</code> to see which data, subset, etc.  <code>predict.earth</code> is using.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Unused, but provided for generic/method consistency.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The predicted values (a matrix for multiple response models).
</p>
<p>If <code>type="terms"</code>, a matrix with each column showing the contribution of a predictor.
</p>
<p>If <code>interval="pint"</code> or <code>"cint"</code>, a matrix with three columns:<br><code>fit</code>: the predicted values<br><code>lwr</code>: the lower confidence or prediction limit<br><code>upr</code>: the upper confidence or prediction limit
</p>
<p>If <code>interval="se"</code>, the standard errors.
</p>


<h3>Note</h3>

<p><b>Predicting with standard earth models</b>
</p>
<p>Use the default <code>type="link"</code>, or possibly <code>type="class"</code>.
</p>
<p>Actually, the <code>"link"</code>, <code>"response"</code>, and <code>"earth"</code>
choices all return the same value unless the <code>glm</code> argument
was used in the original call to <code>earth</code>.
</p>
<p><b>Predicting with earth-GLM models</b>
</p>
<p>This section applies to earth models with a GLM component, i.e.,
when the <code>glm</code> argument was used
in the original call to <code>earth</code>.
</p>
<p>The <code>"link"</code> and <code>"response"</code> options:
see <code>predict.glm</code> for a description of these.
In brief: for logistic models
use <code>type="response"</code> to get probabilities,
and <code>type="link"</code> to get log-odds.
</p>
<p>Use option <code>"earth"</code> to get the linear fit (this gives the prediction you would get
if your original call to earth had no <code>glm</code> argument).
</p>
<p><b>Predicting with "class"</b>
</p>
<p>Use option <code>"class"</code> to get the predicted class.
With option <code>"class"</code>, this function first makes predictions with
<code>type="response"</code> and then assigns the predicted values to classes as follows:
</p>
<p>(i) When the response is a <em>logical</em>, predict <code>TRUE</code> if
the predicted probability is greater than <code>thresh</code> (default <code>0.5</code>).
</p>
<p>(ii) When the response is a <em>numeric</em>, predict <code>TRUE</code> if
the predicted value is greater than <code>thresh</code>.
Actually, this is identical to the above case,
although <code>thresh</code> here may legitimately be a value
outside the 0...1 range.
</p>
<p>(iii) When the response is a <em>two level factor</em>,
predict the second level if its probability is more than <code>thresh</code>.
In other words, with the default <code>thresh=0.5</code> predict the most probable level.
</p>
<p>(iv) When the response is a <em>three or more level factor</em>,
predict the most probable level (and <code>thresh</code> is ignored).
</p>
<p><b>Predicting with "terms"</b>
</p>
<p>The <code>"terms"</code> option returns a <code>"link"</code> response suitable for <code>termplot</code>.
Only the additive terms and the first response (for multi-response models) are returned.
Also, <code>"terms"</code> always returns the earth terms, and ignores the GLM component
of the model, if any.
</p>


<h3>See Also</h3>

<p><code>earth</code>,
<code>predict</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(trees)
earth.mod &lt;- earth(Volume ~ ., data = trees)
predict(earth.mod) # same as earth.mod$fitted.values
predict(earth.mod, data.frame(Girth=10, Height=80)) # yields 17.6
predict(earth.mod, c(10,80))                        # equivalent
</code></pre>


</div>