<div class="container">

<table style="width: 100%;"><tr>
<td>moves_calc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to calculate the number of times a student has changed schools.</h2>

<h3>Description</h3>

<p>This function calculates the number of times a student has changed 
schools, including accounting for gaps in enrollment data. It returns a 
<code>data.table</code> with the student ID and the number of student moves.
</p>


<h3>Usage</h3>

<pre><code class="language-R">moves_calc(
  df,
  enrollby,
  exitby,
  gap = 14,
  sid = "sid",
  schid = "schid",
  enroll_date = "enroll_date",
  exit_date = "exit_date"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a data.frame containing minimally a student identifier, school identifier, enrollment date, and exit date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enrollby</code></td>
<td>
<p>a date that determines the earliest a student can enroll for 
the first time without being credited with having moved at least once.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exitby</code></td>
<td>
<p>a date that determines the latest a student can exit for the final 
time without being credited with having moved at least once.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gap</code></td>
<td>
<p>a number, of days,  that represents the largest gap between an exit date 
and the next enrollment date that can occur without indicating the student 
moved to a third school not contained within the data set. The default value is 
<code>14</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sid</code></td>
<td>
<p>a character that indicates the name of the student id attribute 
in <code>df</code>. The default value is <code>sid</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>schid</code></td>
<td>
<p>a character that indicates the name of the school id attribute 
in <code>df</code>. The default value is <code>schid</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enroll_date</code></td>
<td>
<p>a character that indicates the name of the enrollment date 
attribute in <code>df</code>. The default value is <code>enroll_date</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exit_date</code></td>
<td>
<p>a character that indicates the name of the student id 
attribute in <code>df</code>. The default value is <code>exit_date</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>enrollby</code> and <code>exitby</code> are specified automatically if not 
defined. They are assigned to the default dates of -09-15 and -06-01 of the min 
and max year respectively.
</p>


<h3>Value</h3>

<p>a data.frame
</p>


<h3>Author(s)</h3>

<p>Jason P. Becker
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
df &lt;- data.frame(sid = c(rep(1,3), rep(2,4), 3, rep(4,2)), 
                 schid = c(1, 2, 2, 2, 3, 1, 1, 1, 3, 1),
                 enroll_date = as.Date(c('2004-08-26',
                                         '2004-10-01',
                                         '2005-05-01',
                                         '2004-09-01',
                                         '2004-11-03',
                                         '2005-01-11',
                                         '2005-04-02',
                                         '2004-09-26',
                                         '2004-09-01',
                                         '2005-02-02'), 
                                       format='%Y-%m-%d'),
                 exit_date = as.Date(c('2004-08-26',
                                       '2005-04-10',
                                       '2005-06-15',
                                       '2004-11-02',
                                       '2005-01-10',
                                       '2005-03-01',
                                       '2005-06-15',
                                       '2005-05-30',
                                       NA,
                                       '2005-06-15'), 
                                     format='%Y-%m-%d'))
moves &lt;- moves_calc(df)
moves
moves &lt;- moves_calc(df, enrollby='2004-10-15', gap=22)
moves
moves &lt;- moves_calc(df, enrollby='2004-10-15', exitby='2005-05-29')
moves

## End(Not run)

</code></pre>


</div>