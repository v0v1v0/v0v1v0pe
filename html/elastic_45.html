<div class="container">

<table style="width: 100%;"><tr>
<td>docs_mget</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get multiple documents via the multiple get API</h2>

<h3>Description</h3>

<p>Get multiple documents via the multiple get API
</p>


<h3>Usage</h3>

<pre><code class="language-R">docs_mget(
  conn,
  index = NULL,
  type = NULL,
  ids = NULL,
  type_id = NULL,
  index_type_id = NULL,
  source = NULL,
  fields = NULL,
  raw = FALSE,
  callopts = list(),
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>conn</code></td>
<td>
<p>an Elasticsearch connection object, see <code>connect()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>Index. Required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Document type. Required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ids</code></td>
<td>
<p>More than one document id, see examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type_id</code></td>
<td>
<p>List of vectors of length 2, each with an element for
type and id.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index_type_id</code></td>
<td>
<p>List of vectors of length 3, each with an element for
index, type, and id.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>(logical) If <code>TRUE</code>, return source.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>
<p>Fields to return from the response object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw</code></td>
<td>
<p>If TRUE (default), data is parsed to list. If FALSE, then raw JSON.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>callopts</code></td>
<td>
<p>Curl args passed on to <code>HttpClient</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If TRUE (default) the url call used printed to console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further args passed on to elastic search HTTP API as parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>You can pass in one of three combinations of parameters:
</p>

<ul>
<li>
<p> Pass in something for <code>index</code>, <code>type</code>, and <code>id</code>.
This is the simplest, allowing retrieval from the same index, same type,
and many ids.
</p>
</li>
<li>
<p> Pass in only <code>index</code> and <code>type_id</code> - this allows you to
get multiple documents from the same index, but from different types.
</p>
</li>
<li>
<p> Pass in only <code>index_type_id</code> - this is so that you can get
multiple documents from different indexes and different types.
</p>
</li>
</ul>
<h3>References</h3>

<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-get.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-get.html</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
(x &lt;- connect())

if (!index_exists(x, 'plos')) {
  plosdat &lt;- system.file("examples", "plos_data.json",
    package = "elastic")
  plosdat &lt;- type_remover(plosdat)
  invisible(docs_bulk(x, plosdat))
}

# same index, many ids
docs_mget(x, index="plos", ids=c(9,10))

# Same index and type
docs_mget(x, index="plos", type="_doc", ids=c(9,10))

tmp &lt;- docs_mget(x, index="plos", ids=c(9, 10), raw=TRUE)
es_parse(tmp)
docs_mget(x, index="plos", ids=c(9, 10), source='title')
docs_mget(x, index="plos", ids=c(14, 19), source=TRUE)

# curl options
docs_mget(x, index="plos", ids=1:2, callopts=list(verbose=TRUE))

# Same index, but different types
if (index_exists(x, 'shakespeare')) index_delete(x, 'shakespeare')
shakedat &lt;- system.file("examples", "shakespeare_data.json",
  package = "elastic")
invisible(docs_bulk(x, shakedat))

docs_mget(x, index="shakespeare", type_id=list(c("scene",1), c("line",20)))
docs_mget(x, index="shakespeare", type_id=list(c("scene",1), c("line",20)),
  source='play_name')

# Different indices and different types pass in separately
docs_mget(x, index_type_id = list(
  c("shakespeare", "line", 20),
  c("plos", "article", 1)
 )
)

## End(Not run)
</code></pre>


</div>