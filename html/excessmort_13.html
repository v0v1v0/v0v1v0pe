<div class="container">

<table style="width: 100%;"><tr>
<td>expected_diagnostic</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnostic Plots for Model Fit</h2>

<h3>Description</h3>

<p>Check mean model fit via diagnostic figures of the model components
</p>


<h3>Usage</h3>

<pre><code class="language-R">expected_diagnostic(
  expected,
  start = NULL,
  end = NULL,
  color = "#D22B2B",
  alpha = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expected</code></td>
<td>
<p>The output from 'compute_expected' with 'keep.components = TRUE'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>First day to show</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>Last day to show</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>Color for the expected curve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>alpha blending for points</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with six ggplot objects: 
'population' is a time series plot of the population.
'seasonal' is a plot showing the estimated seasonal effect.
'trend' is a time series plot showing the estimated trend.
'weekday' is a plot of the estimated weekday effects if they were estimated.
'expected'is a time series plot of the expected values.
'residual' is a time series plot of the residuals.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(dplyr)
library(lubridate)
library(ggplot2)

flu_season &lt;- seq(make_date(2017, 12, 16), make_date(2018, 1, 16), by = "day")

exclude_dates &lt;- c(flu_season, seq(make_date(2020, 1, 1), today(), by = "day"))

res  &lt;- cdc_state_counts %&gt;%
 filter(state == "Massachusetts") %&gt;%
 compute_expected(exclude = exclude_dates,
                  keep.components = TRUE)
                  
p &lt;- expected_diagnostic(expected = res, alpha = 0.50)

p$population
p$seasonal
p$trend
p$expected
p$residual
</code></pre>


</div>