<div class="container">

<table style="width: 100%;"><tr>
<td>fs_loop</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Runs the epitweetr embedded database loop</h2>

<h3>Description</h3>

<p>Infinite loop ensuring that the epitweetr embedded database is running (Lucene + akka-http)
</p>


<h3>Usage</h3>

<pre><code class="language-R">fs_loop(data_dir = NA)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>data_dir</code></td>
<td>
<p>Path to the 'data directory' containing application settings, models and collected tweets.
If not provided, the system will try to reuse the existing one from last session call of <code>setup_config</code> or use the EPI_HOME environment variable, default: NA</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Launches the epitweetr embedded database which is accessed via a REST API located on <a href="http://localhost:8080">http://localhost:8080</a>. You can test that the database is running by accessing <a href="http://localhost:8080/ping">http://localhost:8080/ping</a>
the REST API provide epitweetr a way to send and retrieve data related with tweets and time series and to trigger geolocation or aggregation
The database is implemented using Apache Lucene indexes allowing epitweetr to access its data as a search engine but also as a tabular database.
<code>health_check</code> called each 60 seconds on a background process to send alerts to the administrator if some epitweetr components fail.
</p>


<h3>Value</h3>

<p>nothing
</p>


<h3>See Also</h3>

<p><code>detect_loop</code>
</p>
<p><code>search_loop</code>
</p>
<p><code>health_check</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(FALSE){
   #Running the detect loop
   library(epitweetr)
   message('Please choose the epitweetr data directory')
   setup_config(file.choose())
   fs_loop()
}
</code></pre>


</div>