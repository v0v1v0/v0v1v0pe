<div class="container">

<table style="width: 100%;"><tr>
<td>ebv_analyse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get a simple explorative analysis of an EBV netCDF datacube</h2>

<h3>Description</h3>

<p>Get basic measurements of the data, including min, max, mean,
sd, n, #NAs, q25, q50, q75 (no mean for categorical data).
</p>


<h3>Usage</h3>

<pre><code class="language-R">ebv_analyse(
  filepath,
  datacubepath = NULL,
  entity = NULL,
  timestep = 1,
  subset = NULL,
  touches = TRUE,
  epsg = 4326,
  scenario = NULL,
  metric = NULL,
  numerical = TRUE,
  na_rm = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filepath</code></td>
<td>
<p>Character. Path to the netCDF file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datacubepath</code></td>
<td>
<p>Character. Optional. Default: NULL. Path to the datacube
(use <code>ebv_datacubepaths()</code>). Alternatively, you can use the
scenario and metric argument to define which cube you want to access.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>entity</code></td>
<td>
<p>Character or Integer. Default is NULL. If the structure is 3D,
the entity argument is set to NULL. Else, a character string or single
integer value must indicate the entity of the 4D structure of the EBV
netCDFs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestep</code></td>
<td>
<p>Integer or character. Select one or several timestep(s).
Either provide an integer value or list of values that refer(s) to the
index of the timestep(s) (minimum value: 1) or provide a date or list of
dates in ISO format, such as '2015-01-01'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>Optional if you want measurements on a smaller subset. Possible
via the path to a shapefile (character) or the indication of a bounding box
(vector of four numeric values) defining the subset. Else the whole area is
analysed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>touches</code></td>
<td>
<p>Logical. Optional. Default: TRUE. Only relevant if the subset
is indicated by a shapefile. See <code>ebv_read_shp()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsg</code></td>
<td>
<p>Numeric. Optional. Only relevant if the subset is indicated by a
bounding box and the coordinate reference system differs from WGS84. See
<code>ebv_read_bb()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scenario</code></td>
<td>
<p>Character or integer. Optional. Default: NULL. Define the
scenario you want to access. If the EBV netCDF has no scenarios, leave the
default value (NULL). You can use an integer value defining the scenario or
give the name of the scenario as a character string. To check the available
scenarios and their name or number (integer), use
<code>ebv_datacubepaths()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>Character or integer. Optional. Define the metric you want to
access. You can use an integer value defining the metric or give the name
of the scenario as a character string. To check the available metrics and
their name or number (integer), use <code>ebv_datacubepaths()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numerical</code></td>
<td>
<p>Logical. Default: TRUE. Change to FALSE if the data covered
by the netCDF contains categorical data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_rm</code></td>
<td>
<p>Logical. Default: TRUE. NA values are removed in the analysis.
Change to FALSE to include NAs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. Default: TRUE. Turn off additional prints by setting
it to FALSE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a named list containing the measurements.
</p>


<h3>See Also</h3>

<p><code>ebv_read_bb()</code> and <code>ebv_read_shp()</code> for the usage
of subsets.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#set path to EBV netCDF
file &lt;- system.file(file.path("extdata","martins_comcom_subset.nc"), package="ebvcube")
#get all datacubepaths of EBV netCDF
datacubes &lt;- ebv_datacubepaths(file, verbose=FALSE)
#set path to shp file
shp_path &lt;- system.file(file.path("extdata","cameroon.shp"), package="ebvcube")


#get measurements for full extent and the first three timesteps
data_global &lt;- ebv_analyse(filepath = file, datacubepath = datacubes[1,1],
                           entity = 1, timestep = 1:3, verbose = FALSE)

#get measurements for subset of Africa only (using bounding box) and one timestep
data_1910 &lt;- ebv_analyse(filepath = file, datacubepath = datacubes[1,1],
                         entity = 1, timestep = "1900-01-01",
                         subset = c(-26, 64, 30, 38), verbose = FALSE)

#get measurements for cameroon only (using shp) and one timestep
data_1930 &lt;- ebv_analyse(filepath = file, entity = 1,
                         timestep = "1930-01-01",
                         subset = shp_path, verbose = FALSE,
                         metric = 'Absolute change in the number of species',)

</code></pre>


</div>