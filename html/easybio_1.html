<div class="container">

<table style="width: 100%;"><tr>
<td>Artist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualization Artist for Custom Plots</h2>

<h3>Description</h3>

<p>The <code>Artist</code> class offers a suite of methods designed to create a variety of plots using <code>ggplot2</code> for
data exploration. Any methods prefixed with <code>plot_</code> or <code>test_</code> will log the command history along with
their results, allowing you to review all outcomes later via the <code>get_all_results()</code> method.
Notably, methods starting with <code>plot_</code> will check if the result of the preceding command is of the
<code>htest</code> class. If so, it will incorporate the previous command and its p-value as the title and subtitle,
respectively. This class encompasses methods for crafting dumbbell plots, bubble plots, divergence bar charts,
lollipop plots, contour plots, scatter plots with ellipses, donut plots, and pie charts.
Each method is tailored to map data to specific visual aesthetics and to apply additional customizations as needed.
</p>


<h3>Value</h3>

<p>The <code>R6</code> class Artist.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>data</code></dt>
<dd>
<p>Stores the dataset used for plotting.</p>
</dd>
<dt><code>command</code></dt>
<dd>
<p>recode the command.</p>
</dd>
<dt><code>result</code></dt>
<dd>
<p>record the plot.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Artist-new"><code>Artist$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-get_all_result"><code>Artist$get_all_result()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-test_wilcox"><code>Artist$test_wilcox()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-test_t"><code>Artist$test_t()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-plot_scatter"><code>Artist$plot_scatter()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-plot_box"><code>Artist$plot_box()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-dumbbbell"><code>Artist$dumbbbell()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-bubble"><code>Artist$bubble()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-barchart_divergence"><code>Artist$barchart_divergence()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-lollipop"><code>Artist$lollipop()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-contour"><code>Artist$contour()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-scatter_ellipses"><code>Artist$scatter_ellipses()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-donut"><code>Artist$donut()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-pie"><code>Artist$pie()</code></a>
</p>
</li>
<li> <p><a href="#method-Artist-clone"><code>Artist$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Artist-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initializes the Artist class with an optional dataset.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$new(data = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame  containing the dataset to be used for plotting. Default is <code>NULL</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>An instance of the Artist class.
</p>


<hr>
<a id="method-Artist-get_all_result"></a>



<h4>Method <code>get_all_result()</code>
</h4>

<p>Get all history result
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$get_all_result()</pre></div>



<h5>Returns</h5>

<p>a data.table object
</p>


<hr>
<a id="method-Artist-test_wilcox"></a>



<h4>Method <code>test_wilcox()</code>
</h4>

<p>Conduct wilcox.test
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$test_wilcox(formula, data = self$data, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>formula</code></dt>
<dd>
<p><code>wilcox.test()</code> formula arguments</p>
</dd>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted. Default is <code>self$data</code>.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings passed to <code>wilcox.test()</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot2 scatter plot.
</p>


<hr>
<a id="method-Artist-test_t"></a>



<h4>Method <code>test_t()</code>
</h4>

<p>Conduct wilcox.test
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$test_t(formula, data = self$data, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>formula</code></dt>
<dd>
<p><code>t.test()</code> formula arguments</p>
</dd>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted. Default is <code>self$data</code>.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings passed to <code>t.test()</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot2 scatter plot.
</p>


<hr>
<a id="method-Artist-plot_scatter"></a>



<h4>Method <code>plot_scatter()</code>
</h4>

<p>Creates a scatter plot.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$plot_scatter(
  data = self$data,
  fun = function(x) x,
  x,
  y,
  ...,
  add = private$is_htest()
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted. Default is <code>self$data</code>.</p>
</dd>
<dt><code>fun</code></dt>
<dd>
<p>function to process the <code>self$data</code>.</p>
</dd>
<dt><code>x</code></dt>
<dd>
<p>The column name for the x-axis.</p>
</dd>
<dt><code>y</code></dt>
<dd>
<p>The column name for the y-axis.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings passed to <code>aes()</code>.</p>
</dd>
<dt><code>add</code></dt>
<dd>
<p>whether to add the test result.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot2 scatter plot.
</p>


<hr>
<a id="method-Artist-plot_box"></a>



<h4>Method <code>plot_box()</code>
</h4>

<p>Creates a box plot.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$plot_box(
  data = self$data,
  fun = function(x) x,
  x,
  ...,
  add = private$is_htest()
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame or tibble containing the data to be plotted. Default is <code>self$data</code>.</p>
</dd>
<dt><code>fun</code></dt>
<dd>
<p>function to process the <code>self$data</code>.</p>
</dd>
<dt><code>x</code></dt>
<dd>
<p>The column name for the x-axis.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings passed to <code>aes()</code>.</p>
</dd>
<dt><code>add</code></dt>
<dd>
<p>whether to add the test result.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot2 box plot.
</p>


<hr>
<a id="method-Artist-dumbbbell"></a>



<h4>Method <code>dumbbbell()</code>
</h4>

<p>Create a dumbbell plot
</p>
<p>This method generates a dumbbell plot using the provided data, mapping the specified columns
to the x-axis, y-axis, and color aesthetic.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$dumbbbell(data = self$data, x, y, col, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted.</p>
</dd>
<dt><code>x</code></dt>
<dd>
<p>The column in <code>data</code> to map to the x-axis.</p>
</dd>
<dt><code>y</code></dt>
<dd>
<p>The column in <code>data</code> to map to the y-axis.</p>
</dd>
<dt><code>col</code></dt>
<dd>
<p>The column in <code>data</code> to map to the color aesthetic.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings or other arguments passed to <code>ggplot</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot object representing the dumbbell plot.
</p>


<hr>
<a id="method-Artist-bubble"></a>



<h4>Method <code>bubble()</code>
</h4>

<p>Create a bubble plot
</p>
<p>This method generates a bubble plot where points are mapped to the x and y axes, with their
size and color representing additional variables.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$bubble(data = self$data, x, y, size, col, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted.</p>
</dd>
<dt><code>x</code></dt>
<dd>
<p>The column in <code>data</code> to map to the x-axis.</p>
</dd>
<dt><code>y</code></dt>
<dd>
<p>The column in <code>data</code> to map to the y-axis.</p>
</dd>
<dt><code>size</code></dt>
<dd>
<p>The column in <code>data</code> to map to the size of the points.</p>
</dd>
<dt><code>col</code></dt>
<dd>
<p>The column in <code>data</code> to map to the color of the points.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings or other arguments passed to <code>ggplot</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot object representing the bubble plot.
</p>


<hr>
<a id="method-Artist-barchart_divergence"></a>



<h4>Method <code>barchart_divergence()</code>
</h4>

<p>Create a divergence bar chart
</p>
<p>This method generates a divergence bar chart where bars are colored based on their
positive or negative value.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$barchart_divergence(data = self$data, group, y, fill, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted.</p>
</dd>
<dt><code>group</code></dt>
<dd>
<p>The column in <code>data</code> representing the grouping variable.</p>
</dd>
<dt><code>y</code></dt>
<dd>
<p>The column in <code>data</code> to map to the y-axis.</p>
</dd>
<dt><code>fill</code></dt>
<dd>
<p>The column in <code>data</code> to map to the fill color of the bars.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings or other arguments passed to <code>ggplot</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot object representing the divergence bar chart.
</p>


<hr>
<a id="method-Artist-lollipop"></a>



<h4>Method <code>lollipop()</code>
</h4>

<p>Create a lollipop plot
</p>
<p>This method generates a lollipop plot, where points are connected to a baseline by vertical
segments, with customizable colors and labels.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$lollipop(data = self$data, x, y, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted.</p>
</dd>
<dt><code>x</code></dt>
<dd>
<p>The column in <code>data</code> to map to the x-axis.</p>
</dd>
<dt><code>y</code></dt>
<dd>
<p>The column in <code>data</code> to map to the y-axis.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings or other arguments passed to <code>ggplot</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot object representing the lollipop plot.
</p>


<hr>
<a id="method-Artist-contour"></a>



<h4>Method <code>contour()</code>
</h4>

<p>Create a contour plot
</p>
<p>This method generates a contour plot that includes filled and outlined density contours,
with data points overlaid.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$contour(data = self$data, x, y, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted.</p>
</dd>
<dt><code>x</code></dt>
<dd>
<p>The column in <code>data</code> to map to the x-axis.</p>
</dd>
<dt><code>y</code></dt>
<dd>
<p>The column in <code>data</code> to map to the y-axis.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings or other arguments passed to <code>ggplot</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot object representing the contour plot.
</p>


<hr>
<a id="method-Artist-scatter_ellipses"></a>



<h4>Method <code>scatter_ellipses()</code>
</h4>

<p>Create a scatter plot with ellipses
</p>
<p>This method generates a scatter plot where data points are colored by group, with ellipses
representing the confidence intervals for each group.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$scatter_ellipses(data = self$data, x, y, col, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted.</p>
</dd>
<dt><code>x</code></dt>
<dd>
<p>The column in <code>data</code> to map to the x-axis.</p>
</dd>
<dt><code>y</code></dt>
<dd>
<p>The column in <code>data</code> to map to the y-axis.</p>
</dd>
<dt><code>col</code></dt>
<dd>
<p>The column in <code>data</code> to map to the color aesthetic.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings or other arguments passed to <code>ggplot</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot object representing the scatter plot with ellipses.
</p>


<hr>
<a id="method-Artist-donut"></a>



<h4>Method <code>donut()</code>
</h4>

<p>Create a donut plot
</p>
<p>This method generates a donut plot, which is a variation of a pie chart with a hole in the center.
The sections of the donut represent the proportion of categories in the data.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$donut(data = self$data, x, y, fill, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted.</p>
</dd>
<dt><code>x</code></dt>
<dd>
<p>The column in <code>data</code> to map to the x-axis.</p>
</dd>
<dt><code>y</code></dt>
<dd>
<p>The column in <code>data</code> to map to the y-axis.</p>
</dd>
<dt><code>fill</code></dt>
<dd>
<p>The column in <code>data</code> to map to the fill color of the sections.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings or other arguments passed to <code>ggplot</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot object representing the donut plot.
</p>


<hr>
<a id="method-Artist-pie"></a>



<h4>Method <code>pie()</code>
</h4>

<p>Create a pie chart
</p>
<p>This method generates a pie chart where sections represent the proportion of categories in the data.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$pie(data = self$data, y, fill, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing the data to be plotted.</p>
</dd>
<dt><code>y</code></dt>
<dd>
<p>The column in <code>data</code> to map to the y-axis.</p>
</dd>
<dt><code>fill</code></dt>
<dd>
<p>The column in <code>data</code> to map to the fill color of the sections.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional aesthetic mappings or other arguments passed to <code>ggplot</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A ggplot object representing the pie chart.
</p>


<hr>
<a id="method-Artist-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Artist$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">library(data.table)
air &lt;- subset(airquality, Month %in% c(5, 6))
setDT(air)
cying &lt;- Artist$new(data = air)
cying$plot_scatter(x = Wind, y = Temp)
cying$test_wilcox(
  formula = Ozone ~ Month,
)
cying$plot_scatter(x = Wind, y = Temp)
cying$plot_scatter(f = \(x) x[, z := Wind * Temp], x = Wind, y = z)

</code></pre>


</div>