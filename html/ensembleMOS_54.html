<div class="container">

<table style="width: 100%;"><tr>
<td>fitMOSlognormal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Log-normal EMOS model fit to a training set
</h2>

<h3>Description</h3>

<p>Fits a log-normal EMOS model to a given training set.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fitMOSlognormal(ensembleData, control = controlMOSlognormal(),
                exchangeable = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ensembleData</code></td>
<td>

<p>An <code>ensembleData</code> object including ensemble forecasts and
verification observations.
Missing values (indicated by <code>NA</code>) are allowed. Dates are ignored
if they are included.  This is the training set for the model.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>

<p>A list of control values for the fitting functions specified via the
function  controlMOSlognormal. For details
and default values, see controlMOSlognormal.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exchangeable</code></td>
<td>

<p>An optional numeric or character vector or factor indicating groups of
ensemble members that are exchangeable (indistinguishable).
The models have equal EMOS coefficients within each group.
If supplied, this argument will override any specification of
exchangeability in <code>ensembleData</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Given an ensemble of size <code class="reqn">m</code>: <code class="reqn">X_1, \ldots , X_m</code>,  the
following log-normal model is fit by <code>ensembleMOSlognormal</code>: 
</p>
<p style="text-align: center;"><code class="reqn">Y ~ LN(\mu, \sigma)</code>
</p>

<p>where <code class="reqn">LN</code> denotes the log-normal distrbution with <code>meanlog</code> 
parameter <code class="reqn">\mu</code> and <code>scalelog</code> parameter <code class="reqn">\sigma</code>, see
Lognormal. The model is parametrized such that the mean value of 
the log-normal distribution is a linear function <code class="reqn">a + b_1 X_1 + \ldots + b_m X_m</code>
of the ensemble forecats, and the variance is a linear function
<code class="reqn">c + d S^2</code>. For transformations between <code class="reqn">\mu, \sigma</code> and mean
and variance of the log-normal distribution, see Baran and Lerch (2015).
See ensembleMOSlognormal for details.
</p>


<h3>Value</h3>

<p>A list with the following output components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>

<p>The fitted intercept.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>

<p>The fitted EMOS coefficients.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c,d</code></td>
<td>

<p>The fitted parameters for the variance, see details.
</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>S. Baran and S. Lerch, Log-normal distribution based Ensemble Model
Output Statistics models for probabilistic wind-speed forecasting. 
<em>Quarterly Journal of the Royal Meteorological Society</em> 141:2289â€“2299,
2015.
</p>


<h3>See Also</h3>

<p><code>controlMOSlognormal</code>,
<code>ensembleMOSlognormal</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("ensBMAtest", package = "ensembleBMA")

ensMemNames &lt;- c("gfs","cmcg","eta","gasp","jma","ngps","tcwb","ukmo")

obs &lt;- paste("MAXWSP10","obs", sep = ".")
ens &lt;- paste("MAXWSP10", ensMemNames, sep = ".")
windTestData &lt;- ensembleData(forecasts = ensBMAtest[,ens],
                             dates = ensBMAtest[,"vdate"],
                             observations = ensBMAtest[,obs],
                             station = ensBMAtest[,"station"],
                             forecastHour = 48,
                             initializationTime = "00")
                             
windTrain &lt;- trainingData(windTestData, trainingDays = 30,
                          date = "2008010100")

windTestFit &lt;- fitMOSlognormal(windTrain)
</code></pre>


</div>