<div class="container">

<table style="width: 100%;"><tr>
<td>completeness_heatmap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Completeness Heatmap</h2>

<h3>Description</h3>

<p>Produces a heatmap visualising completeness across a dataset.
</p>


<h3>Usage</h3>

<pre><code class="language-R">completeness_heatmap(
  data,
  id_var,
  annotation_tbl = NULL,
  method = 1,
  show_rownames = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame to be analysed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_var</code></td>
<td>
<p>Character constant of row identifier variable name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotation_tbl</code></td>
<td>
<p>Data frame containing variable annotation data. Column
1 should contain variable names, column 2 should contain an annotation
label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Integer between 1 and 3. Default: 1. See Details for more
information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_rownames</code></td>
<td>
<p>Boolean. Should rownames be shown. Default: False.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Parameters to be passed to <code>pheatmap</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

 <ul>
<li>
<p> Method 1: Missing values are numerically encoded with a
highly negative number, numerically distant from all values in <code>data</code>,
using <code>distant_neg_val</code>. Values in categorical variables
are replaced with the number of unique values in the variable. Clustering
uses these values. Cells are coloured by presence (yellow = missing; blue =
present). </p>
</li>
<li>
<p> Method 2: Same as Method 1 but cells are coloured by values
used to cluster. </p>
</li>
<li>
<p> Method 3: Values in <code>data</code> are encoded as Boolean
values for clustering (present values = 1; missing values = 0). Cells are
coloured by presence (yellow = missing; blue = present). </p>
</li>
</ul>
<h3>Value</h3>

<p>completeness heatmap
</p>


<h3>Note</h3>

<p>See examples of how to plot using plot.new(). This is ensure a new plot
is created for the heatmap
</p>


<h3>References</h3>

<p>Kolde R (2019). _pheatmap: Pretty Heatmaps_. R package version 1.0.12,
&lt;https://CRAN.R-project.org/package=pheatmap&gt;.
</p>


<h3>See Also</h3>

<p><code>pheatmap</code>
</p>
<p>Other measures of completeness: 
<code>assess_completeness()</code>,
<code>compare_completeness()</code>,
<code>plot_completeness()</code>,
<code>row_completeness()</code>,
<code>variable_completeness()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(example_data)

# heatmap without variable category annotations:
hm &lt;- completeness_heatmap(example_data,patient_id)
plot.new() # ensure new plot is created
hm


# heatmap with variable category annotations:
## create a dataframe containing variable annotations
tibble::tribble(~"var", ~"datatype",
"patient_id", "id",
"tumoursize", "numeric",
"t_stage", "ordinal_tstage",
"n_stage", "ordinal_nstage",
"diabetes", "factor",
"diabetes_type", "ordinal",
"hypertension", "factor",
"rural_urban", "factor",
"marital_status", "factor",
"SNP_a", "genotype",
"SNP_b", "genotype",
"free_text", "freetext") -&gt; data_types

hm &lt;- completeness_heatmap(example_data,patient_id, annotation_tbl = data_types)
plot.new() # ensure new plot is created
hm
</code></pre>


</div>