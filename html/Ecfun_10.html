<div class="container">

<table style="width: 100%;"><tr>
<td>compareLengths</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compare the lengths of two objects  
</h2>

<h3>Description</h3>

<p>Issue a warning or error if the lengths of two 
objects are not compatible.   
</p>


<h3>Usage</h3>

<pre><code class="language-R">compareLengths(x, y, 
   name.x=deparse(substitute(x), width.cutoff, 
      nlines=1, ...), 
   name.y=deparse(substitute(y), width.cutoff, 
      nlines=1, ...), 
   message0='', compFun=c('NROW', 'length'), 
   action=c(compatible='', incompatible='warning'), 
   length0=c('compatible', 'incompatible', 'stop'), 
   width.cutoff=20, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>

<p>objects whose lengths are to be compared 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name.x, name.y</code></td>
<td>

<p>names of x and y to use in a message.  Default = 
<code>deparse(substitute(.), width.cutoff, nlines=1)</code>.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message0</code></td>
<td>

<p>character string to be included with <code>name.x</code>
and <code>name.y</code> in a message.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compFun</code></td>
<td>

<p>function to use in the comparison.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>action</code></td>
<td>

<p>A character vector of length 2 giving the names 
of functions to call if the lengths are not 
equal but are either 'compatible' or 
'incompatible';  ‚Äù means no action.    
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length0</code></td>
<td>

<p>If <code>length(x)</code> or <code>length(y)</code> = 0 
(but not both), treat 
this case as specified by <code>length0</code>.   
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width.cutoff</code></td>
<td>

<p><code>width.cutoff</code> argument to pass to 
<code>deparse</code>.  This gives the 
maximum number of characters to use in a 
name in error and warning messages.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
 
<p>optional arguments for <code>deparse</code> 
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>1.  If <code>nchar(name.x)</code> = 0 = 
<code>nchar(name.y)</code>, set <code>name.x &lt;- 'x'</code>, 
<code>name.y &lt;- 'y'</code>, and append 
'in <code>compareLengths</code>:' to <code>message0</code> 
for more informative messaging.  
</p>
<p>2.  <code>lenx &lt;- do.call(compFun, list(x))</code>;  
<code>leny &lt;- do.call(compFun, list(y))</code>
</p>
<p>3.  <code>if(lenx==leny)return(c('equal', ''))</code>
</p>
<p>4.  Compatible?  
</p>
<p>5.  Compose the message.  
</p>
<p>6.  "action", as indicated 
</p>


<h3>Value</h3>

<p>A character vector of length 2.  The first 
element is either 'equal', 'compatible' or 
'incompatible'.  The second element is the 
message composed.  
</p>


<h3>Author(s)</h3>

<p>Spencer Graves with help from Duncan Murdoch 
</p>


<h3>See Also</h3>

<p><code>interpChar</code>

</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## 1.  equal 
##

all.equal(compareLengths(1:3, 4:6), c("equal", ''))


##
## 2.  compatible 
##
a &lt;- 1:2
b &lt;- letters[1:6]
comp.ab &lt;- compareLengths(a, b, message0='Chk:')
comp.ba &lt;- compareLengths(b, a, message0='Chk:')
# check 
chk.ab &lt;- c('compatible', 
            'Chk: length(b) = 6 is 3 times length(a) = 2')

all.equal(comp.ab, chk.ab) 


all.equal(comp.ba, chk.ab) 


##
## 3.  incompatible 
##
Z &lt;- LETTERS[1:3]
comp.aZ &lt;- compareLengths(a, Z)
# check 
chk.aZ &lt;- c('incompatible', 
    ' length(Z) = 3 is not a multiple of length(a) = 2')

all.equal(comp.aZ, chk.aZ) 

##
## 4.  problems with name.x and name.y 
##
comp.ab2 &lt;- compareLengths(a, b, '', '')
# check 
chk.ab2 &lt;- c('compatible', 
             'in compareLengths: length(y) = 6 is 3 times length(x) = 2')

all.equal(comp.ab2, chk.ab2) 

##
## 5.  zeroLength 
##
zeroLen &lt;- compareLengths(logical(0), 1) 
# check 
zeroL &lt;- c('compatible', ' length(logical(0)) = 0')

all.equal(zeroLen, zeroL)

</code></pre>


</div>