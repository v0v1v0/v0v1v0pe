<div class="container">

<table style="width: 100%;"><tr>
<td>plot_preferences</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot the resource preferences of a consumer</h2>

<h3>Description</h3>

<p>Takes a 'nullnet' object from running a null model with
<code>generate_null_net</code> and plots the observed and expected link
strengths for every resource for a selected consumer species (node in
the network).  There are two styles of plot: the default is a dot plot
based on <code>dotchart</code>, whilst the alternative is a
bar plot based on <code>barplot</code>.  There are arguments in
<code>plot_preferences</code> to set some of the graphical parameters, but see
the respective help files for <code>dotchart</code> and
<code>barplot</code> for further options to customise the plots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_preferences(
  nullnet,
  node,
  signif.level = 0.95,
  style = "dots",
  type = "counts",
  res.col = c("#67A9CF", "#F7F7F7", "#EF8A62"),
  res.order = NULL,
  l.cex = 1,
  p.cex = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nullnet</code></td>
<td>
<p>An object of class nullnet from <code>generate_null_net</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>node</code></td>
<td>
<p>A string specifying the consumer node (species) whose
preferences will be plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>signif.level</code></td>
<td>
<p>An optional value specifying the threshold used for
testing for 'significant' deviations from the null model.  Defaults to 0.95</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>An optional string to set whether a dotchart or bar chart is
plotted. The default (<code>style = "dots"</code>) is a Cleveland dot plot,
whilst the alternative (<code>style = "bars"</code>) is a bar chart of the type
used by King <em>et al.</em> (2010) and Davey <em>et al.</em> (2013).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Optional string to specify how preferences are displayed. The
default (<code>type = "counts"</code>) is the total number of interactions or
mean interaction strength, depending upon which one was requested in the
original call to <code>generate_null_net</code> using the
<code>summary.type</code> argument.  The alternative is the standardised effect
size (<code>type = "SES"</code>).  With <code>type = "counts"</code>,
confidence limits will be drawn, whilst for the standardised effect
size, dashed lines are added at +2 and -2, which is approximately equivalent
to a 5% significance level: fill colours for <code>type = "SES"</code> are
based on the estimated confidence limits, rather than the +2/-2 thresholds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res.col</code></td>
<td>
<p>An optional character vector of length three specifying
the colours with which to fill the dots or bars representing interactions
that are weaker than expected, consistent with the null model and stronger
than expected (in that order). The default is a red-blue colour scheme.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res.order</code></td>
<td>
<p>An optional data frame used to set the order in which the
resource species are plotted.  Should have two columns: the first listing
the resource species (names must be identical to those used by
<code>generate_null_net</code>) and the second the plotting order (bars will be
plotted in ascending order)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l.cex</code></td>
<td>
<p>An optional numeric value to set the size of the labels when
using <code>style = "dots"</code>. Ignored when <code>style = "bars"</code>, as
<code>barplot</code>'s <code>cex.names</code> argument can be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.cex</code></td>
<td>
<p>An optional numeric value to set the size of the points when
when using <code>style = "dots"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to control basic plotting functions in R, such as
<code>lwd</code>, <code>xlab</code>, <code>ylab</code>, <code>main</code>, <code>xlim</code> and
<code>ylim</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Plots the preferences for individual consumer species. The bar plot
format follows the basic style of King <em>et al</em>. (2010; Figure 3) and
Davey <em>et al.</em> (2013; Figure 3).
</p>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>References</h3>

<p>Brewer, C.A. (2017) <a href="https://colorbrewer2.org/">https://colorbrewer2.org/</a>
</p>
<p>Davey, J.S., Vaughan, I.P., King, R.A., Bell, J.R., Bohan, D.A., Bruford,
M.W., Holland, J.M. &amp; Symondson, W.O.C. (2013) Intraguild predation in
winter wheat: prey choice by a common epigeal carabid consuming spiders.
<em>Journal of Applied Ecology</em>, <strong>50</strong>, 271–279.
</p>
<p>King, R.A, Vaughan, I.P., Bell, J.R., Bohan, D.A, &amp; Symondson, W.O.C.
(2010) Prey choice by carabid beetles feeding on an earthworm community
analysed using species- and lineage-specific PCR primers. <em>Molecular
Ecology</em>, <strong>19</strong>, 1721–1732.
</p>
<p>Vaughan, I.P., Gotelli, N.J., Memmott, J., Pearson, C.E., Woodward, G. &amp;
Symondson, W.O.C. (2018) econullnetr: an R package using null models to
analyse the structure of ecological networks and identify resource
selection. <em>Methods in Ecology and Evolution</em>, <strong>9</strong>, 728–733.
</p>


<h3>See Also</h3>

<p><code>generate_null_net</code>, <code>plot_bipartite</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">null.1 &lt;- generate_null_net(WelshStreams[, 2:18], WelshStreams.prey[, 2:17],
                            sims = 10, c.samples = WelshStreams[, 1],
                            r.samples = WelshStreams.prey[, 1])

# Basic plots, showing the dot and bar plot styles. Increased lower margin
#   on the bar plot so that names fit
plot_preferences(null.1, "Dinocras", signif.level = 0.95, type = "counts",
                 xlab = "Num. of visits", p.cex = 1.2, lwd = 2)

op &lt;- par(mar = c(9, 4, 4, 2) + 0.1)
plot_preferences(null.1, "Dinocras", style = "bars", signif.level = 0.95,
                 type = "counts", ylab = "Num. of visits")
par(op)

# Same results, this time showing the standardised effect sizes
plot_preferences(null.1, "Rhyacophila", signif.level = 0.95,
                 type = "SES", xlab = "SES")

op &lt;- par(mar = c(9, 4, 4, 2) + 0.1)
plot_preferences(null.1, "Rhyacophila", signif.level = 0.95, style = "bars",
                 type = "SES", ylab = "SES")
par(op)

</code></pre>


</div>