<div class="container">

<table style="width: 100%;"><tr>
<td>lag_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a lag</h2>

<h3>Description</h3>

<p>Lag variables by an arbitrary number of periods even if the data is grouped
</p>


<h3>Usage</h3>

<pre><code class="language-R">lag_data(df, group, time, periods, values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A dataframe with groups, time periods, and a variable to be lagged</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>The grouping factor in the dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>The variable representing time periods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>periods</code></td>
<td>
<p>A scalar for the number of periods to be lagged in the data. Can 
be negative to indicate leading variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>The names of the variables to be lagged</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dataframe with a newly created variable lagged
</p>


<h3>Examples</h3>

<pre><code class="language-R">
test_data &lt;- expand.grid(id = sample(letters, 10), 
                        time = 1:10)
test_data$value1 &lt;- rnorm(100)
test_data$value2 &lt;- runif(100)
test_data$value3 &lt;- rpois(100, 4)
group &lt;- "id"
time &lt;- "time"
values &lt;- c("value1", "value2")
vars &lt;- c(group, time, values)
periods &lt;- 2
newdat &lt;- lag_data(test_data, group="id", time="time", 
                 values=c("value1", "value2"), periods=3)
</code></pre>


</div>