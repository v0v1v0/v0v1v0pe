<div class="container">

<table style="width: 100%;"><tr>
<td>convert_BPFCollection</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a Bas Partitur File Collection (audio and BAS Partitur files) to an emuDB</h2>

<h3>Description</h3>

<p>Converts a Bas Partitur File Collection to an emuDB. Expects a collection of the following form:
One master directory &lt;sourceDir&gt; containing any number of file pairs (= bundles). A file pair 
consists of an audio file with the extension &lt;audioExt&gt; and a BPF file with the extension &lt;bpfExt&gt;. 
Apart from extensions, the names of corresponding audio and BPF files must be identical. Each BPF 
file is converted into an emuDB annot file. An emuDB config file matching the data base is created 
after parsing.
</p>


<h3>Usage</h3>

<pre><code class="language-R">convert_BPFCollection(
  sourceDir,
  targetDir,
  dbName,
  bpfExt = "par",
  audioExt = "wav",
  extractLevels = NULL,
  refLevel = NULL,
  newLevels = NULL,
  newLevelClasses = NULL,
  segmentToEventLevels = NULL,
  unifyLevels = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sourceDir</code></td>
<td>
<p>path to the directory containing the Bas Partitur File collection</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetDir</code></td>
<td>
<p>directory where the new emuDB should be saved; if it does not exist, 
the function tries to create one</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbName</code></td>
<td>
<p>name given to the new emuDB</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bpfExt</code></td>
<td>
<p>extension of BPF files (default = "par")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>audioExt</code></td>
<td>
<p>extension of audio files (default = "wav")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extractLevels</code></td>
<td>
<p>optional vector containing the names of levels that should be extracted. 
If NULL (the default) all levels found in the BPF collection are extracted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refLevel</code></td>
<td>
<p>optional name of level used as reference for symbolic links. If NULL (the default), a link-less data base is created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newLevels</code></td>
<td>
<p>optional vector containing names of levels in the BPF collection that are not part of the standard 
BPF levels. See <a href="http://www.bas.uni-muenchen.de/forschung/Bas/BasFormatseng.html#Partitur_tiersdef">http://www.bas.uni-muenchen.de/forschung/Bas/BasFormatseng.html#Partitur_tiersdef</a> for details on 
standard BPF levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newLevelClasses</code></td>
<td>
<p>optional vector containing the classes of levels in the newLevels vector as integers. 
Must have the same length and order as newLevels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segmentToEventLevels</code></td>
<td>
<p>optional vector containing names of segment levels with overlapping segments. 
The parser treats segments on these levels as events (SEGMENT xyz becomes EVENT xyz_start and EVENT xyz_end). 
If a level contains segmental overlap but is not in this vector, the parser will throw an error. If overlap 
resolution leads to event overlap (e.g. if one segment's end coincides with the next segment's start), an error is thrown either way. If in doubt whether a level contains segmental overlap, try running the converter with segmentToEventLevels = NULL and see whether an error occurs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unifyLevels</code></td>
<td>
<p>optional vector containing names of levels to be unified with the reference level. This means that 
they are treated as labels of the reference level rather than independent items. At the moment, only purely symbolic 
(class 1) levels can be unified. Links between the reference level and levels in unifyLevels must be one-to-one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>display infos, warnings and show progress bar</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>convert_TextGridCollection, convert_legacyEmuDB
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

##################################
# prerequisite: a dir with equally named file pairs *.wav and *.par
# (see ?create_emuRdemoData on how to create a demo)

# convert file pairs *.wav and *.par in /tmp/BPF_collection into emuRDB 'NewEmuR' in 
# dir /tmp/DirNewEmuR; the tier 'ORT' acts as the (word) reference tier; the 
# tier 'KAN' is one-to-one bound to 'ORT' as a label
convert_BPFCollection("/tmp/BPF_collection","/tmp/DirNewEmuR",'NewEmuR',
        bpfExt='par',audioExt='wav',refLevel='ORT',unifyLevels=c('KAN'))


## End(Not run)

</code></pre>


</div>