<div class="container">

<table style="width: 100%;"><tr>
<td>create_epidata_call</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>An abstraction that holds information needed to make an epidata request</h2>

<h3>Description</h3>

<p><code>epidata_call</code> objects are generated internally by endpoint functions like
<code>pub_covidcast</code>; by default, they are piped directly into the <code>fetch</code>
function to fetch and format the data. For most endpoints this will return
a tibble, but a few non-COVIDCAST endpoints will return a JSON-like list
instead.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_epidata_call(
  endpoint,
  params,
  meta = NULL,
  only_supports_classic = FALSE
)

fetch(epidata_call, fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>endpoint</code></td>
<td>
<p>the epidata endpoint to call</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>the parameters to pass to the epidata endpoint</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meta</code></td>
<td>
<p>meta data to attach to the epidata call</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>only_supports_classic</code></td>
<td>
<p>if true only classic format is supported</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epidata_call</code></td>
<td>
<p>an instance of <code>epidata_call</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fetch_args</code></td>
<td>
<p>a <code>fetch_args</code> object</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>create_epidata_call</code> is the constructor for <code>epidata_call</code> objects, but you
should not need to use it directly; instead, use an endpoint function,
e.g., <code>pub_covidcast</code>, to generate an <code>epidata_call</code> for the data of
interest.
</p>
<p>There are some other functions available for debugging and advanced usage: -
<code>request_url</code> (for debugging):  outputs the request URL from which data
would be fetched (note additional parameters below)
</p>
<p><code>fetch</code> usually returns the data in tibble format, but a few of the
endpoints only support the JSON classic format (<code>pub_delphi</code>,
<code>pvt_meta_norostat</code>, and <code>pub_meta</code>). In that case a
JSON-like nested list structure is returned instead.
</p>


<h3>Value</h3>


<ul><li>
<p> For <code>create_epidata_call</code>: an <code>epidata_call</code> object
</p>
</li></ul>
<ul><li>
<p> For <code>fetch</code>: a tibble or a JSON-like list
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
call &lt;- pub_covidcast(
  source = "jhu-csse",
  signals = "confirmed_7dav_incidence_prop",
  time_type = "day",
  geo_type = "state",
  time_values = epirange(20200601, 20200801),
  geo_values = c("ca", "fl"),
  fetch_args = fetch_args_list(dry_run = TRUE)
)
call %&gt;% fetch()

## End(Not run)

</code></pre>


</div>