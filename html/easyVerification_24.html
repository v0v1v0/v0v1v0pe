<div class="container">

<table style="width: 100%;"><tr>
<td>generateRef</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate Probabilistic Climatological Ensemble Forecast from
Observations</h2>

<h3>Description</h3>

<p>To generate reference ensemble forecasts for forecast evaluation
based on the available observations, <code>indRef</code> implements the
out-of-sample or in-sample protocol to be used and <code>generateRef</code>
produces the corresponding ensemble forecast given the actual observations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">indRef(
  nfcst,
  type = c("none", "forward", "crossval", "block"),
  indices = 1:nfcst,
  blocklength = 1
)

generateRef(obs, ind)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nfcst</code></td>
<td>
<p>number of forecast instances to be produce</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of out-of-sample protocol to be applied (see below)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indices</code></td>
<td>
<p>Subset of the observations / forecast times to be used for
reference forecasts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blocklength</code></td>
<td>
<p>for cross-validation and split-sample</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>vector of observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind</code></td>
<td>
<p>list or matrix of dimension (<code>n x nref</code>) of indices
of the observations to be used for each forecast instance</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>ind</code></td>
<td>
<p>A list of indices to be used for each forecast from
<code>1</code> to <code>nfcst</code></p>
</td>
</tr></table>
<h3>Cross-validation</h3>

<p>Leave-one-out and leave-n-out cross-validation
reference forecasts can be produced by setting <code>type = "crossval"</code>. By
default, the blocklength is set to <code>1</code>, but moving blocks of length
<code>n</code> can be specified by setting <code>blocklength = n</code>.
</p>


<h3>Split sample</h3>

<p>In contrast to <code>type="crossval"</code>,
<code>type="block"</code> is used for split-sample validation with
non-overlapping blocks of length <code>blocklength</code> retained for
validation.
</p>


<h3>Forward</h3>

<p>Correspondingly, reference forecasts that are only based on
past (future) observations can be produced using <code>type = "forward"</code>.
For this, the first half of the reference forecasts only uses future
information, i.e. observations <code>2:n</code> for forecast <code>1</code>, <code>3:n</code>
for <code>2</code> and so forth. The second half of the reference forecasts use
only past observations, i.e. observations <code>1:(n-1)</code> for forecast
<code>n</code>, <code>1:(n-2)</code> for <code>n-1</code>, etc.
</p>


<h3>Subsetting</h3>

<p>In combination with the above, a subset of the
observations can be specified for use as reference forecasts by providing
the explicit indices of the observations to be used via <code>indices=1:k</code>.
In combination with the <code>forward</code> method, all observations in
<code>indices</code> will be used to construct the reference forecast for
forecasts not included in <code>indices</code> (i.e. if <code>nfcst &gt;
  max(indices)</code>).
</p>


</div>