<div class="container">

<table style="width: 100%;"><tr>
<td>wfdb_annotations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read WFDB-compatible annotation file</h2>

<h3>Description</h3>

<p>Individual annotation types are described as both a command-line
tool for annotating WFDB-files, as well as the extension that is appended to
the <code>record</code> name to notate the type. Generally, the types of annotations
that are supported are described below:
</p>

<ul>
<li>
<p> atr = manually reviewed and corrected reference annotation files
</p>
</li>
<li>
<p> ann = general annotator file
</p>
</li>
<li>
<p> ecgpuwave = files contain surface ECG demarcation (P, QRS, and T waves)
</p>
</li>
<li>
<p> sqrs/wqrs/gqrs = standard WFDB peak detection for R waves
</p>
</li>
</ul>
<p>A more thorough explanation is given in the details. Additionally, files when
being read in are converted from a binary format to a textual format. The raw
data however may be inadequate, as the original annotation may be erroneous.
In these cases, an empty <code>annotation_table</code> object will be returned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_annotation(
  record,
  record_dir = ".",
  annotator,
  wfdb_path = getOption("wfdb_path"),
  begin = "00:00:00",
  end = NA_character_,
  ...
)

write_annotation(
  data,
  annotator,
  record,
  record_dir = ".",
  wfdb_path = getOption("wfdb_path"),
  ...
)

annotate_wfdb(
  record,
  record_dir,
  annotator,
  wfdb_path = getOption("wfdb_path"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>record</code></td>
<td>
<p>String that will be used to name the WFDB record. Cannot
include extensions, and is not a filepath. alphanumeric characters are
acceptable, as well as hyphens (-) and underscores (_)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>record_dir</code></td>
<td>
<p>File path of directory that should be used read and write
files. Defaults to current directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotator</code></td>
<td>
<p>String that is the name of a WFDB-compatible annotation
type, serving as the extension for the file that is written containing that
annotation. Please see <code>read_annotation()</code> and <code>write_annotation()</code> for
further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wfdb_path</code></td>
<td>
<p>Path that leads to installed <code>wfdb</code> software package on
device. Needs to be directly set using <code>set_wfdb_path()</code>. Obtained from the
system options on loading of the package, <code>getOption('wfdb_path')</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>begin, end</code></td>
<td>
<p>A <code>character</code> in the format of <em>HH:MM:SS</em> that will be used
to help parse the time of the annotation. These parameters together create
the time range to extract. The default of <em>0</em> is a shortcut for <em>00:00:00</em>.
The <em>seconds</em> argument can include a decimal place.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to be passed to the function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An <code>annotation_table</code> containing the 6 invariant columns required
by the <code>annotation_table()</code> function</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function will either read in an annotation using the <code>read_annotation()</code> function in the format of an <code>annotation_table</code> object, or write to file/disk an <code>annotation_table</code> to a WFDB-compatible annotation file using the <code>write_annotation()</code> function.
</p>
<p><strong>IMPORTANT</strong>: as annotation files are created by annotators that were
developed independently, there is a higher chance of an erroroneous file
being created on disk. As such, this function will note an error an return an
empty <code>annotation_table</code> at times.
</p>


<h3>Annotation files</h3>

<p>The following annotation file types are described below.
</p>


<h4><code>ecgpuwave</code></h4>

<p><code>ecgpuwave</code> analyzes an ECG signal from the specified record, detecting the
QRS complexes and locating the beginning, peak, and end of the P, QRS, and
ST-T waveforms. The output of ecgpuwave is written as a standard WFDB-format
annotation file (the extension is "*.ecgpuwave", as would be expected). This
file can be converted into text format using <code>rdann</code>. Further details are
given at the <a href="https://physionet.org/content/ecgpuwave/1.3.4/">ECGPUWAVE</a>
page.
</p>
<p>The <strong>type</strong> column can be <em>p</em>, <em>t</em>, or <em>N</em> for the peak of the P wave, T
wave, and QRS (R peak) directly. The output notation also includes waveform
onset XXX and waveform offset XXX. The <strong>number</strong> column gives further
information about each of these <strong>type</strong> labels.
</p>
<p>The <strong>number</strong> column gives modifier information. If the <strong>type</strong> classifier
is a T wave annotation, the <strong>number</strong> column can be 0 (normal), 1
(inverted), 2 (positive), 3 (negative), 4 (biphasic negative-positive), 5
(biphasic positive-negative). If the <strong>type</strong> is an waveform onset or offset,
then <strong>number</strong> can be 0 (P wave), 1 (QRS complex), 2 (T wave).
</p>



</div>