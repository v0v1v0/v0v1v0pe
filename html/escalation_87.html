<div class="container">

<table style="width: 100%;"><tr>
<td>simulations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulated trials.</h2>

<h3>Description</h3>

<p>This class encapsulates that many notional or virtual trials can be
simulated. Each recommends a dose (or doses), keeps track of how many
patients have been treated at what doses, what toxicity outcomes have been
seen, and whether a trial advocates continuing, etc. We run simulations to
learn about the operating characteristics of a trial design.
</p>
<p>Computationally, the <code>simulations</code> class supports much of the same
interface as <code>selector</code>, and a little more.
Thus, many of the same generic functions are supported - see Examples.
However, compared to <code>selector</code>s, the returned objects reflect
that there are many trials instead of one, e.g. <code>num_patients(sims)</code>,
returns as an integer vector the number of patients used in the simulated
trials.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulations(fits, true_prob_tox, true_prob_eff = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fits</code></td>
<td>
<p>Simulated model fits, arranged as list of lists.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_prob_tox</code></td>
<td>
<p>vector of true toxicity probabilities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_prob_eff</code></td>
<td>
<p>vector of true efficacy probabilities, optionally NULL
if efficacy not analysed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra args</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>simulations</code> object implements the following functions:
</p>

<ul>
<li> <p><code>num_patients</code>
</p>
</li>
<li> <p><code>num_doses</code>
</p>
</li>
<li> <p><code>dose_indices</code>
</p>
</li>
<li> <p><code>n_at_dose</code>
</p>
</li>
<li> <p><code>tox_at_dose</code>
</p>
</li>
<li> <p><code>num_tox</code>
</p>
</li>
<li> <p><code>recommended_dose</code>
</p>
</li>
<li> <p><code>prob_administer</code>
</p>
</li>
<li> <p><code>prob_recommend</code>
</p>
</li>
<li> <p><code>trial_duration</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>list with slots: <code>fits</code> containing model fits;
and <code>true_prob_tox</code>, contianing the assumed true probability of
toxicity.
</p>


<h3>See Also</h3>

<p><code>selector</code>
</p>
<p><code>simulate_trials</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Simulate performance of the 3+3 design:
true_prob_tox &lt;- c(0.12, 0.27, 0.44, 0.53, 0.57)
sims &lt;- get_three_plus_three(num_doses = 5) %&gt;%
  simulate_trials(num_sims = 10, true_prob_tox = true_prob_tox)
# The returned object has type 'simulations'. The supported interface is:
sims %&gt;% num_patients()
sims %&gt;% num_doses()
sims %&gt;% dose_indices()
sims %&gt;% n_at_dose()
sims %&gt;% tox_at_dose()
sims %&gt;% num_tox()
sims %&gt;% recommended_dose()
sims %&gt;% prob_administer()
sims %&gt;% prob_recommend()
sims %&gt;% trial_duration()

# Access the list of model fits for the ith simulated trial using:
i &lt;- 1
sims$fits[[i]]
# and the jth model fit for the ith simulated trial using:
j &lt;- 1
sims$fits[[i]][[j]]
# and so on.
</code></pre>


</div>