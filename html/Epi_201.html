<div class="container">

<table style="width: 100%;"><tr>
<td>Termplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
A wrapper for <code>termplot</code> that optionally (but by default)
exponentiates terms, and plot them on a common log-scale. Also scales
x-axes to the same physical scale.
</h2>

<h3>Description</h3>

<p>The function uses <code>termplot</code> to extract terms from a model
with, say, spline, terms, including the standard errors, computes
confidence intervals and transform these to the rate / rate-ratio
scale. Thus the default use is for models on the log-scale such as
Poisson-regression models. The function produces a plot with panels
side-by-side, one panel per term, and returns the 
</p>


<h3>Usage</h3>

<pre><code class="language-R">  Termplot( obj,
           plot = TRUE,
           xlab = NULL,
           ylab = NULL,
            xeq = TRUE,
           yshr = 1,
          alpha = 0.05,
          terms = NULL,
         max.pt = NULL )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>An object with a <code>terms</code>-method â€” for details the
the documentation for <code>termplot</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Should a plot be produced?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Labels for the <code>x</code>-axes. Defaults to the names of the terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Labels for the <code>x</code>-axes. Defaults to blank.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xeq</code></td>
<td>
<p>Should the units all all plots have the same physical scale
for the <code>x</code>-axes).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yshr</code></td>
<td>
<p>Shrinking of <code>y</code>-axis. By default, the <code>y</code>-axes
have an extent that accommodates the entire range of confidence
intervals. This is a shrinking parameter for the <code>y</code>-axes,
setting it to less than 1 will lose a bit of the confidence limits
on some of the panels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>1 minus the confidence level for computing confidence
intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terms</code></td>
<td>
<p>Which terms should be reported. Passed on to
<code>termplot</code> and eventually <code>predict</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.pt</code></td>
<td>
<p>The maximal number of points in which to report the
terms. If <code>NULL</code> all unique points from the analysis dataset
are reported for each term (this is a feature of <code>termplot</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with one component per term in the model object <code>obj</code>,
each component is a 4-column matrix with $x$ as the first column, and
3 columns with estimae and lower and upper confidence limit.
</p>


<h3>Author(s)</h3>

<p>Bendix Cartensen
</p>


<h3>See Also</h3>

<p><code>Ns</code>, <code>termplot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Get the diabetes data and set up as Lexis object
data(DMlate)
DMlate &lt;- DMlate[sample(1:nrow(DMlate),500),]
dml &lt;- Lexis( entry = list(Per=dodm, Age=dodm-dobth, DMdur=0 ),
               exit = list(Per=dox),
        exit.status = factor(!is.na(dodth),labels=c("DM","Dead")),
               data = DMlate )

# Split in 1-year age intervals
dms &lt;- splitLexis( dml, time.scale="Age", breaks=0:100 )

# Model with 6 knots for both age and period
n.kn &lt;- 6
# Model age-specific rates with period referenced to 2004
( a.kn &lt;- with( subset(dms,lex.Xst=="Dead"),
                quantile( Age+lex.dur, probs=(1:n.kn-0.5)/n.kn ) ) )
( p.kn &lt;- with( subset(dms,lex.Xst=="Dead"),
                quantile( Per+lex.dur, probs=(1:n.kn-0.5)/n.kn ) ) )
m2 &lt;- glm( lex.Xst=="Dead" ~ -1 +
                             Ns( Age, kn=a.kn, intercept=TRUE ) +
                             Ns( Per, kn=p.kn, ref=2004 ),
           offset = log( lex.dur ), family=poisson, data=dms )

# Finally we can plot the two effects:
Termplot( m2, yshr=0.9 )
</code></pre>


</div>