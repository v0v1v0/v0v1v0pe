<div class="container">

<table style="width: 100%;"><tr>
<td>EmbedSOM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Process the cells with SOM into a nice embedding</h2>

<h3>Description</h3>

<p>Process the cells with SOM into a nice embedding
</p>


<h3>Usage</h3>

<pre><code class="language-R">EmbedSOM(
  data = NULL,
  map = NULL,
  fsom = NULL,
  smooth = NULL,
  k = NULL,
  adjust = NULL,
  importance = NULL,
  coordsFn = NULL,
  coords = NULL,
  emcoords = NULL,
  emcoords.pow = 1,
  parallel = F,
  threads = if (parallel) 0 else 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data matrix with points that optionally overrides the one from <code>fsom$data</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>Map object in FlowSOM format, to optionally override <code>fsom$map</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fsom</code></td>
<td>
<p>FlowSOM object with a built SOM (used if data or map are missing)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Produce smoother (positive values) or more rough approximation (negative values).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>How many neighboring landmarks (e.g. SOM nodes) to take into the whole computation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust</code></td>
<td>
<p>How much non-local information to remove from the approximation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>importance</code></td>
<td>
<p>Scaling of the landmarks, will be used to scale the incoming data (should be same as used for training the SOM or to select the landmarks)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coordsFn</code></td>
<td>
<p>A coordinates-generating function (e.g. <code>tSNECoords()</code>) that overrides the existing <code>map$grid</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>
<p>A matrix of embedding-space coordinates that correspond to <code>map$codes</code> (i.e. the "embedded landmarks"). Overrides <code>map$grid</code> if not NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>emcoords</code></td>
<td>
<p>Provided for backwards compatibility, will be removed. Use <code>coords</code> and <code>coordsFn</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>emcoords.pow</code></td>
<td>
<p>Provided for backwards compatibility, will be removed. Use a parametrized <code>coordsFn</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Boolean flag whether the computation should be parallelized (this flag is just a nice name for <code>threads</code> and does not do anything directly â€“ default FALSE sets threads=1, TRUE sets threads=0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threads</code></td>
<td>
<p>Number of threads used for computation, 0 chooses hardware concurrency, 1 (default) turns off parallelization.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>matrix with 2D or 3D coordinates of the embedded <code>data</code>, depending on the <code>map</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">d &lt;- cbind(rnorm(10000), 3*runif(10000), rexp(10000))
colnames(d) &lt;- paste0("col",1:3)
map &lt;- EmbedSOM::SOM(d, xdim=10, ydim=10)
e &lt;- EmbedSOM::EmbedSOM(data=d, map=map)
EmbedSOM::PlotEmbed(e, data=d, 'col1', pch=16)
</code></pre>


</div>