<div class="container">

<table style="width: 100%;"><tr>
<td>freqtab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Frequency Distribution Tables</h2>

<h3>Description</h3>

<p>Functions for creating and manipulating frequency tables of class
“<code>freqtab</code>”.
</p>


<h3>Usage</h3>

<pre><code class="language-R">freqtab(x, ...)

## Default S3 method:
freqtab(x, scales, items, design, na.rm = TRUE, ...)

as.freqtab(x, scales, design, drop = FALSE, ...)

## S3 method for class 'table'
freqtab(x, design, ...)

## S3 method for class 'freqtab'
as.data.frame(x, row.names = NULL, optional = FALSE, drop = FALSE, ...)

## S3 method for class 'freqtab'
head(x, ...)

## S3 method for class 'freqtab'
tail(x, ...)

scales(x, margin = 1)

margin(x, margin = 1)

margins(x)

## S3 method for class 'freqtab'
droplevels(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>either an object (vector or <code>data.frame</code>) containing total
scores or item responses with which total scores will be calculated, or an
object inheriting from class “<code>freqtab</code>”. In the <code>freqtab</code>
function, the first column in <code>x</code> must be the total test; any remaining
columns may contain anchor scores. See below for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or from other functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>
<p>list of vectors containing the score scales for each score scale
in <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>items</code></td>
<td>
<p>list of vectors of column indices (numbers or column names)
with which total scores will be computed for <code>x</code> when it contains item
responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>the equating design used in data collection. For univariate
<code>x</code>, <code>design = "eg"</code> is assumed for equivalent groups. For
multivariate <code>x</code>, <code>design = "ng"</code> is assumed for nonequivalent
groups. Single-groups and counterbalanced designs must be specified with
<code>design = "sg"</code> and <code>design = "cb"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical with default <code>TRUE</code> specifying whether or not
missing item responses should be ignored, i.e., treated as 0, when
calculating total scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>logical, with default <code>FALSE</code>, indicating whether or not
unused factor levels, or score values with zero counts, should be dropped.
See below for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.names, optional</code></td>
<td>
<p>arguments passed to <code>as.data.frame</code>,
currently ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>integer vector specifying the margin(s) over which frequencies
should be summed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>freqtab</code> creates a frequency table from a vector or <code>data.frame</code>
of scores. When the <code>items</code> argument is included, scores are assumed to
be item responses, which are summed to create total scores. The scores are
tabulated and stored as an array, with dimensions for each variable. Note
that in previous versions of the “<code>freqtab</code>” class the frequency
table was stored as a <code>data.frame</code>. This is no longer the case.
Instead, the table is stored as an array and converted to a
<code>data.frame</code> when printed or manipulated with the <code>head</code> and
<code>tail</code> methods.
</p>
<p><code>as.data.frame</code> converts an object of class “<code>freqtab</code>” to
“<code>data.frame</code>”. <code>droplevels</code> returns <code>x</code> with any
unused factor levels, or levels with zero counts, removed.
</p>
<p>When <code>x</code> is an object of class “<code>table</code>”, <code>freqtab</code>
simply modifies the attributes and converts to class
“<code>freqtab</code>”. In this case, <code>x</code> must already be structured
similar to a “<code>freqtab</code>” object, with the first dimension
containing counts for total scores, and remaining dimensions containing
counts for one or more anchor tests.
</p>
<p><code>as.freqtab</code> converts a 'flat' contingency table (see
<code>ftable</code>) to class “<code>freqtab</code>” with the appropriate
attributes. A flat contingency table is the <code>data.frame</code> version of a
“<code>freqtab</code>” object, where the first column contains the total
score scale, the last column contains counts, and the columns in between
contain different anchor test score combinations. <code>is.freqtab</code> tests
for class “<code>freqtab</code>”.
</p>
<p><code>scales</code> extracts the measurement scales for the variables specified in
<code>margin</code>, with <code>margin = 1</code> referring to the total score scale,
and subsequent margins referring to anchor tests. <code>margin</code> is a wrapper
for <code>margin.table</code>, which itself is a simple wrapper for summing
over marginal counts, i.e., <code>apply(x, margin, sum)</code>. And <code>margins</code>
returns the number of dimensions, i.e., score variables, in a frequency
table.
</p>
<p><code>design</code> is used to set the dimnames of the frequency table, with
<code>total1</code> and <code>total2</code> used with single and counterbalanced groups,
and <code>total</code> and <code>anchor</code>(s) used otherwise. <code>design</code> also
sets the design attribute, which is used in <code>equate</code>.
</p>
<p>The main difference between the “<code>freqtab</code>” class and other
tabulation classes, like “<code>table</code>” and “<code>ftable</code>”,
is that the <code>dimnames</code>, i.e., the score scales, are required to be
numeric. This facilitates plotting with <code>plot.freqtab</code>, equating
with the <code>equate</code> function, and descriptive statistics with the
<code>summary.freqtab</code> and other methods.
</p>


<h3>Value</h3>

<p>A table array with dimensions equal to the number of score scales.
In most cases, this will be a univariate or bivariate distribution, but
multivariate distributions are supported. <code>scales</code> and <code>margins</code>
return numeric vectors.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>default</code>: Default method for a <code>data.frame</code> of item responses,
a <code>data.frame</code> of total and anchor scores, or a vector of total scores.
</p>
</li>
<li> <p><code>table</code>: Method for <code>table</code>s.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Anthony Albano <a href="mailto:tony.d.albano@gmail.com">tony.d.albano@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>table</code>, <code>ftable</code>,
<code>summary.freqtab</code>, <code>plot.freqtab</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Univariate distribution with score scale
set.seed(2005)
x &lt;- round(rnorm(1000, 100, 10))
head(freqtab(x, scales = 70:130))

# Existing frequency table converted to class "freqtab"
# The first score of zero, with zero counts, is dropped
head(as.freqtab(ACTmath[, 1:2], drop = TRUE))

# Bivariate distribution
# Reduce y to the anchor test margin (2)
ny &lt;- freqtab(x = KBneat$y, scales = list(0:36, 0:12))
margin(ny, margin = 2)

# Summing scored item responses with the PISA data
attach(PISA)
r6items &lt;- paste(items$itemid[items$clusterid == "r6"])
r7items &lt;- paste(items$itemid[items$clusterid == "r7"])
pisa67 &lt;- freqtab(students[students$book == 6, ],
	items = list(r6items, r7items),
	scales = list(0:16, 0:14))
detach(PISA)

# Scales for both margins
# Zero total score is unobserved
scales(pisa67, 1:2)
scales(droplevels(pisa67), 1:2)

</code></pre>


</div>