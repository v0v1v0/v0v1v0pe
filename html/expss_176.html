<div class="container">

<table style="width: 100%;"><tr>
<td>as.category</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert dichotomy data.frame/matrix to data.frame with category encoding</h2>

<h3>Description</h3>

<p>Convert dichotomy data.frame/matrix to data.frame with category encoding
</p>


<h3>Usage</h3>

<pre><code class="language-R">as.category(x, prefix = NULL, counted_value = 1, compress = FALSE)

is.category(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Dichotomy data.frame/matrix (usually with 0,1 coding).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>If is not NULL then column names will be added in the form
prefix+column number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counted_value</code></td>
<td>
<p>Vector. Values that will be considered as indicator 
of category presence. By default it equals to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compress</code></td>
<td>
<p>Logical. Should we drop columns with all NA? FALSE by 
default. TRUE significantly decreases performance of the function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data.frame of class <code>category</code> with numeric values
that correspond to column numbers of counted values. Column names of x or
variable labels are added as value labels.
</p>


<h3>See Also</h3>

<p><code>as.dichotomy</code> for reverse conversion, mrset,
mdset for usage multiple-response variables with tables.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(123)

# Let's imagine it's matrix of consumed products
dichotomy_matrix = matrix(sample(0:1,40,replace = TRUE,prob=c(.6,.4)),nrow=10)
colnames(dichotomy_matrix) = c("Milk","Sugar","Tea","Coffee")

as.category(dichotomy_matrix, compress = TRUE) # compressed version
category_encoding = as.category(dichotomy_matrix)

 # should be TRUE
identical(val_lab(category_encoding), c(Milk = 1L, Sugar = 2L, Tea = 3L, Coffee = 4L))
all(as.dichotomy(category_encoding, use_na = FALSE) == dichotomy_matrix)

# with prefix
as.category(dichotomy_matrix, prefix = "products_")

# data.frame with variable labels
dichotomy_dataframe = as.data.frame(dichotomy_matrix)
colnames(dichotomy_dataframe) = paste0("product_", 1:4)
var_lab(dichotomy_dataframe[[1]]) = "Milk"
var_lab(dichotomy_dataframe[[2]]) = "Sugar"
var_lab(dichotomy_dataframe[[3]]) = "Tea"
var_lab(dichotomy_dataframe[[4]]) = "Coffee"

as.category(dichotomy_dataframe, prefix = "products_")

</code></pre>


</div>