<div class="container">

<table style="width: 100%;"><tr>
<td>rpv_toDF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transform RPV results from <code>eiCompare</code> into a simple dataframe
object</h2>

<h3>Description</h3>

<p>Create a dataframe from RPV analysis output to facilitate 
RPV visualizations. The output dataframe of this function can be used directly 
in <code>rpv_plot()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rpv_toDF(
  rpv_results = NULL,
  model = NULL,
  jurisdiction = "",
  preferred_candidate = "",
  party = "",
  election_type = "",
  year = "",
  contest = "",
  candidate = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rpv_results</code></td>
<td>
<p>RPV analysis results either from the output of 
<code>ei_iter()</code> or <code>ei_rxc()</code> from the <code>eiCompare</code> package or from 
the internal function <code>ci_cvap_full()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A string indicating the model used to create <code>rpv_results</code>. 
Examples include "ei", "rxc", "ei cvap", etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jurisdiction</code></td>
<td>
<p>A string of the jurisdiction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preferred_candidate</code></td>
<td>
<p>A character vector of races indicating racial
preference of each candidate. The racial preferences must be listed 
in the correct order with respect to <code>candidate</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>party</code></td>
<td>
<p>A character vector containing the political parties of the 
candidates. Must be listed in the correct order with respect to 
<code>candidate</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>election_type</code></td>
<td>
<p>A string on the election type (usually "General" or 
"Primary")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>The year of the contest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contest</code></td>
<td>
<p>A string of contest name as it would appear in an rpv visualization
(e.g. "President" or "Sec. of State")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>candidate</code></td>
<td>
<p>A character vector of candidate names written as they would 
appear on a visualization. The candidate names must be listed in the same order
as the candidate estimates appear in <code>rpv_results</code>, i.e the same order 
as the <code>cands</code> argument in <code>eiCompare::ei_iter()</code> or 
<code>eiCompare::ei_rxc()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>rpv results in a data.frame
</p>


<h3>Author(s)</h3>

<p>Rachel Carroll &lt;rachelcarroll4@gmail.com&gt;
</p>
<p>Kassra Oskooii  &lt;kassrao@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#library(eiExpand)
#data("south_carolina")
#prec_election_demog &lt;- south_carolina[1:50,]

## run rpv analysis
#eiVote &lt;- eiCompare::ei_iter(
 # data = prec_election_demog,
 # cand_cols = c('pct_mcmaster', 'pct_smith'),
 # race_cols = c('pct_white', 'pct_black'),
 # totals_col = "total_vap"
#) %&gt;%
 # rpv_normalize(
 #   cand_cols = c('pct_mcmaster', 'pct_smith'), 
 #   race_cols = c('pct_white', 'pct_black')
 # )

## use function to create dataframe from rpv results
#plotDF &lt;- rpv_toDF(
#   rpv_results = eiVote,
#   model = "ei vap", #since we used ei_iter model normalized with vap denominator       
#   jurisdiction = "Statewide",
#   candidate = c("McMaster", "Smith"), #must be in correct order relative to rpv_results                             
#   preferred_candidate = c("White", "Black"), #must be in correct order rpv_results  
#   party = c("Republican", "Democratic"),
#   election_type = "General",  
#   year = "2020",
#   contest = "Governor"
# )

</code></pre>


</div>