<div class="container">

<table style="width: 100%;"><tr>
<td>calcurve</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calibration Curve</h2>

<h3>Description</h3>

<p><code>calcurve</code> function returns a data.frame containing the number of patients, the observed mortality rate and the predicted mortality rate for each category of the predicted mortality rate. If any other acute physiology score is given, the function will also return the mortality rate predicted by this score for each category.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calcurve(
  deaths,
  pred,
  score = NULL,
  name_score = "Saps3",
  other_score = NULL,
  name_other_score = NULL,
  categories_option = c("predicted", "score", "patients"),
  table = FALSE,
  plot = TRUE,
  title_label = "Calibration Curve",
  y1axis_label = "Patients (n)",
  y2axis_label = "Mortality Rate (%)",
  score_color = c("#cac7cc", "#ffc341", "#33cca3"),
  bar_color = "#1f77b4",
  points = c(19, 18, 17),
  cultureCode = "en-US",
  legend_inset = -0.7
)

## S3 method for class 'calcurve'
print(x, ...)

## S3 method for class 'calcurve'
plot(
  x,
  ...,
  xlab = NULL,
  ylab2 = NULL,
  main = x$title_label,
  text = x$y2axis_label,
  ylab = x$y1axis_label,
  col = c(x$bar_color, x$score_color),
  pch = x$points,
  cultureCode = x$cultureCode,
  legend_inset = x$legend_inset
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>deaths</code></td>
<td>
<p>a numerical vector that only contains 0 and 1, indicating whether the patient was alive or dead, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>a numerical vector that contains the mortality rate predicted by the main score, in percentage, for each patient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score</code></td>
<td>
<p>a numerical vector that contains the main score punctuation for each patient, or NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name_score</code></td>
<td>
<p>a character string which determines the name of the main score.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>other_score</code></td>
<td>
<p>a list of numerical vectors, where each vector contains the mortality rate predicted by other score, in percentage, for each patient, or NULL (the default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name_other_score</code></td>
<td>
<p>if other_score variable is different from NULL, this argument must be a vector with the name(s) of the score(s) given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>categories_option</code></td>
<td>
<p>a character string which determines if the categories will refer to the main score or to the predicted mortality rate. Accepted values are 'predicted' (the default), 'score' or 'patients'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>logical; if <code>TRUE</code> prints the <code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical; if <code>TRUE</code> (the default) plots the categories chosen versus the mortality rates in the secondary vertical axis. The main vertical axis refers to the number of patients in each category, represented by the bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_label</code></td>
<td>
<p>main title for <code>calcurve</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y1axis_label, y2axis_label</code></td>
<td>
<p>labels of the main vertical axis and the secondary axis, respectively, for <code>calcurve</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score_color</code></td>
<td>
<p>a vector with the colors to be used in the score traces for <code>calcurve</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bar_color</code></td>
<td>
<p>color of the bars for <code>calcurve</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points</code></td>
<td>
<p>a vector with markers types of the scores for <code>calcurve</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cultureCode</code></td>
<td>
<p>a character specifying which language should be used for plot x axis title and legends. Possible values are 'pt-BR' and 'en-US'. The default is 'en-US'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_inset</code></td>
<td>
<p>inset distance(s) from the margins as a fraction of the plot region when legend is placed by keyword. See <code>legend</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class 'calcurve'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to <code>plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>label of the horizontal axis for <code>plot.calcurve</code>, defaults to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab2</code></td>
<td>
<p>label of the secondary vertical axis for <code>plot.calcurve</code>, defaults to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>main title for <code>plot.calcurve</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>label of the secondary vertical axis for <code>plot.calcurve</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>label of the main vertical axis for <code>plot.calcurve</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>character vector with the colors of the bars and score traces, in this order, for <code>plot.calcurve</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>a vector with markers types of the scores for <code>plot.curve</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul><li>
<p> If <code>categories_option = 'score'</code>, the categories will refer to the deciles of the main score punctuation. If <code>categories_option = 'predicted'</code>, the categories will refer to fixed intervals of the predicted mortality rate. If <code>categories_option = 'patients'</code> the categories will refer to the deciles of patients.
</p>
</li></ul>
<h3>Author(s)</h3>

<p>Camila Cardoso
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# Loading the dataset
data(icu)

# Calibration Curve Plot
a &lt;- calcurve(deaths = icu$UnitDischargeName,
pred = icu$Saps3DeathProbabilityStandardEquation,
score = icu$Saps3Points, name_score = 'Saps3',
categories_option = 'predicted', table = FALSE, plot = TRUE)


</code></pre>


</div>