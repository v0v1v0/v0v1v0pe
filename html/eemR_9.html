<div class="container">

<table style="width: 100%;"><tr>
<td>eem_export_matlab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Export EEMs to Matlab</h2>

<h3>Description</h3>

<p>Export EEMs to Matlab
</p>


<h3>Usage</h3>

<pre><code class="language-R">eem_export_matlab(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>The .mat file name where to export the structure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>One or more object of class <code>eemlist</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function exports EEMs into PARAFAC-ready Matlab <code>.mat</code> file
usable by the <a href="http://www.models.life.ku.dk/drEEM">drEEM</a> toolbox.
</p>


<h3>Value</h3>

<p>A structure named <code>OriginalData</code> is created and contains:
</p>
 <dl>
<dt>nSample</dt>
<dd>
<p>The number of eems.</p>
</dd> <dt>nEx</dt>
<dd>
<p>The number of
excitation wavelengths.</p>
</dd> <dt>nEm</dt>
<dd>
<p>The number of emission wavelengths.</p>
</dd>
<dt>Ex</dt>
<dd>
<p>A vector containing excitation wavelengths.</p>
</dd> <dt>Em</dt>
<dd>
<p>A vector
containing emission wavelengths.</p>
</dd> <dt>X</dt>
<dd>
<p>A 3D matrix (nSample X nEx X
nEm) containing EEMs.</p>
</dd> </dl>
<p><code>sample_name</code> The list of sample names (i.e. file names) of the
imported EEMs.
</p>


<h3>Known bug in export</h3>

<p><code>eemR</code> uses <code>R.Matlab</code> to export the
the fluorescence data into a matfile. However, there is currently a bug in
the latter package that require the user to reshape the exported data once
in Matlab. This can be done using the following command:
<code>load('OriginalData.mat'); OriginalData.X = reshape(OriginalData.X,
  OriginalData.nSample, OriginalData.nEm, OriginalData.nEx)</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">file &lt;- system.file("extdata/cary/", package = "eemR")
eem &lt;- eem_read(file, recursive = TRUE, import_function = "cary")

export_to &lt;- paste(tempfile(), ".mat", sep = "")
eem_export_matlab(export_to, eem)
</code></pre>


</div>