<div class="container">

<table style="width: 100%;"><tr>
<td>epoxy_use</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reuse a Template Chunk</h2>

<h3>Description</h3>

<p>Reuse a template from another chunk or file. By calling <code>epoxy_use_chunk()</code>
in an R chunk or inline R expression, you can reuse a template defined in
another chunk in your document.
</p>
<p>Alternatively, you can store the template in a separate file and use
<code>epoxy_use_file()</code> to reuse it. When stored in a file, the template file can
contain YAML front matter (following the <a href="https://pandoc.org/MANUAL.html#extension-yaml_metadata_block">same rules as pandoc documents</a>)
with options that should be applied when calling an epoxy function. The
specific function called by <code>epoxy_use_file()</code> can be set via the <code>engine</code>
option in the YAML front matter; the default is <code>epoxy()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">epoxy_use_chunk(.data = NULL, label, ...)

epoxy_use_file(.data = NULL, file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A data set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>The chunk label, i.e. the human-readable name, of the chunk
containing the template string. This chunk should be an <code>epoxy</code>,
<code>epoxy_html</code> or other epoxy-provided chunk type and it must have a label.
<code>epoxy_use_chunk()</code> will apply the options from this chunk to the template,
giving preference to arguments in <code>epoxy_use_chunk()</code> or the chunk options
where it is called. See the "Template Options" section for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>epoxy</code>
</p>

<dl>
<dt><code>.transformer</code></dt>
<dd>
<p>A transformer function or transformer chain created with
<code>epoxy_transform()</code>. Alternatively, a character vector of epoxy transformer
names, e.g. <code>c("bold", "collapse")</code> or a list of epoxy transformers, e.g.
<code>list(epoxy_transform_bold(), epoxy_transform_collapse())</code>.
</p>
<p>In <span class="pkg">epoxy</span>, you'll most likely want to use the defaults or consult
<code>epoxy_transform()</code> for more information. See also <code>glue::glue()</code> for more
information on transformers.</p>
</dd>
<dt><code>.style</code></dt>
<dd>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> Please use <code>.transformer</code>
instead.</p>
</dd>
<dt><code>.open</code></dt>
<dd>
<p>[<code>character(1)</code>: ‘\{’]<br> The opening delimiter around
the template variable or expression. Doubling the full delimiter escapes
it.</p>
</dd>
<dt><code>.close</code></dt>
<dd>
<p>[<code>character(1)</code>: ‘\}’]<br> The closing delimiter
around the template variable or expression. Doubling the full delimiter
escapes it.</p>
</dd>
<dt><code>.collapse</code></dt>
<dd>
<p>A character string used to collapse a vector result into a
single value. If <code>NULL</code> (the default), the result is not collapsed.</p>
</dd>
<dt><code>.sep</code></dt>
<dd>
<p>[<code>character(1)</code>: ‘""’]<br> Separator used to separate elements.</p>
</dd>
<dt><code>.envir</code></dt>
<dd>
<p>[<code>environment</code>: <code>parent.frame()</code>]<br> Environment to evaluate each expression in. Expressions are
evaluated from left to right. If <code>.x</code> is an environment, the expressions are
evaluated in that environment and <code>.envir</code> is ignored. If <code>NULL</code> is passed, it is equivalent to <code>emptyenv()</code>.</p>
</dd>
<dt><code>.na</code></dt>
<dd>
<p>[<code>character(1)</code>: ‘NA’]<br> Value to replace <code>NA</code> values
with. If <code>NULL</code> missing values are propagated, that is an <code>NA</code> result will
cause <code>NA</code> output. Otherwise the value is replaced by the value of <code>.na</code>.</p>
</dd>
<dt><code>.null</code></dt>
<dd>
<p>[<code>character(1)</code>: ‘character()’]<br> Value to replace
NULL values with. If <code>character()</code> whole output is <code>character()</code>. If
<code>NULL</code> all NULL values are dropped (as in <code>paste0()</code>). Otherwise the
value is replaced by the value of <code>.null</code>.</p>
</dd>
<dt><code>.comment</code></dt>
<dd>
<p>[<code>character(1)</code>: ‘#’]<br> Value to use as the comment
character.</p>
</dd>
<dt><code>.literal</code></dt>
<dd>
<p>[<code>boolean(1)</code>: ‘FALSE’]<br> Whether to treat single or
double quotes, backticks, and comments as regular characters (vs. as
syntactic elements), when parsing the expression string. Setting <code>.literal = TRUE</code> probably only makes sense in combination with a custom
<code>.transformer</code>, as is the case with <code>glue_col()</code>. Regard this argument
(especially, its name) as experimental.</p>
</dd>
<dt><code>.trim</code></dt>
<dd>
<p>[<code>logical(1)</code>: ‘TRUE’]<br> Whether to trim the input
template with <code>trim()</code> or not.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>The template file, i.e. a plain text file, containing the
template. An <code>.md</code> or <code>.txt</code> file extension is recommended. In addition to
the template, the file may also contain YAML front matter containing
options that are used when rendering the template via <code>epoxy()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A character string of the rendered template based on the <code>label</code>
chunk. The results are marked as <code>"asis"</code> output so that they are treated
as regular text rather than being displayed as code results.
</p>


<h3>Use in R Markdown or Quarto</h3>

<div class="sourceCode"><pre>```{epoxy movie-release}
{.emph title} was released in {year}.
```

```{r}
# Re-using the template we defined above
epoxy_use_chunk(bechdel[1, ], "movie-release")
```

```{r}
# Using in a dplyr pipeline
bechdel |&gt;
  dplyr::filter(year == 1989) |&gt;
  epoxy_use_chunk("movie-release")
```
</pre></div>
<p>Or you can even use it inline:
</p>
<div class="sourceCode markdown"><pre>It's hard to believe that
`r epoxy_use_chunk(bechdel[2, ], "movie-release")`.
</pre></div>
<p>It's hard to believe that
<em>Back to the Future Part II</em> was released in 1989.
</p>
<p>The same template could also be stored in a file, e.g. <code>movie-release.md</code>:
</p>
<div class="sourceCode markdown"><pre>---
engine: epoxy
---

{.emph title} was released in {year}.
</pre></div>
<p>The YAML front matter is used in template files to set options for the
template. You can use the <code>engine</code> option to choose the epoxy function to be
applied to the template, e.g. <code>engine: epoxy_html</code> or <code>engine: epoxy_latex</code>.
By default, <code>engine: epoxy</code> is assumed unless otherwise specified.
</p>


<h3>Template Options</h3>

<p>When rendering a template, <code>epoxy_use_chunk()</code> and <code>epoxy_use_file()</code> will
inherit the options set in a number of different ways. The final template
options are determined in the following order, ranked by importance. Options
set in a higher-ranked location will override options set in a lower-ranked
location.
</p>

<ol>
<li>
<p> The arguments passed to <code>epoxy_use_chunk()</code>, such as <code>.data</code> or any
arguments passed in the <code>...</code>. These options always have preference over
options set anywhere else.
</p>
</li>
<li>
<p> The chunk options from the chunk where <code>epoxy_use_chunk()</code> or
<code>epoxy_use_file()</code> is called.
</p>
</li>
<li>
<p> The chunk options from the template chunk or file. These options typically
are relevant to the template itself, such as the engine used or the
opening and closing delimiters.
</p>
</li>
<li>
<p> Global knitr chunk options for the document. You can set these with
<code>knitr::opts_chunk$set()</code>, see <code>?knitr::opts_chunk</code> for more information.
</p>
</li>
</ol>
</div>