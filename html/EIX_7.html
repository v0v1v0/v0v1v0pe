<div class="container">

<table style="width: 100%;"><tr>
<td>plot.importance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot importance measures</h2>

<h3>Description</h3>

<p>This functions plots selected measures of importance for variables and interactions.
It is possible to visualise importance table in two ways: radar plot with six measures
and scatter plot with two choosen measures.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'importance'
plot(
  x,
  ...,
  top = 10,
  radar = TRUE,
  text_start_point = 0.5,
  text_size = 3.5,
  xmeasure = "sumCover",
  ymeasure = "sumGain"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a result from the <code>importance</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>number of positions on the plot or NULL for all variable. Default 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radar</code></td>
<td>
<p>TRUE/FALSE. If TRUE the plot shows
six measures of variables' or interactions' importance in the model.
If FALSE the plot containing two chosen measures
of variables' or interactions' importance in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_start_point</code></td>
<td>
<p>place, where the names of the particular feature start. Available for 'radar=TRUE'. Range from 0 to 1. Default 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_size</code></td>
<td>
<p>size of the text on the plot. Default 3.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmeasure</code></td>
<td>
<p>measure on the x-axis.Available for 'radar=FALSE'. Default "sumCover".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ymeasure</code></td>
<td>
<p>measure on the y-axis. Available for 'radar=FALSE'. Default "sumGain".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Available measures:
</p>

<ul>
<li>
<p> "sumGain" - sum of Gain value in all nodes, in which given variable occurs,
</p>
</li>
<li>
<p> "sumCover" - sum of Cover value in all nodes, in which given variable occurs; for LightGBM models: number of observation, which pass through the node,
</p>
</li>
<li>
<p> "mean5Gain" - mean gain from 5 occurrences of given variable with the highest gain,
</p>
</li>
<li>
<p> "meanGain" - mean Gain value in all nodes, in which given variable occurs,
</p>
</li>
<li>
<p> "meanCover" - mean Cover value in all nodes, in which given variable occurs; for LightGBM models: mean number of observation, which pass through the node,
</p>
</li>
<li>
<p> "freqency" - number of occurrences in the nodes for given variable.
</p>
</li>
</ul>
<p>Additionally for plots with single variables:
</p>

<ul>
<li>
<p> "meanDepth"  - mean depth weighted by gain,
</p>
</li>
<li>
<p> "numberOfRoots" - number of occurrences in the root,
</p>
</li>
<li>
<p> "weightedRoot" - mean number of occurrences in the root, which is weighted by gain.
</p>
</li>
</ul>
<h3>Value</h3>

<p>a ggplot object
</p>


<h3>Examples</h3>

<pre><code class="language-R">library("EIX")
library("Matrix")
sm &lt;- sparse.model.matrix(left ~ . - 1,  data = HR_data)

library("xgboost")
param &lt;- list(objective = "binary:logistic", max_depth = 2)
xgb_model &lt;- xgboost(sm, params = param, label = HR_data[, left] == 1, nrounds = 25, verbose=0)

imp &lt;- importance(xgb_model, sm, option = "both")
imp
plot(imp,  top = 10)

imp &lt;- importance(xgb_model, sm, option = "variables")
imp
plot(imp,  top = nrow(imp))

 imp &lt;- importance(xgb_model, sm, option = "interactions")
 imp
plot(imp,  top =  nrow(imp))

 imp &lt;- importance(xgb_model, sm, option = "variables")
 imp
plot(imp, top = NULL, radar = FALSE, xmeasure = "sumCover", ymeasure = "sumGain")


library(lightgbm)
train_data &lt;- lgb.Dataset(sm, label =  HR_data[, left] == 1)
params &lt;- list(objective = "binary", max_depth = 2)
lgb_model &lt;- lgb.train(params, train_data, 25)

imp &lt;- importance(lgb_model, sm, option = "both")
imp
plot(imp,  top = nrow(imp))

imp &lt;- importance(lgb_model, sm, option = "variables")
imp
plot(imp, top = NULL, radar = FALSE, xmeasure = "sumCover", ymeasure = "sumGain")



</code></pre>


</div>