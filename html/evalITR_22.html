<div class="container">

<table style="width: 100%;"><tr>
<td>hetcv.test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The Heterogeneity Test for Grouped Average Treatment Effects (GATEs) under Cross Validation in Randomized Experiments</h2>

<h3>Description</h3>

<p>This function calculates statistics related to the test of heterogeneous treatment effects across groups under cross-validation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hetcv.test(T, tau, Y, ind, ngates = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>A vector of the unit-level binary treatment receipt variable for each sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>A vector of the unit-level continuous score. Conditional Average Treatment Effect is one possible measure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>A vector of the outcome variable of interest for each sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind</code></td>
<td>
<p>A vector of integers (between 1 and number of folds inclusive) indicating which testing set does each sample belong to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngates</code></td>
<td>
<p>The number of groups to separate the data into. The groups are determined by <code>tau</code>. Default is 5.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The details of the methods for this design are given in Imai and Li (2022).
</p>


<h3>Value</h3>

<p>A list that contains the following items: </p>
<table>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>The estimated
statistic for the test of heterogeneity under cross-validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval</code></td>
<td>
<p>The p-value of the null
hypothesis (that the treatment effects are homogeneous)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michael Lingzhi Li, Technology and Operations Management, Harvard Business School
<a href="mailto:mili@hbs.edu">mili@hbs.edu</a>, <a href="https://www.michaellz.com/">https://www.michaellz.com/</a>;
</p>


<h3>References</h3>

<p>Imai and Li (2022). “Statistical Inference for Heterogeneous Treatment Effects Discovered by Generic Machine Learning in Randomized Experiments”,
</p>


<h3>Examples</h3>

<pre><code class="language-R">T = c(1,0,1,0,1,0,1,0)
tau = matrix(c(0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,-0.5,-0.3,-0.1,0.1,0.3,0.5,0.7,0.9),nrow = 8, ncol = 2)
Y = c(4,5,0,2,4,1,-4,3)
ind = c(rep(1,4),rep(2,4))
hettestlist &lt;- hetcv.test(T,tau,Y,ind,ngates=2)
hettestlist$stat
hettestlist$pval
</code></pre>


</div>