<div class="container">

<table style="width: 100%;"><tr>
<td>segmentation_steps</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Image segmentation function (Funcao para a segmentacao de imagens).</h2>

<h3>Description</h3>

<p>Esta funcao possibilita a segmentacao de imagens por meio de um
limiar. Para isso, pode-se escolher um valor arbtrario ou considerar o
valor estabelecido pelo metodo otsu.
</p>


<h3>Usage</h3>

<pre><code class="language-R">segmentation_steps(img,indexes=c("b","b"),threshold=c("otsu",0.6),
selectHigher=c(TRUE,FALSE),fillHull=c(TRUE,FALSE),fillBack=c(TRUE,FALSE),
thresholdFinish="otsu", selectHigherFinish=TRUE, fillHullFinish=TRUE,
fillBackFinish=TRUE,plot=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>img</code></td>
<td>
<p>:Este objeto deve ser obrigatoriamente imagem colorida do formato EBImage/ExpImage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexes</code></td>
<td>
<p>: Deve ser um vetor contendo os indices a serem utilizados em cada etapa
de segmentacao. As opcoes de indices sao:<br>
"r" = extrair a banda de vermelho<br>
"g" = extrair a banda de verde<br>
"b" = extrair a banda de azul<br>
"rg" = considera a media da banda de vermelho e verde: (r+g)/2<br>
"rb" = considera a media da banda de vermelho e azul: (r+b)/2<br>
"gb" = considera a media da banda de verde e azul: (g+b)/2<br>
"rgb" = considera a media das 3 bandas: (r+g+b)/3<br>
"BI"=sqrt((r^2+g^2+b^2)/3)<br>
"BIM"=sqrt((2r+2g+2b)/3)<br>
"SCI"=(r-g)/(r+g)<br>
"GLI"=(2g-r-b)/(2g+r+b)<br>
"HI"=(2r-g-b)/(g-b)<br>
"NGRDI"=(g-r)/(g+r)<br>
"SI"=(r-b)/(r+b)<br>
"VARI"=(g-r)/(g+r-b)<br>
"HUE"=atan(2(b-g-r)/30.5(g-r))<br>
"MGVRI"=(g^2-r^2)/(g^2+r^2)<br>
"GLI"=(2g-r-b)/(2g+r+b)<br>
"MPRI"=(g-r)/(g+r)<br>
"RGVBI"=(g-(br))/(g^2(br))<br>
"ExG"=(2*g-r-b)<br>
"VEG"=(g/(g^0.66667*b^0.66667))<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>: E um vetor com valores numericos entre 0 e 1 a ser considerado como
limiar. O usuario pode tambem usar o argumento "ostu", caso queira
considerar o limiar estabelecido por essa metodologia.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selectHigher</code></td>
<td>
<p>:Este argumento deve se um vetor com as palavras TRUE ou
FALSE. TRUE e quando se quer selecionar pixels de valores  maiores que o
limiar. FALSE quando se deseja selecionar valores menores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillHull</code></td>
<td>
<p>:Este argumento deve se um vetor com as palavras TRUE quando se
pretende desconsiderar valores vazios dentro do foreground, caso contrario
FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillBack</code></td>
<td>
<p>:Este argumento deve se um vetor com as TRUE quando se
pretende desconsiderar valores vazios dentro do background, caso contrario
FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresholdFinish</code></td>
<td>
<p>E um valor entre 0 e 1 a ser considerado como
limiar na ultima segmentacao. O usuario pode tambem usar o argumento "ostu", caso queira
considerar o limiar estabelecido por essa metodologia.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selectHigherFinish</code></td>
<td>
<p>argumento com as palavras TRUE ou
FALSE. TRUE (default) e quando se quer selecionar pixels de valores  maiores que o
limiar na ultima segmentacao. FALSE quando se deseja selecionar valores menores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillHullFinish</code></td>
<td>
<p>:Este argumento deve ser TRUE quando se
pretende desconsiderar valores vazios dentro do foreground na ultima segmentacao, caso contrario
FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillBackFinish</code></td>
<td>
<p>:Este argumento deve ser TRUE quando se
pretende desconsiderar valores vazios dentro do background na ultima segmentacao, caso contrario
FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>:Indica se sera apresentada (TRUE) ou nao (FALSE) (default) a
imagem segmentada.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Imagem segmentada
</p>


<h3>Author(s)</h3>

<p>Alcinei Mistico Azevedo (Instituto de ciencias agrarias da UFMG)
</p>


<h3>See Also</h3>

<p><code>segmentation_logit</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
############################################################################
#Obtendo o numero de ovos em uma folha
############################################################################

#Carregar imagem de exemplo
im=read_image(example_image(2),plot=TRUE)
## Fazendo a segmentacao na imagem
m=segmentation_steps(img=im,
indexes=c("b","b"),
threshold=c(0.39,0.7),
selectHigher=c(FALSE,TRUE),
fillHull=c(TRUE,TRUE),
fillBack=c(FALSE,FALSE),
thresholdFinish = 0.5,
selectHigherFinish = TRUE,
fillHullFinish = FALSE,
plot=TRUE)
measure_image(m,splitConnected = FALSE)
#Ver a mascara sobre os ovos na foto
im3=mask_pixels(im,m==1,plot=TRUE)

</code></pre>


</div>