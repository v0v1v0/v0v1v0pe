<div class="container">

<table style="width: 100%;"><tr>
<td>validate_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Validate tables against the model</h2>

<h3>Description</h3>

<p>Validate tables against the model
</p>


<h3>Usage</h3>

<pre><code class="language-R">validate_data(dataset = NULL, path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>(list) A dataset of the structure returned by <code>read_data()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>(character) Path to a directory containing ecocomDP tables as files.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Validation checks:
</p>

<ul>
<li>
<p> File names - File names are the ecocomDP table names.
</p>
</li>
<li>
<p> Table presence - Required tables are present.
</p>
</li>
<li>
<p> Column names - Column names of all tables match the model.
</p>
</li>
<li>
<p> Column presence - Required columns are present.
</p>
</li>
<li>
<p> Column classes - Column classes match the model specification.
</p>
</li>
<li>
<p> Datetime format - Date and time formats follow the model specification.
</p>
</li>
<li>
<p> Primary keys - Primary keys of tables are unique.
</p>
</li>
<li>
<p> Composite keys - Composite keys (unique constraints) of each table are unique.
</p>
</li>
<li>
<p> Referential integrity - Foreign keys have a corresponding primary key.
</p>
</li>
<li>
<p> Coordinate format - Values are in decimal degree format.
</p>
</li>
<li>
<p> Coordinate range - Values are within -90 to 90 and -180 to 180.
</p>
</li>
<li>
<p> Elevation - Values are less than Mount Everest (8848 m) and greater than Mariana Trench (-10984 m).
</p>
</li>
<li>
<p> Variable mapping - variable_name is in table_name.
</p>
</li>
<li>
<p> Mapped_id - values in mapped_id are valid URIs
</p>
</li>
</ul>
<h3>Value</h3>

<p>(list) If any checks fail, then a list of validation issues are returned along with a warning. If no issues are found then NULL is returned.
</p>


<h3>Note</h3>

<p>This function is used by ecocomDP creators (to ensure what has been created is valid), maintainers (to improve the quality of archived ecocomDP datasets), and users (to ensure the data being used is free of error).
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Write a set of ecocomDP tables to file for validation
mydir &lt;- paste0(tempdir(), "/dataset")
dir.create(mydir)
write_tables(
  path = mydir,
  observation = ants_L1$tables$observation, 
  observation_ancillary = ants_L1$tables$observation_ancillary,
  location = ants_L1$tables$location,
  location_ancillary = ants_L1$tables$location_ancillary,
  taxon = ants_L1$tables$taxon,
  taxon_ancillary = ants_L1$tables$taxon_ancillary,
  dataset_summary = ants_L1$tables$dataset_summary,
  variable_mapping = ants_L1$tables$variable_mapping)

# Validate
validate_data(path = mydir)

# Clean up
unlink(mydir, recursive = TRUE)

## End(Not run)

</code></pre>


</div>