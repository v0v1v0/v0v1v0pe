<div class="container">

<table style="width: 100%;"><tr>
<td>bayestax2df</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Converts the output of DADA2's assignTaxonomy, which implements a naive
bayesian classifier, into a dataframe compatible with the algorithms used in
ensembleTax</h2>

<h3>Description</h3>

<p>Converts the output of DADA2's assignTaxonomy, which implements a naive
bayesian classifier, into a dataframe compatible with the algorithms used in
ensembleTax
</p>


<h3>Usage</h3>

<pre><code class="language-R">bayestax2df(
  tt,
  db = "pr2",
  ranks = NULL,
  boot = 0,
  rubric = NULL,
  return.conf = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tt</code></td>
<td>
<p>The taxonomy table output by DADA2's assignTaxonomy function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>The database you ran assignTaxonomy against. Either "pr2", "silva",
"rdp", or "gg" are supported. You may set to NULL and include a character
vector of rank (column) names for other databases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranks</code></td>
<td>
<p>NULL, or a character vector of column names if db is set to NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot</code></td>
<td>
<p>The bootstrap threshold below which taxonomic assignments should
be set to NA. This can also be done with DADA2's assignTaxonomy but is
included here for convenience.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rubric</code></td>
<td>
<p>NULL, or a DNAStringSet (see Biostrings package) with ASV
sequences named by your preferred ASV identifier. Both the ASV sequence and
identifier will be merged with the output dataframe. If NULL, ASV-identifying
data are excluded in the output dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.conf</code></td>
<td>
<p>If TRUE, returns a list where the first element is your
formatted taxonomy table and the second element is a dataframe of bootstrap
confidence values. If FALSE, your formatted taxonomy table is returned as a
dataframe.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For consistency with dada2's assignTaxonomy function, when used with
Silva, RDP, or GreenGenes it subsamples the ranks c("domain", "phylum",
"class", "order", "family", "genus"). Set db = NULL and supply ranks for
databases that aren't directly supported. If a rubric is supplied with
ASV-identifying meta-data (this is highly recommended), the output taxonomy
table is sorted by the (first returned column of) ASV-identifying data.
</p>


<h3>Value</h3>

<p>a dataframe formatted for use with taxmapper and/or ensembleTax
</p>


<h3>Author(s)</h3>

<p>Dylan Catlett
</p>
<p>Connie Liang
</p>


<h3>See Also</h3>

<p>idtax2df, ensembleTax, taxmapper
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("bayes.sample")
data("rubric.sample")
head(bayes.sample)
head(rubric.sample)
df &lt;- bayestax2df(tt = bayes.sample, db = "pr2", boot = 0, rubric = NULL,
return.conf = FALSE)
head(df)
df &lt;- bayestax2df(tt = bayes.sample, db = "pr2", boot = 0,
rubric = rubric.sample, return.conf = FALSE)
head(df)
df &lt;- bayestax2df(tt = bayes.sample, db = "pr2", boot = 60,
rubric = rubric.sample, return.conf = FALSE)
head(df)
df &lt;- bayestax2df(tt = bayes.sample, db = "pr2", boot = 60,
rubric = rubric.sample, return.conf = TRUE)
head(df)

</code></pre>


</div>