<div class="container">

<table style="width: 100%;"><tr>
<td>signal_filter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter a seismic signal in the time or frequency domain</h2>

<h3>Description</h3>

<p>The function filters the input signal vector in the time or
frequency domain.
</p>


<h3>Usage</h3>

<pre><code class="language-R">signal_filter(
  data,
  f,
  fft = FALSE,
  dt,
  type,
  shape = "butter",
  order = 2,
  p,
  zero = FALSE,
  lazy = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>eseis</code> object, <code>numeric</code> vector or list of 
objects, data set to be processed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p><code>Numeric</code> value or vector of length two, lower and/or 
upper cutoff frequencies (Hz).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fft</code></td>
<td>
<p><code>Logical</code> value, option to filter in the time domain 
(<code>fft = FALSE</code>) or the frequency domain (<code>fft = TRUE</code>). Default 
is (<code>fft = FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p><code>Numeric</code> value, sampling rate If omitted, <code>dt</code> 
is set to 1/200.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p><code>Character</code> value, type of filter, one out of 
<code>"LP"</code> (low pass), <code>"HP"</code> (high pass), <code>"BP"</code> (band 
pass) and <code>"BR"</code> (band rejection). If omitted, the type is interpreted 
from <code>f</code>. If <code>f</code> is of length two, <code>type</code> is set to 
<code>"BP"</code>. If <code>f</code> is of length one, <code>type</code> is set to 
<code>"HP"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p><code>Character</code> value, one out of <code>"butter"</code> 
(Butterworth), default is <code>"butter"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p><code>Numeric</code> value, order of the filter, default 
is <code>2</code>. Only needed if <code>data</code> is no <code>eseis</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p><code>Numeric</code> value, fraction of the signal to be tapered. If 
omitted, no tapering will be done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero</code></td>
<td>
<p><code>Logical</code> value, option to run filter in zero phase 
shift mode. Note that this will triple the length of the signal vector 
during calculation. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lazy</code></td>
<td>
<p><code>Logical</code> value, option to pre- and post-process data, 
including detrending, demeaning and tapering (<code>p = 0.02</code>). Default 
if <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>Numeric</code> vector or list of vectors, filtered signal vector.
</p>


<h3>Author(s)</h3>

<p>Michael Dietze
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## load example data set
data(rockfall)

## filter data set by bandpass filter between 1 and 90 Hz
rockfall_bp &lt;- signal_filter(data = rockfall_eseis, 
                             f = c(1, 90))
                             
## taper signal to account for edge effects
rockfall_bp &lt;- signal_taper(data = rockfall_bp, 
                            n = 2000)

## plot filtered signal
plot_signal(data = rockfall_bp)

## compare time domain versus frequency domain filtering
rockfall_td &lt;- signal_filter(data = rockfall_eseis, 
                             f = c(10, 40), 
                             fft = FALSE)
                             
rockfall_td_sp &lt;- signal_spectrum(data = rockfall_td)

rockfall_fd &lt;- signal_filter(data = rockfall_eseis, 
                             f = c(10, 40), 
                             fft = TRUE)
                             
rockfall_fd_sp &lt;- signal_spectrum(data = rockfall_fd)

plot_spectrum(data = rockfall_td_sp)
plot_spectrum(data = rockfall_fd_sp)
                     
</code></pre>


</div>