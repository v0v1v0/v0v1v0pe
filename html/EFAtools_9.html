<div class="container">

<table style="width: 100%;"><tr>
<td>CD</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Comparison Data</h2>

<h3>Description</h3>

<p>Factor retention method introduced by Ruscio and Roche (2012). The code was
adapted from the CD code by Auerswald and Moshagen (2017) available at
<a href="https://osf.io/x5cz2/?view_only=d03efba1fd0f4c849a87db82e6705668">https://osf.io/x5cz2/?view_only=d03efba1fd0f4c849a87db82e6705668</a>
</p>


<h3>Usage</h3>

<pre><code class="language-R">CD(
  x,
  n_factors_max = NA,
  N_pop = 10000,
  N_samples = 500,
  alpha = 0.3,
  use = c("pairwise.complete.obs", "all.obs", "complete.obs", "everything",
    "na.or.complete"),
  cor_method = c("pearson", "spearman", "kendall"),
  max_iter = 50
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>data.frame or matrix. Dataframe or matrix of raw data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_factors_max</code></td>
<td>
<p>numeric. The maximum number of factors to test against.
Larger numbers will increase the duration the procedure takes, but test more
possible solutions. If left NA (default) the maximum number of factors for
which the model is still over-identified (df &gt; 0) is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_pop</code></td>
<td>
<p>numeric. Size of finite populations of comparison data. Default
is 10000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_samples</code></td>
<td>
<p>numeric. Number of samples drawn from each population.
Default is 500.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>numeric. The alpha level used to test the significance of the
improvement added by an additional factor. Default is .30.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>character. Passed to <code>stats::cor</code>. Default
is "pairwise.complete.obs". However, for the comparison data procedure,
<code>NA</code> values will be excluded using na.omit(). If missing data should
be handled differently (e.g., imputation), do this before passing the data to
<code>CD()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor_method</code></td>
<td>
<p>character. Passed to <code>stats::cor</code>.
Default is "pearson".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_iter</code></td>
<td>
<p>numeric. The maximum number of iterations to perform after
which the iterative PAF procedure is halted. Default is 50.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>"Parallel analysis (PA) is an effective stopping rule that compares
the eigenvalues of randomly generated data with those for the actual data.
PA takes into account sampling error, and at present it is widely considered
the best available method. We introduce a variant of PA that goes even further
by reproducing the observed correlation matrix rather than generating random
data. Comparison data (CD) with known factorial structure are first generated
using 1 factor, and then the number of factors is increased until the
reproduction of the observed eigenvalues fails to improve significantly"
(Ruscio &amp; Roche, 2012, p. 282).
</p>
<p>The CD implementation here is based on the code by Ruscio and Roche (2012), but
is slightly adapted to increase speed by performing the principal axis factoring
using a C++ based function.
</p>
<p>Note that if the data contains missing values, these will be removed for the
comparison data procedure using <code>stats::na.omit</code>. If
missing data should be treated differently, e.g., by imputation, do this outside
<code>CD</code> and then pass the complete data.
</p>
<p>The <code>CD</code> function can also be called together with other factor retention
criteria in the <code>N_FACTORS</code> function.
</p>


<h3>Value</h3>

<p>A list of class CD containing
</p>
<table>
<tr style="vertical-align: top;">
<td><code>n_factors</code></td>
<td>
<p>The number of factors to retain according to comparison data results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eigenvalues</code></td>
<td>
<p>A vector containing the eigenvalues of the entered data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RMSE_eigenvalues</code></td>
<td>
<p>A matrix containing the RMSEs between the eigenvalues of the generated data and those of the entered data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>settings</code></td>
<td>
<p>A list of the settings used.</p>
</td>
</tr>
</table>
<h3>Source</h3>

<p>Auerswald, M., &amp; Moshagen, M. (2019). How to determine the number of
factors to retain in exploratory factor analysis: A comparison of extraction
methods under realistic conditions. Psychological Methods, 24(4), 468–491.
https://doi.org/10.1037/met0000200
</p>
<p>Ruscio, J., &amp; Roche, B. (2012). Determining the number of factors to
retain in an exploratory factor analysis using comparison data of known
factorial structure. Psychological Assessment, 24, 282–292.
doi: 10.1037/a0025697
</p>


<h3>See Also</h3>

<p>Other factor retention criteria: <code>EKC</code>,
<code>HULL</code>, <code>KGC</code>, <code>PARALLEL</code>, <code>SMT</code>
</p>
<p><code>N_FACTORS</code> as a wrapper function for this and all
the above-mentioned factor retention criteria.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# determine n factors of the GRiPS
CD(GRiPS_raw)

# determine n factors of the DOSPERT risk subscale
CD(DOSPERT_raw)

</code></pre>


</div>