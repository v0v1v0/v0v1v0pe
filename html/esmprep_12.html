<div class="container">

<table style="width: 100%;"><tr>
<td>esComplete</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>esComplete</h2>

<h3>Description</h3>

<p>esComplete checks whether each ESM questionnaire is complete as specified by the user.
</p>


<h3>Usage</h3>

<pre><code class="language-R">esComplete(dfList, lastItemList)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dfList</code></td>
<td>
<p>a list. Each element of the list must be a data.frame. Each data.frame is a separate raw ESM dataset/an ESM questionnaire version. If there is just one ESM version the list therefore contains one data.frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lastItemList</code></td>
<td>
<p>a list. Each list element too must be a list. Each of these inner lists must contain exactly 4 elements:
</p>

<ol>
<li>
<p> First, a character string specifying the ESM questionnaire version
</p>
</li>
<li>
<p> Second, a character string specifying the penultimate item of its respective ESM questionnaire version (i.e. the column name of the raw ESM dataset)
</p>
</li>
<li>
<p> Third, a vector of at least one numeric value, specifying the condition upon which the last item is expected to contain a value, so that the questionnaire can be considered complete, and
</p>
</li>
<li>
<p> Fourth, a character string specifying the last item of its respective ESM questionnaire version (i.e. the column name of the raw ESM dataset).
</p>
</li>
</ol>
<p>If there is no condition that determines which is the last item expected to contain a value, then the second and the third argument will have to be set to NA. See <strong>Details</strong> for more information.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If due to some technical error an ESM questionnaire does not contain an end date and/or end time it might be a complete questionnaire nonetheless. Completion can be defined as the last item of the questionnaire containing valid data. In addition it is possible that the value in the penultimate item sets a condition upon which the questionnaire's completion is achieved either if the penultimate item contains a specific value (e.g. 0), which might signal that the questionnaire ends right there. However, if the penultimate item contains a value greater than 0, this might signal that the questionnaire's last item is expected to contain valid data.
</p>


<h3>Value</h3>

<p><code>dfList</code> with additional column INCOMPLETE denoting an ESM questionnaire to be complete (= 0) or incomplete (= 1). If within the 2nd argument <code>lastItemList</code> at least one of the ESM questionnaire versions are passed more than once, then the additional columns will be named INCOMPLETE_i, where i specifies the number of how often an ESM version has been passed (see <strong>Examples</strong>).
</p>


<h3>See Also</h3>

<p>Exemplary code (fully executable) in the documentation of <code>esmprep</code> (function 13 of 29).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o
# Prerequisites in order to execute esComplete. Start ---------------
# Use example list delivered with the package
RELEVANTVN_ES &lt;- RELEVANTVN_ESext
# keyLsNew is a list of datasets, also delivered with the package
rmInvLs &lt;- rmInvalid(keyLsNew, RELEVANTVN_ES)
plausibItems &lt;- esItems(dfList=rmInvLs[["dfValid"]], RELEVANTVN_ES)
# Prerequisites in order to execute esComplete. End -----------------
# -------------------------------------------------------
# Run function 13 of 29; see esmprep functions' hierarchy.
# -------------------------------------------------------
# Generate second argument of function 'esComplete'. It's strongly recommended
# to read the explantion of this 2nd argument in the esmprep vignette, function
# 'esComplete'.
lastItemList &lt;- list(
# If in survey version "morningTestGroup" variable "V6" contains the value 0,
# then variable "V6_1" is the last item expected to contain data, else "V6" is the last item
# expected to contain data.
list("morningTestGroup", "V6", 0, "V6_1"),
# In survey version "dayTestGroup" variable "V7" is the last item expected to contain data;
# unlike above, no conditions; NA as 2nd and 3rd element of the inner list are mandatory.
list("dayTestGroup", NA, NA, "V7"),
# Information of all further ESM versions are passed accordingly:
list("eveningTestGroup", "V9", 1, "V9_1"),
list("morningControlGroup", "V6", 0, "V6_1"),
list("dayControlGroup", NA, NA, "V7"),
# The last ESM version has 2 conditions, therefore it is passed 2 times:
# If V8_1 contains a value between 1 and 5, then V8_3 is the last item expected to
# contain data.
list("eveningControlGroup", "V8_1", 1:5, "V8_3"),
# If V8_1 contains the value 0, then V8_2 is the last item expected to contain data.
list("eveningControlGroup", "V8_1", 0, "V8_2"))
# Apply function 'esComplete'. rmInvLs[["dfValid"]] is one of the results of function
# rmInvalid.
isCompleteLs &lt;- esComplete(rmInvLs[["dfValid"]], lastItemList)
# o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o=o
</code></pre>


</div>