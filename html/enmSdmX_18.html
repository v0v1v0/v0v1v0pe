<div class="container">

<table style="width: 100%;"><tr>
<td>elimCellDuplicates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Thin spatial points so that there is but one per raster cell</h2>

<h3>Description</h3>

<p>This function thins spatial points such that no more than one point falls within each cell of a reference raster. If more than one point falls in a cell, the first point in the input data is retained unless the user specifies a priority for keeping points.
</p>


<h3>Usage</h3>

<pre><code class="language-R">elimCellDuplicates(x, rast, longLat = NULL, priority = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Points. This can be either a <code>data.frame</code>, <code>matrix</code>, <code>SpatVector</code>, or <code>sf</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rast</code></td>
<td>
<p><code>SpatRaster</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>longLat</code></td>
<td>
<p>Two-element character list <em>or</em> two-element integer list. If <code>x</code> is a <code>data.frame</code>, then this should be a character list specifying the names of the fields in <code>x</code> <em>or</em> a two-element list of integers that correspond to longitude and latitude (in that order). For example, <code>c('long', 'lat')</code> or <code>c(1, 2)</code>. If <code>x</code> is a <code>matrix</code>, then this is a two-element list indicating the column numbers in <code>x</code> that represent longitude and latitude. For example, <code>c(1, 2)</code>. If <code>x</code> is an <code>sf</code> object then this is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priority</code></td>
<td>
<p>Either <code>NULL</code>, in which case for every cell with more than one point the first point in <code>x</code> is chosen, or a numeric or character list indicating preference for some points over others when points occur in the same cell. There should be the same number of elements in <code>priority</code> as there are points in <code>x</code>. Priority is assigned by the natural sort order of <code>priority</code>. For example, for 3 points in a cell for which <code>priority</code> is <code>c(2, 1, 3)</code>, the script will retain the second point and discard the rest. Similarly, if <code>priority</code> is <code>c('z', 'y', 'x')</code> then the third point will be chosen. Priorities assigned to points in other cells are ignored when thinning points in a particular cell.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Object of class <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# This example can take &gt;10 second to run.

library(terra)
x &lt;- data.frame(
    long=c(-90.1, -90.1, -90.2, 20),
    lat=c(38, 38, 38, 38), point=letters[1:4]
)
rast &lt;- rast() # empty raster covering entire world with 1-degree resolution
elimCellDuplicates(x, rast, longLat=c(1, 2))
elimCellDuplicates(x, rast, longLat=c(1, 2), priority=c(3, 2, 1, 0))


</code></pre>


</div>