<div class="container">

<table style="width: 100%;"><tr>
<td>float</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate floated variances</h2>

<h3>Description</h3>

<p>Given a fitted  model object, the <code>float()</code> function calculates
floating variances (a.k.a. quasi-variances) for a given factor in the model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">float(object, factor, iter.max=50)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a fitted model object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor</code></td>
<td>
<p>character string giving the name of the factor of
interest. If this is not given, the first factor in the model is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter.max</code></td>
<td>
<p>Maximum number of iterations for EM algorithm</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>float()</code> function implements the "floating absolute risk"
proposal of Easton, Peto and Babiker (1992). This is an alternative way
of presenting parameter estimates for factors in regression models,
which avoids some of the difficulties of treatment contrasts. It was
originally designed for epidemiological studies of relative risk, but
the idea is widely applicable.
</p>
<p>Treatment contrasts are not orthogonal. Consequently, the variances of
treatment contrast estimates may be inflated by a poor choice of
reference level, and the correlations between them may also be high.
The <code>float()</code> function associates each level of the factor with a
"floating" variance (or quasi-variance), including the reference
level.  Floating variances are not real variances, but they can be
used to calculate the variance error of contrast by treating each
level as independent.
</p>
<p>Plummer (2003) showed that floating variances can be derived from a
covariance structure model applied to the variance-covariance matrix
of the contrast estimates. This model can be fitted by minimizing the
Kullback-Leibler information divergence between the true distribution
of the parameter estimates and the simplified distribution given by
the covariance structure model. Fitting is done using the EM
algorithm.
</p>
<p>In order to check the goodness-of-fit of the floating variance model,
the <code>float()</code> function compares the standard errors predicted by
the model with the standard errors derived from the true
variance-covariance matrix of the parameter contrasts. The maximum and
minimum ratios between true and model-based standard errors are
calculated over all possible contrasts. These should be within 5
percent, or the use of the floating variances may lead to invalid
confidence intervals.
</p>


<h3>Value</h3>

<p>An object of class <code>floated</code>. This is a list with the following
components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>
<p>A vector of coefficients. These are the same as the
treatment contrasts but the reference level is present with
coefficient 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>A vector of floating (or quasi-) variances</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limits</code></td>
<td>
<p>The bounds on the accuracy of standard errors over all
possible contrasts</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Menezes(1999) and Firth and Menezes (2004) take a slightly different
approach to this problem, using a pseudo-likelihood approach to fit
the quasi-variance model. Their work is implemented in the package
qvcalc.
</p>


<h3>Author(s)</h3>

<p>Martyn Plummer</p>


<h3>References</h3>

<p>Easton DF, Peto J and Babiker GAG (1991) Floating absolute risk: An
alternative to relative risk in survival and case control analysis
avoiding an arbitrary reference group. <em>Statistics in Medicine</em>,
<b>10</b>, 1025-1035.
</p>
<p>Firth D and Mezezes RX (2004)  Quasi-variances.
<em>Biometrika</em> <b>91</b>, 65-80.
</p>
<p>Menezes RX(1999)  More useful standard errors for group and factor
effects in generalized linear models.  <em>D.Phil. Thesis</em>,
Department of Statistics, University of Oxford.
</p>
<p>Plummer M (2003) Improved estimates of floating absolute risk,
<em>Statistics in Medicine</em>, <b>23</b>, 93-104.
</p>


<h3>See Also</h3>

<p><code>ftrend</code>, <code>qvcalc</code></p>


</div>