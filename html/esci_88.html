<div class="container">

<table style="width: 100%;"><tr>
<td>meta_mdiff_two</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate meta-analytic difference in means across multiple two-group studies.</h2>

<h3>Description</h3>

<p><code>meta_mdiff_two</code> is suitable for synthesizing across multiple two-group
studies (paired or independent) with a continuous outcome measure.  It takes
in raw data from each study.  If all studies used the same measurement scale,
a meta-analytic raw-score difference can be returned.  If studies used
different scales, a standardized mean difference can be returned.
Studies can be all paired, all independent, or a mix.  Equal variance can
be assumed, or not.  If standardized mean difference is the output, it is
d_s when equal variance is assumed and d_avg when equal variance is not
assumed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">meta_mdiff_two(
  data,
  comparison_means,
  comparison_sds,
  comparison_ns,
  reference_means,
  reference_sds,
  reference_ns,
  r = NULL,
  labels = NULL,
  moderator = NULL,
  contrast = NULL,
  effect_label = "My effect",
  reported_effect_size = c("mean_difference", "smd_unbiased", "smd"),
  assume_equal_variance = FALSE,
  random_effects = TRUE,
  conf_level = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame or tibble</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparison_means</code></td>
<td>
<p>Set of comparison_group means, 1 per study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparison_sds</code></td>
<td>
<p>Set of comparison_group standard deviations, 1
per study, all &gt; 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparison_ns</code></td>
<td>
<p>Set of comparison_group sample sizes, positive integers,
1 for each study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference_means</code></td>
<td>
<p>Set of reference_group means, 1 per study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference_sds</code></td>
<td>
<p>Set of comparison_group standard deviations, 1
per study, all &gt; 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference_ns</code></td>
<td>
<p>Set of reference_group sample sizes, positive integers,
1 for each study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>Optional correlation between measures for w-s studies, NA otherwise</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>An optional collection of study labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moderator</code></td>
<td>
<p>An optional factor to analyze as a categorical moderator,
must have k &gt; 2 per groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrast</code></td>
<td>
<p>An optional contrast to estimate between moderator levels;
express as a vector of contrast weights with 1 weight per moderator level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effect_label</code></td>
<td>
<p>Optional character giving a human-friendly name of
the effect being synthesized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reported_effect_size</code></td>
<td>
<p>Character specifying effect size to return:
Must be one of 'mean_difference', 'smd_unbiased' (to return an unbiased
Cohen's d_s or d_avg) or 'smd' (to return d_s or d_avg without correction
for bias).  Defaults to mean_difference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assume_equal_variance</code></td>
<td>
<p>Defaults to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random_effects</code></td>
<td>
<p>TRUE for random effect model; FALSE for fixed effects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_level</code></td>
<td>
<p>The confidence level for the confidence interval.  Given in
decimal form.  Defaults to 0.95.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Once you generate an estimate with this function, you can visualize
it with <code>plot_meta()</code>.
</p>
<p>The meta-analytic effect size, confidence interval and heterogeneity
estimates all come from <code>metafor::rma()</code>.
</p>
<p>The diamond ratio and its confidence interval come from
<code>CI_diamond_ratio()</code>.
</p>
<p>If reported_effect_size is smd_unbiased or smd the conversion to Cohen's d
is handled by <code>CI_smd_ind_contrast()</code>.
</p>


<h3>Value</h3>

<p>An esci-estimate object; a list of data frames and properties.
Returned tables include:
</p>

<ul>
<li> <p><strong>es_meta</strong> - A data frame of meta-analytic effect sizes.  If a moderator was
defined, there is an additional row for each level of the moderator.
</p>

<ul>
<li> <p><em>effect_label</em> -  Study label
</p>
</li>
<li> <p><em>effect_size</em> - Effect size
</p>
</li>
<li> <p><em>LL</em> - Lower bound of conf_level% confidence interval
</p>
</li>
<li> <p><em>UL</em> - Upper bound of conf_level% confidence interval
</p>
</li>
<li> <p><em>SE</em> - Expected standard error
</p>
</li>
<li> <p><em>k</em> - Number of studies
</p>
</li>
<li> <p><em>diamond_ratio</em> - ratio of random to fixed effects meta-analytic effect sizes
</p>
</li>
<li> <p><em>diamond_ratio_LL</em> - lower bound of conf_level% confidence interval for diamond ratio
</p>
</li>
<li> <p><em>diamond_ratio_UL</em> - upper bound of conf_level% confidence interval for diamond ratio
</p>
</li>
<li> <p><em>I2</em> -  I2 measure of heterogeneity
</p>
</li>
<li> <p><em>I2_LL</em> - Lower bound of conf_level% confidence interval for I2
</p>
</li>
<li> <p><em>I2_UL</em> - upper bound of conf_level% confidence interval for I2
</p>
</li>
<li> <p><em>PI_LL</em> - lower bound of conf_level% of prediction interval
</p>
</li>
<li> <p><em>PI_UL</em> - upper bound of conf_level% of prediction interval
</p>
</li>
<li> <p><em>p</em> - p value for the meta-analytic effect size, based on null of exactly 0
</p>
</li>
<li>
<p> *width - width of the effect-size confidence interval
</p>
</li>
<li> <p><em>FE_effect_size</em> - effect size of the fixed-effects model (regardless of if fixed effects was selected
</p>
</li>
<li> <p><em>RE_effect_size</em> - effect size of the random-effects model (regardless of if random effects was selected
</p>
</li>
<li> <p><em>FE_CI_width</em> - width of the fixed-effects confidence interval, used to calculate diamond ratio
</p>
</li>
<li> <p><em>RE_CI_width</em> - width of the fixed-effects confidence interval, used to calculate diamond ratio
</p>
</li>
</ul>
</li>
<li> <p><strong>es_heterogeneity</strong> - A data frame of of heterogeneity values and
conf_level% CIs for the meta-analytic effect size.  If a moderator was defined
also reports heterogeneity estimates for each level of the moderator.
</p>

<ul>
<li> <p><em>effect_label</em> - study label
</p>
</li>
<li> <p><em>moderator_variable_name</em> - if moderator passed, gives name of the moderator
</p>
</li>
<li> <p><em>moderator_level</em> - 'Overall' and each level of moderator, if passed
</p>
</li>
<li> <p><em>measure</em> - Name of the measure of heterogeneity
</p>
</li>
<li> <p><em>estimate</em> - Value of the heterogeneity estimate
</p>
</li>
<li> <p><em>LL</em> - lower bound of conf_level% confidence interval
</p>
</li>
<li> <p><em>UL</em> - upper bound of conf_level% confidence interval
</p>
</li>
</ul>
</li>
<li> <p><strong>raw_data</strong> - A data from with one row for each study that was passed
</p>

<ul>
<li> <p><em>label</em> - study label
</p>
</li>
<li> <p><em>effect_size</em> - effect size
</p>
</li>
<li> <p><em>weight</em> - study weight in the meta analysis
</p>
</li>
<li> <p><em>sample_variance</em> - expected level of sampling variation
</p>
</li>
<li> <p><em>SE</em> - expected standard error
</p>
</li>
<li> <p><em>LL</em> - lower bound of conf_level% confidence interval
</p>
</li>
<li> <p><em>UL</em> - upper bound of conf_level% confidence interval
</p>
</li>
<li> <p><em>mean</em> - used to calculate study p value; this is the d value entered for the study
</p>
</li>
<li> <p><em>sd</em> - use to calculate study p value; set to 1 for each study
</p>
</li>
<li> <p><em>n</em> - study sample size
</p>
</li>
<li> <p><em>p</em> - p value for the study, based on null of exactly 0
</p>
</li>
</ul>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># Data set -- see Introduction to the New Statistics, 2nd edition
data("data_mccabemichael_brain")

# Meta-analysis: random effects, no moderator
estimate &lt;- esci::meta_mdiff_two(
  data = esci::data_mccabemichael_brain,
  comparison_means = "M Brain",
  comparison_sds = "s Brain",
  comparison_ns = "n Brain",
  reference_means = "M No Brain",
  reference_sds = "s No Brain",
  reference_ns = "n No Brain",
  labels = "Study name",
  effect_label = "Brain Photo Rating - No Brain Photo Rating",
  assume_equal_variance = TRUE,
  random_effects = TRUE
)
# Forest plot
myplot_forest &lt;- esci::plot_meta(estimate)


# Meta-analysis: random effects, moderator
estimate_moderator &lt;- esci::meta_mdiff_two(
  data = esci::data_mccabemichael_brain,
  comparison_means = "M Brain",
  comparison_sds = "s Brain",
  comparison_ns = "n Brain",
  reference_means = "M No Brain",
  reference_sds = "s No Brain",
  reference_ns = "n No Brain",
  labels = "Study name",
  moderator = "Research group",
  effect_label = "Brain Photo Rating - No Brain Photo Rating",
  assume_equal_variance = TRUE,
  random_effects = TRUE
)
# Forest plot
myplot_forest_moderator &lt;- esci::plot_meta(estimate_moderator)


# Meta-analysis: random effects, moderator, output d_s
estimate_moderator_d &lt;- esci::meta_mdiff_two(
  data = esci::data_mccabemichael_brain,
  comparison_means = "M Brain",
  comparison_sds = "s Brain",
  comparison_ns = "n Brain",
  reference_means = "M No Brain",
  reference_sds = "s No Brain",
  reference_ns = "n No Brain",
  labels = "Study name",
  moderator = "Research group",
  effect_label = "Brain Photo Rating - No Brain Photo Rating",
  assume_equal_variance = TRUE,
  random_effects = TRUE
)
# Forest plot
myplot_forest_moderator_d &lt;- esci::plot_meta(estimate_moderator_d)


</code></pre>


</div>