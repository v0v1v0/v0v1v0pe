<div class="container">

<table style="width: 100%;"><tr>
<td>set_scenario</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set the scenario for your edible city</h2>

<h3>Description</h3>

<p>You can adjust different parameters to define different city scenarios.
The object must contain a field 'land_use' which describes the function or type of each feature.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_scenario(
  x,
  pGardens = 1,
  pVacant = 1,
  pRooftop = 1,
  edible_area_garden = c(0.02, 0.3),
  edible_area_vacant = c(0.52, 0.75),
  edible_area_rooftop = c(0.6, 0.62),
  min_area_garden = 10,
  min_area_vacant = 100,
  min_area_rooftop = 100,
  private_gardens_from = "Normal garden",
  vacant_from = "Vacant",
  rooftop_from = "Rooftop",
  pCommercial = 0,
  area_field = "flat_area",
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An 'sf' object with the urban model of your city and a 'land_use' field with categories of urban features.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pGardens</code></td>
<td>
<p>The proportion of private gardens (land_use == 'Gardens')
that will become edible gardens [0-1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pVacant</code></td>
<td>
<p>The proportion of vacant plot (land_use == 'Vacant') with 'area &gt;= min_area_vacant'
that will become edible gardens [0-1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pRooftop</code></td>
<td>
<p>The proportion of rooftops (land_use == 'Flat rooftop') with 'area &gt;= min_area_rooftop'
that will become edible rooftops [0-1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edible_area_garden</code></td>
<td>
<p>The proportion in a range of surface in a garden that is occupied by edible plants [0-1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edible_area_vacant</code></td>
<td>
<p>The proportion in a range of surface in a vacant plot that is occupied by edible plants [0-1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edible_area_rooftop</code></td>
<td>
<p>The proportion in a range of surface in a rooftop that is occupied by edible plants [0-1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_area_garden</code></td>
<td>
<p>The minimum area that a garden must have to become an edible garden.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_area_vacant</code></td>
<td>
<p>The minimum area that a vacant must have to become an community or commercial garden.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_area_rooftop</code></td>
<td>
<p>The minimum area that a flat rooftop must have to become an edible rooftop.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>private_gardens_from</code></td>
<td>
<p>The categories in 'land_uses' potentially converted to edible private gardens</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vacant_from</code></td>
<td>
<p>The categories in 'land_uses' potentially converted to community or commercial gardens</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rooftop_from</code></td>
<td>
<p>The categories in 'land_uses' potentially converted to edible rooftop
(community raised beds or commercial hydroponic)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pCommercial</code></td>
<td>
<p>The proportion of plots and rooftop that will be commercial. The rest will be community gardens
In rooftops it is equivalent to raised beds and hydroponic system respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area_field</code></td>
<td>
<p>The field to be used as the area of each feature. If NULL, the area is calculated with
sf::st_area()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>If 'TRUE', warnings about proportions not satisfied are not triggered.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When pGardens, pVacant or pRooftop is lower than 1, the gardens are selected randomly among
gardens with an area larger than 'min_area_*'.
However, when pCommercial &gt; 0, commercial gardens and hydroponic rooftops are
settled in the larger features, assuming that commercial initiatives have the power to acquire
the best spots.
</p>


<h3>Value</h3>

<p>An 'sf' object as 'x' with the respective proportion of gardens ('Edible private garden'),
vacant plots ('Community plot garden', 'Commercial plot garden') and rooftop gardens ('Community rooftop garden',
'Commercial hydroponic rooftop')
labeled as edible gardens.
</p>


<h3>Author(s)</h3>

<p>Josep Pueyo-Ros
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Set scenario with 50% of streets converted to community gardens
# randomly occupying between 40 and 60% of street's area.
scenario &lt;- set_scenario(city_example, pGardens = 0, pVacant = 0.5, pRooftop = 0,
                         edible_area_vacant = c(0.4, 0.6), vacant_from = "Streets")
table(scenario$land_use)

# Set scenario with 60% of rooftops converted to gardens, and 30% of those with commercial purpose.
scenario &lt;- set_scenario(city_example, pGardens = 0, pVacant = 0, pRooftop = 0.6, pCommercial = 0.3)
table(scenario$land_use)
</code></pre>


</div>