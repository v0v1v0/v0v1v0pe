<div class="container">

<table style="width: 100%;"><tr>
<td>expand.table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expand contingency table into individual-level data set</h2>

<h3>Description</h3>

<p>Expands contingency table or array into individual-level data set.
</p>


<h3>Usage</h3>

<pre><code class="language-R">expand.table(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>table or array with <code>dimnames(x)</code> and
<code>names(dimnames(x))</code>
</p>
</td>
</tr></table>
<h3>Details</h3>

<p>For educational purposes, one may want to convert a multi-dimensional
contingency table into an individual-level data frame. In R,
multi-dimensional contigency tables are represented by arrays. An
array can be created using the <code>array</code> command, or the
<code>table</code> command with 3 or more vectors (usually fields from a data
frame).
</p>
<p>It is this array, <code>x</code>, that is processed by
<code>expand.table</code>. In order to generate a data frame,
<code>expand.table</code> needs to process the field names and the possible
values for each field. The array x must have dimension names [i.e.,
<code>dimnames(x)</code>] and field names [i.e.,
<code>names(dimnames(x))</code>]. The <code>expand.table</code> function converts 
<code>names(dimnames(x))</code> to field names and the <code>dimnames(x)</code> to
factor levels for each field. Study the examples.
</p>
<p>An <code>ftable</code> object, say <code>ftab</code>, can be expanded using
<code>expand.table(as.table(ftab))</code>.
</p>
<p>Study the Titanic example to compare how a data frame can contain
either individual-level data or group-level data.
</p>


<h3>Value</h3>

<p>Returns an individual-level data frame


</p>


<h3>Author(s)</h3>

<p>Tomas Aragon, <a href="mailto:aragon@berkeley.edu">aragon@berkeley.edu</a>,
<a href="http://www.phdata.science">http://www.phdata.science</a>; Daniel Wollschlaeger,
<a href="mailto:dwoll@psychologie.uni-kiel.de">dwoll@psychologie.uni-kiel.de</a>,
<a href="http://www.uni-kiel.de/psychologie/dwoll/">http://www.uni-kiel.de/psychologie/dwoll/</a>
</p>


<h3>References</h3>

<p>none</p>


<h3>See Also</h3>

<p><code>expand.grid</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##Creating array using 'array' function and expanding it
tab &lt;- array(1:8, c(2, 2, 2))
dimnames(tab) &lt;- list(c("No","Yes"), c("No","Yes"), c("No","Yes"))
names(dimnames(tab)) &lt;- c("Exposure", "Disease", "Confounder")
tab
df &lt;- expand.table(tab)
df

##Creating array using 'table' function and expanding it
tab2 &lt;- table(Exposure = df$Exp, Disease = df$Dis, Confounder = df$Conf)
expand.table(tab2)

##Expanding ftable object
ftab2 &lt;- ftable(tab2)
ftab2
expand.table(as.table(ftab2))

##Convert Titanic data into individual-level data frame
data(Titanic)
expand.table(Titanic)[1:20,]

##Convert Titanic data into group-level data frame
as.data.frame(Titanic)

</code></pre>


</div>