<div class="container">

<table style="width: 100%;"><tr>
<td>DivProfile</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Diversity Profile of a metacommunity
</h2>

<h3>Description</h3>

<p>Calculate the diversity profiles (alpha, beta, gamma) of a metacommunity.
</p>


<h3>Usage</h3>

<pre><code class="language-R">DivProfile(q.seq = seq(0, 2, 0.1), MC, Biased = TRUE, Correction = "Best", 
  Tree = NULL, Normalize = TRUE, Z = NULL, 
  NumberOfSimulations = 0, Alpha = 0.05, 
  ShowProgressBar = TRUE, CheckArguments = TRUE)
is.DivProfile(x)
## S3 method for class 'DivProfile'
plot(x, ..., main = NULL, xlab = "Order of Diversity",
  ylab = NULL, Which = "All", 
  LineWidth = 2, ShadeColor = "grey75", BorderColor = "red")
## S3 method for class 'DivProfile'
autoplot(object, ..., main = NULL, xlab = "Order of Diversity",
  ylab = NULL, Which = "All", ShadeColor = "grey75", alpha = 0.3, BorderColor = "red", 
  labels = NULL, font.label = list(size=11, face="plain"),
  col = ggplot2::GeomLine$default_aes$colour,
  lty = ggplot2::GeomLine$default_aes$linetype,
  lwd = ggplot2::GeomLine$default_aes$size)
## S3 method for class 'DivProfile'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>q.seq</code></td>
<td>

<p>A numeric vector.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MC</code></td>
<td>

<p>A <code>MetaCommunity</code> object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Biased</code></td>
<td>

<p>Logical; if <code>FALSE</code>, a bias correction is appplied.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Correction</code></td>
<td>

<p>A string containing one of the possible corrections.
</p>
<p>The correction must be accepted by <code>AlphaEntropy</code>, <code>BetaEntropy</code> and <code>GammaEntropy</code>. <code>"Best"</code> is the default value.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tree</code></td>
<td>

<p>An object of class <code>hclust</code>, "phylo" (see <code>read.tree</code>), <code>phylog</code> or <code>PPtree</code>. The tree must be ultrametric.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Normalize</code></td>
<td>

<p>If <code>TRUE</code> (default), diversity is not affected by the height of the tree.<br>
If <code>FALSE</code>, diversity is proportional to the height of the tree.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>

<p>A relatedness matrix, <em>i.e.</em> a square matrix whose terms are all positive, strictly positive on the diagonal. Generally, the matrix is a similarity matrix, <em>i.e.</em> the diagonal terms equal 1 and other terms are between 0 and 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NumberOfSimulations</code></td>
<td>

<p>The number of simulations to run, 0 by default.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Alpha</code></td>
<td>

<p>The risk level, 5% by default.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ShowProgressBar</code></td>
<td>

<p>If <code>TRUE</code> (default), a progress bar is shown.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CheckArguments</code></td>
<td>

<p>Logical; if <code>TRUE</code>, the function arguments are verified. Should be set to <code>FALSE</code> to save time when the arguments have been checked elsewhere.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>An object to be tested or plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>

<p>The main title of the plot. Ignored if <code>Which = "All"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>

<p>The x axis label of the plots.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>

<p>The y axis label of the plot. Ignored if <code>Which = "All"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Which</code></td>
<td>

<p>May be <code>"Communities"</code>, <code>"Alpha"</code>, <code>"Beta"</code> or <code>"Gamma"</code> to respectively plot the alpha diversity of communities or the metacommunity's alpha, beta or gamma diversity. If <code>"All"</code> (default), all four plots are shown.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LineWidth</code></td>
<td>

<p>The width of the line that represents the actual profile.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ShadeColor</code></td>
<td>

<p>The color of the shaded confidence envelope.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BorderColor</code></td>
<td>

<p>The color of the bounds of the confidence envelope.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>

<p>Opacity of the confidence enveloppe, between 0 and 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>

<p>Vector of labels to be added to multiple plots. <code>"auto"</code> is the same as <code>c("a", "b", "c", "d)"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.label</code></td>
<td>

<p>A list of arguments to customize labels. See <code>ggarrange</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>

<p>The color of the geom objects. See "Color Specification" in <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>

<p>The type of the lines. See <code>lines</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>

<p>The width of the lines. See <code>lines</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>A <code>MCdiversity</code> object to be summarized or plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional arguments to be passed to the generic methods.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>Tree</code> is provided, the phylogenetic diversity is calculated.
</p>
<p><code>DivPart</code> partitions the diversity of the metacommunity into alpha and beta components. It supports estimation-bias correction.
</p>
<p>If <code>Tree</code> is provided, the phylogenetic diversity is calculated else if <code>Z</code> is not <code>NULL</code>, then similarity-based entropy is calculated.
</p>
<p>Beta diversity/entropy is calculated from Gamma and Alpha when bias correction is required, so community values are not available.
</p>
<p>If <code>NumberOfSimulations</code> is greater than 0, a bootstrap confidence interval is produced by simulating communities from a multinomial distribution following the observed frequencies (Marcon et al, 2012; 2014) and calculating their profiles.
</p>


<h3>Value</h3>

<p>A <code>DivProfile</code> object. It is a list:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>MetaCommunity</code></td>
<td>
<p>The name of the <code>MetaCommunity</code> object containing inventory data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Order</code></td>
<td>
<p>A vector containing the values of <code>q</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Biased</code></td>
<td>
<p>Logical. If <code>FALSE</code>, bias corrected values of diversity have been computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Correction</code></td>
<td>
<p>The estimation bias correction used to calculate diversity. Usually a string, but it may be a list if different corrections have been used in the estimation of phylodiversity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Method</code></td>
<td>
<p>The method used to calculate entropy ("HCDT", "Similarity-based").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tree</code></td>
<td>
<p>The phylogenetic or functional tree used to calculate phylodiversity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Normalized</code></td>
<td>
<p>Logical. Indicates whether phylodiversity is normalized or proportional to the height of the tree.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>The matrix used to calculate similarity-based entropy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CommunityAlphaDiversities</code></td>
<td>
<p>A matrix containing the alpha diversity of each community.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TotalAlphaDiversity</code></td>
<td>
<p>A vector containing the alpha diversity of communities for each order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BetaDiversity</code></td>
<td>
<p>A vector containing the beta diversity of communities for each order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GammaDiversity</code></td>
<td>
<p>A vector containing the gamma diversity of the metacommunity for each order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CommunityAlphaEntropies</code></td>
<td>
<p>A matrix containing the alpha entropy of each community.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TotalAlphaEntropy</code></td>
<td>
<p>A vector containing the alpha entropy of communities for each order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BetaEntropy</code></td>
<td>
<p>A vector containing the beta entropy of communities for each order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GammaEntropy</code></td>
<td>
<p>A vector containing the gamma entropy of the metacommunity for each order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Confidence envelopes</code></td>
<td>
<p>Total Alpha, Beta and Gamma Entropy and Diversity may come with a confidence envelope whose value is stored in twelve more vectors named suffixed Low or High, such as <code>GammaEntropyLow</code></p>
</td>
</tr>
</table>
<p><code>DivProfile</code> objects can be summarized and plotted.
</p>


<h3>Author(s)</h3>

<p>Eric Marcon &lt;Eric.Marcon@agroparistech.fr&gt;, Bruno Herault &lt;Bruno.Herault@cirad.fr&gt;
</p>


<h3>References</h3>

<p>Marcon, E., Herault, B., Baraloto, C. and Lang, G. (2012). The Decomposition of Shannon's Entropy and a Confidence Interval for Beta Diversity. <em>Oikos</em> 121(4): 516-522.
</p>
<p>Marcon, E., Scotti, I., Herault, B., Rossi, V. and Lang, G. (2014). Generalization of the partitioning of Shannon diversity. <em>PLOS One</em> 9(3): e90289.
</p>
<p>Marcon, E., Herault, B. (2015). Decomposing  Phylodiversity. <em>Methods in Ecology and Evolution</em> 6(3): 333-339.
</p>


<h3>See Also</h3>

<p><code>DivPart</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load Paracou data (number of trees per species in two 1-ha plot of a tropical forest)
data(Paracou618)
# Estimate diversity.
Profile &lt;- DivProfile(q.seq = seq(0, 2, 0.1), Paracou618.MC, Biased = FALSE)
plot(Profile)
autoplot(Profile)
summary(Profile)
</code></pre>


</div>