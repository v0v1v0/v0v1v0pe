<div class="container">

<table style="width: 100%;"><tr>
<td>DivPart</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Diversity Partition of a metacommunity
</h2>

<h3>Description</h3>

<p>Partitions the diversity of a metacommunity into alpha and beta components.
</p>


<h3>Usage</h3>

<pre><code class="language-R">DivPart(q = 1, MC, Biased = TRUE, Correction = "Best", Tree = NULL,
  Normalize = TRUE, Z = NULL, CheckArguments = TRUE)
is.DivPart(x)
## S3 method for class 'DivPart'
plot(x, ...)
## S3 method for class 'DivPart'
autoplot(object, col = ggplot2::GeomRect$default_aes$fill, 
  border = ggplot2::GeomRect$default_aes$colour, ...)
## S3 method for class 'DivPart'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>

<p>A number: the order of diversity. Default is 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MC</code></td>
<td>

<p>A <code>MetaCommunity</code> object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Biased</code></td>
<td>

<p>Logical; if <code>FALSE</code>, a bias correction is appplied.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Correction</code></td>
<td>

<p>A string containing one of the possible corrections.
</p>
<p>The correction must be accepted by <code>AlphaEntropy</code>, <code>BetaEntropy</code> and <code>GammaEntropy</code>. <code>"Best"</code> is the default value.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tree</code></td>
<td>

<p>An object of class <code>hclust</code>, "phylo" (see <code>read.tree</code>), <code>phylog</code> or <code>PPtree</code>. The tree must be ultrametric.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Normalize</code></td>
<td>

<p>If <code>TRUE</code> (default), diversity is not affected by the height of the tree.<br>
If <code>FALSE</code>, diversity is proportional to the height of the tree.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>

<p>A relatedness matrix, <em>i.e.</em> a square matrix whose terms are all positive, strictly positive on the diagonal. Generally, the matrix is a similarity matrix, <em>i.e.</em> the diagonal terms equal 1 and other terms are between 0 and 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CheckArguments</code></td>
<td>

<p>Logical; if <code>TRUE</code>, the function arguments are verified. Should be set to <code>FALSE</code> to save time when the arguments have been checked elsewhere.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>An object to be tested or plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>A <code>MCdiversity</code> object to be summarized or plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>

<p>The color used to fill the bars. See "Color Specification" in <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>

<p>The color of the borders around the bars. See <code>rect</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional arguments to be passed to the generic methods.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>DivPart</code> partitions the diversity of the metacommunity into alpha and beta components. It supports estimation-bias correction.
</p>
<p>If <code>Tree</code> is provided, the phylogenetic diversity is calculated else if <code>Z</code> is not <code>NULL</code>, then similarity-based entropy is calculated.
</p>
<p>Beta diversity/entropy is calculated from Gamma and Alpha when bias correction is required, so community values are not available.
</p>


<h3>Value</h3>

<p>A <code>DivPart</code> object. It is a list:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>MetaCommunity</code></td>
<td>
<p>The name of the <code>MetaCommunity</code> object containing inventory data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Order</code></td>
<td>
<p>The value of <code>q</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Biased</code></td>
<td>
<p>Logical. If <code>FALSE</code>, bias corrected values of diversity have been computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Correction</code></td>
<td>
<p>The estimation bias correction used to calculate diversity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Method</code></td>
<td>
<p>The method used to calculate entropy ("HCDT", "Similarity-based").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tree</code></td>
<td>
<p>The phylogenetic or functional tree used to calculate phylodiversity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Normalized</code></td>
<td>
<p>Logical. Indicates whether phylodiversity is normalized or proportional to the height of the tree.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>The matrix used to calculate similarity-based entropy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TotalAlphaDiversity</code></td>
<td>
<p>The alpha diversity of communities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TotalBetaDiversity</code></td>
<td>
<p>The beta diversity of communities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GammaDiversity</code></td>
<td>
<p>The gamma diversity of the metacommunity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CommunityAlphaDiversities</code></td>
<td>
<p>A vector containing the alpha diversity of each community.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TotalAlphaEntropy</code></td>
<td>
<p>The alpha entropy of communities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TotalBetaEntropy</code></td>
<td>
<p>The beta entropy of communities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GammaEntropy</code></td>
<td>
<p>The gamma entropy of the metacommunity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CommunityAlphaEntropies</code></td>
<td>
<p>A vector containing the alpha entropy of each community.</p>
</td>
</tr>
</table>
<p><code>DivPart</code> objects can be summarized and plotted.
</p>


<h3>Author(s)</h3>

<p>Eric Marcon &lt;Eric.Marcon@agroparistech.fr&gt;, Bruno Herault &lt;Bruno.Herault@cirad.fr&gt;
</p>


<h3>References</h3>

<p>Marcon, E., Herault, B., Baraloto, C. and Lang, G. (2012). The Decomposition of Shannon's Entropy and a Confidence Interval for Beta Diversity. <em>Oikos</em> 121(4): 516-522.
</p>
<p>Marcon, E., Scotti, I., Herault, B., Rossi, V. and Lang, G. (2014). Generalization of the partitioning of Shannon diversity. <em>PLOS One</em> 9(3): e90289.
</p>
<p>Marcon, E., Herault, B. (2015). Decomposing  Phylodiversity. <em>Methods in Ecology and Evolution</em> 6(3): 333-339.
</p>
<p>Marcon, E., Zhang, Z. and Herault, B. (2014). The decomposition of similarity-based diversity and its bias correction. <em>HAL</em> hal-00989454(version 3).
</p>


<h3>See Also</h3>

<p><code>DivProfile</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load Paracou data (number of trees per species in two 1-ha plot of a tropical forest)
data(Paracou618)
# Estimate Shannon diversity.
summary(DivPart(q = 1, Paracou618.MC, Biased = FALSE) -&gt; dp)
plot(dp)
</code></pre>


</div>