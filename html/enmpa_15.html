<div class="container">

<table style="width: 100%;"><tr>
<td>independent_eval1</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate final models using independent data</h2>

<h3>Description</h3>

<p>Final evaluation steps for model predictions using an independent dataset
(not used in model calibration).
</p>


<h3>Usage</h3>

<pre><code class="language-R">independent_eval1(prediction, threshold, test_prediction = NULL,
                  lon_lat = NULL)

independent_eval01(prediction, observation, lon_lat = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>(numeric) vector or <code>SpatRaster</code> object. If numeric,
predicted values in independent data (for <code>independent_eval01</code>),
or the entire area of prediction (for <code>independent_eval1</code>).
If <code>SpatRaster</code> prediction over the area of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>(numeric) the lowest predicted probability value for an
occurrence point. This value must be defined for presences-only data.
Default = NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_prediction</code></td>
<td>
<p>(numeric) vector of predictions for independent data.
Default = NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon_lat</code></td>
<td>
<p>matrix or data.frame of coordinates (longitude and latitude,
in that order) of independent data. Points must be located within the valid
area of <code>prediction</code>. For <code>independent_eval01</code> they
must correspond with values in observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observation</code></td>
<td>
<p>(numeric) vector of observed (known) values of presence
or absence to test against <code>prediction</code> (if numeric) or values of prediction
in <code>lon_lat</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.frame or list containing evaluation results.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Independent test data based on coordinates (lon/lat WGS 84) from presence
# and absences records
data("test", package = "enmpa")
head(test)

# Loading a model prediction
pred &lt;- terra::rast(system.file("extdata", "proj_out_wmean.tif",
                                package = "enmpa"))
terra::plot(pred)

# Evaluation using presence-absence data
independent_eval01(prediction = pred, observation = test$Sp,
                   lon_lat = test[, 2:3])

# Evaluation using presence-only data
test_p_only &lt;- test[test$Sp == 1, ]
th_maxTSS   &lt;- 0.1274123            # threshold based on the maxTSS

independent_eval1(prediction = pred, threshold = th_maxTSS,
                  lon_lat = test_p_only[, 2:3])
</code></pre>


</div>