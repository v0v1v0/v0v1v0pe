<div class="container">

<table style="width: 100%;"><tr>
<td>Earthtide</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Earthtide class</h2>

<h3>Description</h3>

<p>Class to generate synthetic earthtide signals.
</p>


<h3>Format</h3>

<p>An <code>R6Class</code> generator object
</p>


<h3>Usage</h3>

<pre>
et &lt;- Earthtide$new(
  utc = as.POSIXct("2017-01-01", tz = "UTC") + 0:(24 * 7) * 3600,
  latitude = 52.3868,
  longitude = 9.7144,
  catalog = "ksm04",
  wave_groups = data.frame(start = 0.0, end = 6.0))

et$predict(method = "gravity", n_thread = 1)
et$analyze(method = "gravity", n_thread = 1)
et$lod_tide()
et$pole_tide()
et$tide()
et$print()
</pre>


<h3>Arguments</h3>

<p><code>Earthtide$new</code>
</p>

<dl>
<dt>et: </dt>
<dd>
<p>An <code>Earthtide</code> object.</p>
</dd>
<dt>utc: </dt>
<dd>
<p>The date-time in UTC (POSIXct vector).</p>
</dd>
<dt>latitude: </dt>
<dd>
<p>The station latitude (WGS84) (degree) (numeric)
defaults to 0.0</p>
</dd>
<dt>longitude: </dt>
<dd>
<p>The station longitude (WGS84) (degree) (numeric)
defaults to 0.0</p>
</dd>
<dt>elevation: </dt>
<dd>
<p>The station ellipsoidal height (WGS84) (m) (numeric)
defaults to 0.0</p>
</dd>
<dt>azimuth: </dt>
<dd>
<p>Earth azimuth (numeric) defaults to 0 (degrees)</p>
</dd>
<dt>gravity: </dt>
<dd>
<p>Gravity at the station (m/s^2) (numeric) 0 to
estimate gravity from elevation and latitude.</p>
</dd>
<dt>earth_radius: </dt>
<dd>
<p>Radius of earth (m) (numeric) defaults to 6378136.3 </p>
</dd>
<dt>earth_eccen: </dt>
<dd>
<p>Eccentricity of earth (numeric)
defaults to 6.69439795140e-3</p>
</dd>
<dt>cutoff: </dt>
<dd>
<p>Cutoff amplitude for constituents (numeric)
defaults to 1e-6</p>
</dd>
<dt>wave_groups: </dt>
<dd>
<p>Two column data.frame having start and end of
frequency groups (data.frame). This data.frame must have two columns
with the names 'start', and 'end' signifying the start and end of the
wave groupings.  An optional third column 'multiplier' can be provided
to scale the particular wave group.  If column names do no match, the
inferred column positions are start, end, multiplier.</p>
</dd>
<dt>catalog: </dt>
<dd>
<p>Use the "hw95s" catalog or "ksm04" catalog (character).</p>
</dd>
<dt>eop: </dt>
<dd>
<p>User defined Earth Orientation Parameter (EOP) data.frame
with the following columns: datetime, ddt, ut1_utc, lod, x, y, dx, dy</p>
</dd>
<dt>...: </dt>
<dd>
<p>Currently not used.</p>
</dd>
</dl>
<p><code>Earthtide$predict, Earthtide$analyze</code>
</p>

<dl>
<dt>method: </dt>
<dd>
<p>For <code>predict</code> and <code>analyze</code>. One of "gravity",
"tidal_potential", "tidal_tilt", "vertical_displacement",
"horizontal_displacement", "n_s_displacement", "e_w_displacement",
"vertical_strain", "areal_strain", "volume_strain", "horizontal_strain"
or "ocean_tides".</p>
</dd>
<dt>astro_update: </dt>
<dd>
<p>For <code>predict</code> and <code>analyze</code>. How often to
update astro parameters in number of samples. This speeds up code but
may make it slightly less accurate.</p>
</dd>
<dt>return_matrix: </dt>
<dd>
<p>For <code>predict</code> and <code>analyze</code>. Return a
matrix of tidal values instead of data.frame. The datetime column will
not be present in this case (logical).</p>
</dd>
<dt>n_thread: </dt>
<dd>
<p>For <code>predict</code> and <code>analyze</code>. Number of threads
to use for parallel processing.</p>
</dd>
</dl>
<h3>Details</h3>

<p><code>$new(utc, latitude, longitude, elevation, azimuth, gravity,</code> <br><code>earth_radius, earth_eccen, cutoff, wave_groups, catalog, ...)</code> <br>
create a new <code>Earthtide</code> object and initialize catalog, station
and times.
</p>
<p><code>$predict(method, astro_argument, return_matrix)</code> generate a combined
synthetic Earth tide.
</p>
<p><code>$analyze(method, astro_argument, return_matrix, scale)</code> generate
components of the Earth tide for analysis.
</p>
<p><code>$lod_tide()</code> generate components of the LOD (Length Of Day) tide.
</p>
<p><code>$pole_tide()</code> generate components of the pole tide.
</p>
<p><code>$tide()</code> get the tide <code>data.frame</code>.
</p>
<p><code>$print()</code> print the <code>Earthtide</code> object.
</p>


<h3>References</h3>

<p>Hartmann, T., Wenzel, H.-G., 1995. The HW95 tidal potential catalogue. Geophys. Res. Lett. 22, 3553-3556. <a href="https://doi.org/10.1029/95GL03324">doi:10.1029/95GL03324</a>
</p>
<p>Kudryavtsev, S.M., 2004. Improved harmonic development of the Earth tide-generating potential. J. Geod. 77, 829-838. <a href="https://doi.org/10.1007/s00190-003-0361-2">doi:10.1007/s00190-003-0361-2</a>
</p>
<p>Wenzel, H.G., 1996. The nanogal software: Earth tide data processing package ETERNA 3.30. Bull. Inf. Mar√©es Terrestres, 124, pp.9425-9439.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
et &lt;- Earthtide$new(
  utc = as.POSIXct("2017-01-01", tz = "UTC") + 0:(24 * 7) * 3600,
  latitude = 52.3868,
  longitude = 9.7144,
  catalog = "ksm04",
  wave_groups = data.frame(start = 0.0, end = 6.0)
)

et$predict(method = "gravity")

plot(gravity ~ datetime, et$tide(), type = "l")

</code></pre>


</div>