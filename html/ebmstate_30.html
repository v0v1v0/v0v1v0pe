<div class="container">

<table style="width: 100%;"><tr>
<td>probtrans_mstate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute subject-specific or overall transition probabilities</h2>

<h3>Description</h3>

<p>This function is a wrapper for <code>mstate::probtrans</code>. Its purpose is to 
preclude the computation of (co-)variances of the transition probability 
estimator when the fitted Cox model is empirical Bayes. 
This help page is an adaptation of the <code>mstate::probtrans</code> help page.
</p>


<h3>Usage</h3>

<pre><code class="language-R">probtrans_mstate(object, ...)

## Default S3 method:
probtrans_mstate(
  object,
  predt,
  direction = c("forward", "fixedhorizon"),
  method = c("aalen", "greenwood"),
  variance = TRUE,
  covariance = FALSE,
  ...
)

## S3 method for class 'coxrfx'
probtrans_mstate(object, predt, direction = c("forward", "fixedhorizon"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An msfit object containing estimated cumulative hazards
for each of the transitions in the multi-state model and,
if standard errors are requested, (co)variances of these cumulative hazards
for each pair of transitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predt</code></td>
<td>
<p>A positive number indicating the prediction time. 
This is either the time at which the prediction is made (if direction= "forward") 
or the time for which the prediction is to be made (if direction="fixedhorizon").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>One of "forward" (default) or "fixedhorizon", indicating whether
prediction is forward or for a fixed horizon.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A character string specifying the type of variances to be computed
(so only needed if either variance or covariance is TRUE). Possible values are 
"aalen" or "greenwood".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variance</code></td>
<td>
<p>Logical value indicating whether standard errors are to be
calculated (default is TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariance</code></td>
<td>
<p>Logical value indicating whether covariances of transition
probabilities for different states are to be calculated (default is FALSE).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>probtrans_mstate</code> computes estimates of transition probabilities
for an object generated by <code>msfit_generic</code>. It calls the method 
<code>probtrans_mstate.coxrfx</code>, if the msfit object was generated
by msfit_generic.coxrfx, or the method probtrans_mstate.default otherwise.
Both methods are identical to the function <code>mstate::probtrans</code>. The 
only reserve is that <code>probtrans_mstate.coxrfx</code> does not allow the computation of
the (co-)variances of the transition probability estimator. In fact,
this computation relies on asymptotic results for the <em>fixed</em> effects Cox model
(see de Wreede et al, 2010, section 2.3.2), and <code>msfit_generic.coxrfx</code> produces
estimates of cumulative hazards under a random effects/empirical Bayes Cox model. 
</p>
<p><code>probtrans_mstate</code> should only be used for Markov models, as it relies
on product limit calculations.
</p>


<h3>Value</h3>

<p>An object of class <code>probtrans</code>. See the ‘value’ section in the
the help page of <code>probtrans</code> for details.
</p>


<h3>Author(s)</h3>

<p>Rui Costa, adapting the work of L. de Wreede,
M. Fiocco and H. Putter in the
<code>mstate</code> package.
</p>


<h3>References</h3>

<p>de Wreede LC, Fiocco M, and Putter H (2010). The mstate package for 
estimation and prediction in non- and semi-parametric multi-state and 
competing risks models. <em>Computer Methods and Programs in Biomedicine</em> 
<strong>99</strong>, 261–274.
</p>


<h3>See Also</h3>

<p><code>mstate::probtrans</code>; <code>mstate::msfit</code>; <code>msfit_generic</code>.
</p>


</div>