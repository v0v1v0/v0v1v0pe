<div class="container">

<table style="width: 100%;"><tr>
<td>Eddington</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>An R6 Class for Tracking Eddington Numbers for Cycling</h2>

<h3>Description</h3>

<p>The class will maintain the state of the algorithm, allowing for efficient
updates as new rides come in.
</p>


<h3>Warnings</h3>

<p>The implementation uses an experimental base R feature utils::hashtab.
</p>
<p>Cloning of <code>Eddington</code> objects is disabled. Additionally, <code>Eddington</code> objects
cannot be serialized; they cannot be carried between sessions using
base::saveRDS or base::save and then loaded later using base::readRDS
or base::load.
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>current</code></dt>
<dd>
<p>The current Eddington number.</p>
</dd>
<dt><code>cumulative</code></dt>
<dd>
<p>A vector of cumulative Eddington numbers.</p>
</dd>
<dt><code>number_to_next</code></dt>
<dd>
<p>The number of rides needed to get to the next
Eddington number.</p>
</dd>
<dt><code>n</code></dt>
<dd>
<p>The number of rides in the data.</p>
</dd>
<dt><code>hashmap</code></dt>
<dd>
<p>The hash map of rides above the current Eddington number.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Eddington-new"><code>Eddington$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Eddington-print"><code>Eddington$print()</code></a>
</p>
</li>
<li> <p><a href="#method-Eddington-update"><code>Eddington$update()</code></a>
</p>
</li>
<li> <p><a href="#method-Eddington-getNumberToTarget"><code>Eddington$getNumberToTarget()</code></a>
</p>
</li>
<li> <p><a href="#method-Eddington-isSatisfied"><code>Eddington$isSatisfied()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Eddington-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Create a new Eddington object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Eddington$new(rides, store.cumulative = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>rides</code></dt>
<dd>
<p>A vector of rides</p>
</dd>
<dt><code>store.cumulative</code></dt>
<dd>
<p>logical, indicating whether to keep a vector of
cumulative Eddington numbers</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A new <code>Eddington</code> object
</p>


<hr>
<a id="method-Eddington-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Print the current Eddington number.
</p>


<h5>Usage</h5>

<div class="r"><pre>Eddington$print()</pre></div>


<hr>
<a id="method-Eddington-update"></a>



<h4>Method <code>update()</code>
</h4>

<p>Add new rides to the existing <code>Eddington</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Eddington$update(rides)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>rides</code></dt>
<dd>
<p>A vector of rides</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Eddington-getNumberToTarget"></a>



<h4>Method <code>getNumberToTarget()</code>
</h4>

<p>Get the number of rides of a specified length to get to a target
Eddington number.
</p>


<h5>Usage</h5>

<div class="r"><pre>Eddington$getNumberToTarget(target)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>target</code></dt>
<dd>
<p>Target Eddington number</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>An integer representing the number of rides of target length
needed to achieve the target number.
</p>


<hr>
<a id="method-Eddington-isSatisfied"></a>



<h4>Method <code>isSatisfied()</code>
</h4>

<p>Test if an Eddington number is satisfied.
</p>


<h5>Usage</h5>

<div class="r"><pre>Eddington$isSatisfied(target)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>target</code></dt>
<dd>
<p>Target Eddington number</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Logical
</p>




<h3>Examples</h3>

<pre><code class="language-R"># Randomly generate a set of 15 rides
rides &lt;- rgamma(15, shape = 2, scale = 10)

# View the rides sorted in decreasing order
stats::setNames(sort(rides, decreasing = TRUE), seq_along(rides))

# Create the Eddington object
e &lt;- Eddington$new(rides, store.cumulative = TRUE)

# Get the Eddington number
e$current

# Update with new data
e$update(rep(25, 10))

# See the new data
e$cumulative
</code></pre>


</div>