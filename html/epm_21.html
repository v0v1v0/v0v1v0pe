<div class="container">

<table style="width: 100%;"><tr>
<td>generateOccurrenceMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert epmGrid to community matrix</h2>

<h3>Description</h3>

<p>Given specific sites (or all sites), convert epmGrid to 
a species occurrence matrix, with sites as rows, and species as columns.
</p>


<h3>Usage</h3>

<pre><code class="language-R">generateOccurrenceMatrix(x, sites)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object of class <code>epmGrid</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sites</code></td>
<td>
<p>locations of sites, see details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If sites are site coordinates, 
then this should be a dataframe or matrix with two columns; 
if sites are cell indices, then a numeric vector;
if <code>sites = 'all'</code>, then all cells will be returned as sites. 
</p>
<p>To get the associated site coordinates, see <code>coordsFromEpmGrid</code>.
</p>


<h3>Value</h3>

<p>a presence/absence matrix, with sites as 
rows and species as columns.
</p>


<h3>Author(s)</h3>

<p>Pascal Title
</p>


<h3>Examples</h3>

<pre><code class="language-R">tamiasEPM

# from cell indices
cells &lt;- c(2703, 90, 3112, 179)
generateOccurrenceMatrix(tamiasEPM, cells)

# get the associated site coordinates
coordsFromEpmGrid(tamiasEPM, cells)

# from coordinates
library(sf)
# get the projection of the epmGrid object
proj &lt;- summary(tamiasEPM)$crs
# define some points
pts &lt;- rbind.data.frame(
		c(-120.5, 38.82),
		c(-84.02, 42.75),
		c(-117.95, 55.53))
colnames(pts) &lt;- c('x', 'y')
ptsSF &lt;- st_as_sf(pts, coords = 1:2, crs = "epsg:4326")
pts &lt;- st_coordinates(st_transform(ptsSF, crs = proj))

generateOccurrenceMatrix(tamiasEPM, pts)


</code></pre>


</div>