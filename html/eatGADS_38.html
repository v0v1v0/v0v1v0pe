<div class="container">

<table style="width: 100%;"><tr>
<td>createLookup</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract values for recoding.</h2>

<h3>Description</h3>

<p>Extract unique values from one or multiple variables of a <code>GADSdat</code> object for recoding (e.g. via an Excel spreadsheet).
</p>


<h3>Usage</h3>

<pre><code class="language-R">createLookup(GADSdat, recodeVars, sort_by = NULL, addCols = c("value_new"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recodeVars</code></td>
<td>
<p>Character vector of variable names which should be recoded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort_by</code></td>
<td>
<p>By which column (<code>variable</code> and/or <code>value</code>) should the long format <code>data.frame</code> be sorted? If <code>NULL</code>, no sorting is performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addCols</code></td>
<td>
<p>Character vector of additional column names for recoding purposes.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If recoding of one or multiple variables is more complex, a lookup table can be created for later application via
<code>applyLookup</code> or <code>applyLookup_expandVar</code>. The function allows the extraction of the values
of multiple variables and sorting of these unique values via <code>variable</code> and/or <code>values</code>.
If <code>addCols</code> are specified the lookup table has to be formatted via <code>collapseColumns</code>,
before it can be applied to recode data.
</p>


<h3>Value</h3>

<p>Returns a data frame in long format with the following variables:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>Variables as specified in <code>recodeVars</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>Unique values of the variables specified in <code>recodeVars</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value_new</code></td>
<td>
<p>This is the default for <code>addCols</code>. If different additional column names are supplied, this column is missing.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># create example GADS
dat &lt;- data.frame(ID = 1:4, var1 = c(NA, "Eng", "Aus", "Aus2"),
                  var2 = c(NA, "French", "Ger", "Ita"),
                  stringsAsFactors = FALSE)
gads &lt;- import_DF(dat)

# create Lookup table for recoding
lookup &lt;- createLookup(gads, recodeVars = c("var1", "var2"), sort_by = c("value", "variable"))

# create Lookup table for recoding by multiple recoders
lookup2 &lt;- createLookup(gads, recodeVars = c("var1", "var2"), sort_by = c("value", "variable"),
                        addCols = c("value_recoder1", "value_recoder2"))

</code></pre>


</div>