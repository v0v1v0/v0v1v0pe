<div class="container">

<table style="width: 100%;"><tr>
<td>runoff_prev</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Runoff prevention</h2>

<h3>Description</h3>

<p>The indicator calculates the runoff prevention considering a rain event, the infiltration
capacity and the rain harvesting and storage capacity.
government.
</p>


<h3>Usage</h3>

<pre><code class="language-R">runoff_prev(
  x,
  runoff_df = NULL,
  rain = 85,
  floors_field = "floors",
  harvest_dist = 10,
  tank_size = c(0, 45)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An 'sf' object with the urban model of your city and a 'land_use' column with categories
of urban features.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>runoff_df</code></td>
<td>
<p>A dataframe of categories that are considered impervious area with three columns.
</p>

<ol>
<li>
<p> 'land_uses' with the names of 'land_use' in 'x' to be considered as impervious.
</p>
</li>
<li>
<p> Curve numbers columns 'CN1' and 'CN2' the range of curve number of that function.
</p>
</li>
<li>
<p> 'water_storage', a boolean column indicating whether the land_uses is potentially harvesting
and storing rainwater using a tank.
</p>
</li>
</ol>
<p>If NULL, categories and values of 'city_land_uses' are considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rain</code></td>
<td>
<p>The amount of 24h-rain to be simulated, default is 85 mm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>floors_field</code></td>
<td>
<p>The column in 'x' containing the number of floors of each building. Zero is considered
unbuilt areas like gardens or streets. It is used to calculate rainwater harvesting area, since only
upper surface are considered. Missing values are considered as zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>harvest_dist</code></td>
<td>
<p>Maximum distance (in meters) of buildings where to harvest rainwater</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tank_size</code></td>
<td>
<p>A two-length vector with the range of tank size possibilities, proportional
to the surface of each element where the tank size is located (in l/m2).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>It returns a named vector with values of runoff in mm, total rainfall
and harvested rainwater in cubic meters.
</p>


<h3>Author(s)</h3>

<p>Josep Pueyo-Ros
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Get the total values of runoff, rainfall and rain harvested
runoff_prev(city_example)

# Adjust the parameters for rain, maximum distance to harvest rainwater and tank size
runoff_prev(city_example, rain = 160, harvest_dist = 5, tank_size = c(20,30))
</code></pre>


</div>