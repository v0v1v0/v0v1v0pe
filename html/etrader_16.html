<div class="container">

<table style="width: 100%;"><tr>
<td>etrd_order_history</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ETrade order-related information</h2>

<h3>Description</h3>

<p>Provides the order details for a selected brokerage account based on the
search criteria provided.
</p>


<h3>Usage</h3>

<pre><code class="language-R">etrd_order_history(
  account,
  count = 100,
  status = NULL,
  fromDate = Sys.Date() - 30,
  toDate = Sys.Date(),
  symbol = NULL,
  securityType = NULL,
  transactionType = NULL,
  marketSession = NULL,
  output = c("df", "list"),
  access_tokens = NULL,
  etrade_cred = NULL,
  sandbox = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>account</code></td>
<td>
<p>The account ID key, not the account ID associated with the
specific account. Use <code>etrd_account_list</code> to identify the
proper account id key.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count</code></td>
<td>
<p>Number of orders to return with a max of 100</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>a valid status: OPEN, EXECUTED, CANCELLED, INDIVIDUAL_FILLS,
CANCEL_REQUESTED, EXPIRED, REJECTED, PARTIAL, DO_NOT_EXERCISE,
DONE_TRADE_EXECUTED</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fromDate</code></td>
<td>
<p>a date object for the start of the filter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toDate</code></td>
<td>
<p>a data object for the end of the filter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbol</code></td>
<td>
<p>a specific symbol to filter for</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>securityType</code></td>
<td>
<p>a valid security type: EQ, OPTN, MF, MMF</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transactionType</code></td>
<td>
<p>a valid transaction type: ATNM, BUY, SELL, SELL_SHORT,
BUY_TO_COVER, MF_EXCHANGE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marketSession</code></td>
<td>
<p>REGULAR, EXTENDED</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>Indicate whether the output should be in the form of a data
frame ('df') or list ('list'). Data frame is returned by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>access_tokens</code></td>
<td>
<p>Access tokens are created using
<code>etrd_auth_access_token</code>. This entry is not required because
the output is saved and retrieved from R options automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>etrade_cred</code></td>
<td>
<p>The output created from
<code>etrd_auth_credentials</code> when a valid ETRADE key and secret have
been passed. This entry is not required because the output is saved and
retrieved from R options automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sandbox</code></td>
<td>
<p>ETRADE offers a sandbox environment for validating API calls
and responses. If using the sandbox environment, this must be set to TRUE
in each function called throughout etrader. ETRADE states "Sandbox
responses use stored data that's intended to provide typical responses for
basic use cases. So the responses you receive will not contain current
data, and may not exactly match your requests in other ways." Essentially,
the responses will not match the requests entered but successful pull will
indicate whether the entry was valid or not.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list or df of orders
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Search for mutual fund buys over the last month
account_id = etrd_account_list()$accountIdKey[1]
etrd_order_history(account_id, transactionType = 'BUY', securityType = 'mf',
                status = 'EXECUTED', fromDate = Sys.Date()-30, toDate = Sys.Date())


## End(Not run)
</code></pre>


</div>