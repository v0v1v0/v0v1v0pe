<div class="container">

<table style="width: 100%;"><tr>
<td>kap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Kappa statistic</h2>

<h3>Description</h3>

<p>Measurement of agreement in categorization by 2 or more raters</p>


<h3>Usage</h3>

<pre><code class="language-R">kap(x, ...)

## Default S3 method:
kap(x, ...)

## S3 method for class 'table'
kap(x, decimal =3, wttable = NULL, print.wttable = FALSE, ...)

## S3 method for class '2.raters'
kap(x, rater2, decimal =3, ...)

## S3 method for class 'm.raters'
kap(x, decimal =3, ...)

## S3 method for class 'ByCategory'
kap(x, decimal =3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object serving the first argument for different methods
</p>

<table>
<tr>
<td style="text-align: left;">
        	</td>
<td style="text-align: left;"> FUNCTION </td>
<td style="text-align: left;"> 'x'</td>
</tr>
<tr>
<td style="text-align: left;">
        	</td>
<td style="text-align: left;"> 'kap.table' </td>
<td style="text-align: left;"> table</td>
</tr>
<tr>
<td style="text-align: left;">
         	</td>
<td style="text-align: left;"> 'kap.2.raters' </td>
<td style="text-align: left;"> rater1</td>
</tr>
<tr>
<td style="text-align: left;">
         	</td>
<td style="text-align: left;"> 'kap.m.raters' </td>
<td style="text-align: left;"> data frame with raters in column</td>
</tr>
<tr>
<td style="text-align: left;">
         	</td>
<td style="text-align: left;"> 'kap.ByCategory' </td>
<td style="text-align: left;"> data frame with categories in column</td>
</tr>
<tr>
<td style="text-align: left;">
       </td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decimal</code></td>
<td>
<p>number of decimal in the print</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wttable</code></td>
<td>
<p>cross tabulation of weights of agreement among categories. It can be NULL, "w" and "w2". Applicable only for 'kap.table' and 'kap.2.raters'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.wttable</code></td>
<td>
<p>whether the weights table will be printed out</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rater2</code></td>
<td>
<p>a vector or factor containing opinions of the second rater among two raters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or used by other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are two different principles for the calculation of the kappa statistic. 'kap.table' and 'kap.2.raters' use two fixed raters whereas 'kap.m.raters' and 'kap.ByCategory' are based on frequency of category of rating an individual received without a requirement that the raters must be fixed.
</p>
<p>'kap.table' analyses kappa statistics from a predefined table of agreement of two raters.
</p>
<p>'wttable' is important only if the rating can be more than 2 levels. If this argument is left as default or 'NULL', full agreement will be weighted as 1. Partial agreement is considered as non-agreement and weighted as 0. 
</p>
<p>When 'wttable = "w"' the weights are given by </p>
<p style="text-align: center;"><code class="reqn">1 - abs(i - j)/(1 - k)</code>
</p>
<p> where i and j index the rows and columns of the ratings and k is the maximum number of possible ratings. A weight of 1 indicates an observation of perfect agreement.
</p>
<p>When 'wttable = "w2", the weights are given by </p>
<p style="text-align: center;"><code class="reqn">1 - (abs(i - j)/(1 - k))^2.</code>
</p>
<p> In this case, weights of partial agreements will further increase.
</p>
<p>'wttable' can otherwise be defined by the user.
</p>
<p>'kap.2.raters' takes two vectors or factors, one for each of the two raters. Cross-tabulation of the two raters is displayed and automatically forwarded for computation of kappa statistic by 'kap.table'.
</p>
<p>'kap.m.raters' is used for more than 2 raters. Although the variables are arranged based on columns of individual raters, only the frequency in each category rating is used. This function calculates the frequencies without any display and automatically forwards the results for computation by 'kap.ByCategory'.
</p>
<p>'kap.ByCategory' is for the grouped data format, where each category (column) contains the counts for each individual subject being rated.  As mentioned above, the frequencies can come from different sets of raters.
</p>


<h3>Author(s)</h3>

<p>Virasakdi Chongsuvivatwong
<a href="mailto:cvirasak@gmail.com">cvirasak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>'table'</p>


<h3>Examples</h3>

<pre><code class="language-R">## Computation of kappa from a table
class  &lt;- c("Normal","Benign","Suspect","Cancer")
raterA &lt;- gl(4,4, label=class)
raterB &lt;- gl(4,1,16, label=class)
freq   &lt;- c(50,2,0,1,2,30,4,3,0,0,20,1,1,3,4,25)
table1 &lt;- xtabs(freq ~ raterA + raterB)
table1
kap(table1)
wt &lt;-c(1,.5,0,0,.5,1,0,0,0,0,1,.8,0,0,.8,1)
wttable &lt;- xtabs(wt ~ raterA + raterB)
wttable # Agreement between benign vs normal is .5, suspect vs cancer is .8
kap(table1, wttable=wttable, print.wttable=TRUE)

# The following two lines are computational possible but inappropriate
kap(table1, wttable = "w", print.wttable=TRUE)
kap(table1, wttable = "w2", print.wttable=TRUE)

## A data set from 5 raters with 3 possible categories.
category.lab &lt;- c("yes","no","Don't know")
rater1 &lt;- factor(c(1,1,3,1,1,1,1,2,1,1), labels=category.lab)
rater2 &lt;- factor(c(2,1,3,1,1,2,1,2,3,1), labels=category.lab)
rater3 &lt;- factor(c(2,3,3,1,1,2,1,2,3,1), labels=category.lab)
rater4 &lt;- factor(c(2,3,3,1,3,2,1,2,3,3), labels=category.lab)
rater5 &lt;- factor(c(2,3,3,3,3,2,1,3,3,3), labels=category.lab)
kap.m.raters(data.frame(rater1,rater2,rater3,rater4,rater5))

# The above is the same as
YES &lt;- c(1,2,0,4,3,1,5,0,1,3)
NO &lt;- c(4,0,0,0,0,4,0,4,0,0)
DONTKNOW &lt;- c(0,3,5,1,2,0,0,1,4,2)
kap.ByCategory(data.frame(YES,NO,DONTKNOW))

# Using 'kap.m.raters' for 2 raters is inappropriate. Kappa obtained
# from this method assumes that the agreement can come from any two raters,
# which is usually not the case.
kap.m.raters(data.frame(rater1, rater2))
# 'kap.2.raters' gives correct results
kap.2.raters(rater1, rater2)

# When there are missing values,
rater3[9] &lt;- NA; rater4[c(1,9)] &lt;- NA
kap.m.raters(data.frame(rater1,rater2,rater3,rater4,rater5))
# standard errors and other related statistics are not available.

# Two exclusive rating categories give only one common set of results.
# The standard error is obtainable even if the numbers of raters vary
# among individual subjects being rated.
totalRaters &lt;- c(2,2,3,4,3,4,3,5,2,4,5,3,4,4,2,2,3,2,4,5,3,4,3,3,2)
pos &lt;- c(2,0,2,3,3,1,0,0,0,4,5,3,4,3,0,2,1,1,1,4,2,0,0,3,2)
neg &lt;- totalRaters - pos
kap.ByCategory(data.frame(neg, pos))
</code></pre>


</div>