<div class="container">

<table style="width: 100%;"><tr>
<td>test_diff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Non-inferiority and equivalence test for the difference of two parametric survival curves</h2>

<h3>Description</h3>

<p>Function for fitting and testing two parametric survival curves <code class="reqn">S_1</code>, <code class="reqn">S_2</code> at <code class="reqn">t_0</code> concerning the
hypotheses of non-inferiority </p>
<p style="text-align: center;"><code class="reqn">H_0:S_1(t_0)-S_2(t_0)\geq \epsilon\ vs.\ H_1: S_1(t_0)-S_2(t_0)&lt; \epsilon</code>
</p>

<p>or equivalence </p>
<p style="text-align: center;"><code class="reqn">H_0:|S_1(t_0)-S_2(t_0)|\geq \epsilon\ vs.\ H_1: |S_1(t_0)-S_2(t_0)|&lt; \epsilon.</code>
</p>

<p><code class="reqn">m_1</code> and <code class="reqn">m_2</code> are parametric survival models following a Weibull, exponential, gaussian, logistic, log-normal or log-logistic distribution.
The test procedure is based on confidence intervals obtained via bootstrap.
For the generation of the bootstrap data exponentially distributed random censoring is assumed and the rates estimated from the datasets.
See Moellenhoff and Tresch &lt;arXiv:2009.06699&gt; for details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">test_diff(
  epsilon,
  alpha,
  t0,
  type,
  m1,
  m2,
  B = 1000,
  plot = TRUE,
  data_r,
  data_t
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>epsilon</code></td>
<td>
<p>non-inferiority/equivalence margin</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>significance level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t0</code></td>
<td>
<p>time point of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of the test. "ni" for non-inferiority, "eq" for equivalence test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m1, m2</code></td>
<td>
<p>type of parametric model. Possible model types are "weibull", "exponential", "gaussian", "logistic", "lognormal" and "loglogistic"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>number of bootstrap repetitions. The default is B=1000</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>if TRUE, a plot of the two survival curves will be given</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_r, data_t</code></td>
<td>
<p>datasets containing time and status for each individual (have to be referenced as this)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the difference <code class="reqn">S_1(t_0)-S_2(t_0)</code>, the lower and upper (1-<code class="reqn">\alpha</code>)-confidence bounds, the summary of the two model fits, the chosen margin and significance level and the test decision. Further a plot of the curves is given.
</p>


<h3>References</h3>

<p>K.Moellenhoff and A.Tresch: Survival analysis under non-proportional hazards: investigating non-inferiority or equivalence in time-to-event data &lt;arXiv:2009.06699&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(veteran)
veteran_r &lt;- veteran[veteran$trt==1,]
veteran_t &lt;- veteran[veteran$trt==2,]
alpha&lt;-0.05
t0&lt;-80
epsilon&lt;-0.15
test_diff(epsilon=epsilon,alpha=alpha,t0=t0,type="eq",m1="weibull",m2="weibull",
data_r=veteran_r,data_t=veteran_t)
</code></pre>


</div>