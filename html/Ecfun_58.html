<div class="container">

<table style="width: 100%;"><tr>
<td>pmatch2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Value matching or partial matching
</h2>

<h3>Description</h3>

<p><code>pmatch2</code> returns a list of the positions 
of matches or partial matches of <code>x</code> in
<code>table</code>.  
</p>
<p>This does sloppy matching to find "Peter" 
to match "Pete" only if "Pete" is not in
<code>table</code>, and we want "John Peter" if 
neither "Pete" nor "Peter" are in 
<code>table</code>.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">pmatch2(x, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>the values to be matched
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>

<p>the values to be matched against
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>1.  <code>nx &lt;- length(x); 
  out &lt;- vector(nx, "list"); 
  names(out) &lt;- x</code>
</p>
<p>2.  <code>for(ix in seq(length=nx))</code>:  
3.  <code>xi &lt;- which(x[ix] %in% table)</code>
</p>
<p>4.  <code>if(length(xi)&lt;1)
  xi &lt;- grep(paste0('^', x[ix]), table)</code>.  
</p>
<p>5.  <code>if(length(xi)&lt;1)xi &lt;- 
  grep(x[ix], table)</code>.  
</p>
<p>6.  <code>out[[ix]] &lt;- xi</code> 
</p>


<h3>Value</h3>

<p>A list of integer vectors indicating the 
positions in <code>table</code> matching each element 
of <code>x</code>
</p>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code>match</code>
<code>pmatch</code>
<code>grep</code>
<code>matchName</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## 1.  common examples 
##
x2match &lt;- c('Pete', 'Peter', 'Ma', 'Mo', 'Paul', 
             'Cardenas')

tbl &lt;- c('Peter', 'Mary', 'Martha', 'John Paul', 'Peter', 
         'Cardenas', 'Cardenas') 

x2mtchd &lt;- pmatch2(x2match, tbl) 

# answer
x2mtchd. &lt;- list(Pete=c(1, 5), Peter=c(1, 5), Ma=2:3, 
    Mo=integer(0), Paul=4, Cardenas=6:7)

all.equal(x2mtchd, x2mtchd.)

##
## 2.  strange cases that caused errors and are now warnings
##
huh &lt;- pmatch2("(7", tbl)

# answer 
huh. &lt;- list("(7"=integer(0))

all.equal(huh, huh.)


</code></pre>


</div>