<div class="container">

<table style="width: 100%;"><tr>
<td>enve.barplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Enveomics: Barplot</h2>

<h3>Description</h3>

<p>Creates nice barplots from tab-delimited tables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">enve.barplot(
  x,
  sizes,
  top = 25,
  colors.per.group = 9,
  bars.width = 4,
  legend.ncol = 1,
  other.col = "#000000",
  add.trend = FALSE,
  organic.trend = FALSE,
  sort.by = median,
  min.report = 101,
  order = NULL,
  col,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Can be either the input data or the path to the file containing 
the table. 
</p>

<ul>
<li>
<p>If it contains the data, it must be a data frame or an
object coercible to a data frame. 
</p>
</li>
<li>
<p>If it is a path, it must point to a
tab-delimited file containing a header (first row) and row names 
(first column).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sizes</code></td>
<td>
<p>A numeric vector containing the real size of the samples
(columns) in the same order of the input table. If set, the values are
assumed to be 100%. Otherwise, the sum of the columns is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>Maximum number of categories to display. Any additional
categories will be listed as "Others".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors.per.group</code></td>
<td>
<p>Number of categories in the first two saturation 
groups of colors. The third group contains the remaining categories if 
needed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bars.width</code></td>
<td>
<p>Width of the barplot with respect to the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.ncol</code></td>
<td>
<p>Number of columns in the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>other.col</code></td>
<td>
<p>Color of the "Others" category.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.trend</code></td>
<td>
<p>Controls if semi-transparent areas are to be plotted
between the bars to connect the regions (trend regions).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>organic.trend</code></td>
<td>
<p>Controls if the trend regions are to be smoothed 
(curves). By default, trend regions have straight edges. If <code>TRUE</code>, 
forces <code>add.trend=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort.by</code></td>
<td>
<p>Any function that takes a numeric vector and returns a
numeric scalar. This function is applied to each row, and the resulting
values are used to sort the rows (decreasingly). Good options include: 
<code>sd, min, max, mean, median</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.report</code></td>
<td>
<p>Minimum percentage to report the value in the plot.
Any value above 100 indicates that no values are to be reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>Controls how the rows should be ordered. 
</p>

<ul>
<li>
<p>If <code>NULL</code> (default), <code>sort.by</code> is applied per row and the
results are sorted decreasingly.

</p>
</li>
<li>
<p>If <code>NA</code>, no sorting is performed, i.e., the original order is
respected.

</p>
</li>
<li>
<p>If a vector is provided, it is assumed to be the custom order to be used
(either by numeric index or by row names).

</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Colors to use. If provided, overrides the variables <code>top</code>
and <code>colors.per.group</code>, but <code>other.col</code> is still used if the 
vector is insufficient for all the rows. An additional palette is available
with <code>col='coto'</code> (contributed by Luis (Coto) Orellana).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any additional parameters to be passed to barplot.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>No return value
</p>


<h3>Author(s)</h3>

<p>Luis M. Rodriguez-R [aut, cre]
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load data
data("phyla.counts", package = "enveomics.R", envir = environment())
# Create a barplot sorted by variance with organic trends
enve.barplot(
  phyla.counts, # Counts of phyla in four sites
  sizes = c(250,100,75,200), # Total sizes of the datasets of each site
  bars.width = 2, # Decrease from default, so the names are fully displayed
  organic.trend = TRUE, # Nice curvy background
  sort.by = var # Sort by variance across sites
)

</code></pre>


</div>